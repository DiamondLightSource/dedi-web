var GY=Object.defineProperty;var jY=(t,e,n)=>e in t?GY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var XY=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var jc=(t,e,n)=>(jY(t,typeof e!="symbol"?e+"":e,n),n);var j$e=XY((es,ts)=>{function qY(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Au(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YY(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var X8={exports:{}},pM={},q8={exports:{}},On={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1=Symbol.for("react.element"),KY=Symbol.for("react.portal"),ZY=Symbol.for("react.fragment"),QY=Symbol.for("react.strict_mode"),JY=Symbol.for("react.profiler"),eK=Symbol.for("react.provider"),tK=Symbol.for("react.context"),nK=Symbol.for("react.forward_ref"),rK=Symbol.for("react.suspense"),iK=Symbol.for("react.memo"),oK=Symbol.for("react.lazy"),F4=Symbol.iterator;function aK(t){return t===null||typeof t!="object"?null:(t=F4&&t[F4]||t["@@iterator"],typeof t=="function"?t:null)}var Y8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K8=Object.assign,Z8={};function c0(t,e,n){this.props=t,this.context=e,this.refs=Z8,this.updater=n||Y8}c0.prototype.isReactComponent={};c0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};c0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q8(){}Q8.prototype=c0.prototype;function iP(t,e,n){this.props=t,this.context=e,this.refs=Z8,this.updater=n||Y8}var oP=iP.prototype=new Q8;oP.constructor=iP;K8(oP,c0.prototype);oP.isPureReactComponent=!0;var U4=Array.isArray,J8=Object.prototype.hasOwnProperty,aP={current:null},e6={key:!0,ref:!0,__self:!0,__source:!0};function t6(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)J8.call(e,r)&&!e6.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Y1,type:t,key:o,ref:a,props:i,_owner:aP.current}}function sK(t,e){return{$$typeof:Y1,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sP(t){return typeof t=="object"&&t!==null&&t.$$typeof===Y1}function lK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var z4=/\/+/g;function pC(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lK(""+t.key):e.toString(36)}function Mw(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Y1:case KY:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+pC(a,0):r,U4(i)?(n="",t!=null&&(n=t.replace(z4,"$&/")+"/"),Mw(i,e,n,"",function(c){return c})):i!=null&&(sP(i)&&(i=sK(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(z4,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",U4(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+pC(o,s);a+=Mw(o,e,n,l,i)}else if(l=aK(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+pC(o,s++),a+=Mw(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function $b(t,e,n){if(t==null)return t;var r=[],i=0;return Mw(t,r,"","",function(o){return e.call(n,o,i++)}),r}function cK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xo={current:null},Ew={transition:null},uK={ReactCurrentDispatcher:Xo,ReactCurrentBatchConfig:Ew,ReactCurrentOwner:aP};On.Children={map:$b,forEach:function(t,e,n){$b(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $b(t,function(){e++}),e},toArray:function(t){return $b(t,function(e){return e})||[]},only:function(t){if(!sP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};On.Component=c0;On.Fragment=ZY;On.Profiler=JY;On.PureComponent=iP;On.StrictMode=QY;On.Suspense=rK;On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uK;On.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=K8({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=aP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)J8.call(e,l)&&!e6.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Y1,type:t.type,key:i,ref:o,props:r,_owner:a}};On.createContext=function(t){return t={$$typeof:tK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eK,_context:t},t.Consumer=t};On.createElement=t6;On.createFactory=function(t){var e=t6.bind(null,t);return e.type=t,e};On.createRef=function(){return{current:null}};On.forwardRef=function(t){return{$$typeof:nK,render:t}};On.isValidElement=sP;On.lazy=function(t){return{$$typeof:oK,_payload:{_status:-1,_result:t},_init:cK}};On.memo=function(t,e){return{$$typeof:iK,type:t,compare:e===void 0?null:e}};On.startTransition=function(t){var e=Ew.transition;Ew.transition={};try{t()}finally{Ew.transition=e}};On.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};On.useCallback=function(t,e){return Xo.current.useCallback(t,e)};On.useContext=function(t){return Xo.current.useContext(t)};On.useDebugValue=function(){};On.useDeferredValue=function(t){return Xo.current.useDeferredValue(t)};On.useEffect=function(t,e){return Xo.current.useEffect(t,e)};On.useId=function(){return Xo.current.useId()};On.useImperativeHandle=function(t,e,n){return Xo.current.useImperativeHandle(t,e,n)};On.useInsertionEffect=function(t,e){return Xo.current.useInsertionEffect(t,e)};On.useLayoutEffect=function(t,e){return Xo.current.useLayoutEffect(t,e)};On.useMemo=function(t,e){return Xo.current.useMemo(t,e)};On.useReducer=function(t,e,n){return Xo.current.useReducer(t,e,n)};On.useRef=function(t){return Xo.current.useRef(t)};On.useState=function(t){return Xo.current.useState(t)};On.useSyncExternalStore=function(t,e,n){return Xo.current.useSyncExternalStore(t,e,n)};On.useTransition=function(){return Xo.current.useTransition()};On.version="18.2.0";q8.exports=On;var F=q8.exports;const Z=Au(F),MA=qY({__proto__:null,default:Z},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fK=F,dK=Symbol.for("react.element"),hK=Symbol.for("react.fragment"),pK=Object.prototype.hasOwnProperty,mK=fK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gK={key:!0,ref:!0,__self:!0,__source:!0};function n6(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)pK.call(e,r)&&!gK.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dK,type:t,key:o,ref:a,props:i,_owner:mK.current}}pM.Fragment=hK;pM.jsx=n6;pM.jsxs=n6;X8.exports=pM;var k=X8.exports,EA={},r6={exports:{}},cs={},i6={exports:{}},o6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,q){var te=H.length;H.push(q);e:for(;0<te;){var Q=te-1>>>1,ae=H[Q];if(0<i(ae,q))H[Q]=q,H[te]=ae,te=Q;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var q=H[0],te=H.pop();if(te!==q){H[0]=te;e:for(var Q=0,ae=H.length,xe=ae>>>1;Q<xe;){var we=2*(Q+1)-1,Te=H[we],Ve=we+1,Ye=H[Ve];if(0>i(Te,te))Ve<ae&&0>i(Ye,Te)?(H[Q]=Ye,H[Ve]=te,Q=Ve):(H[Q]=Te,H[we]=te,Q=we);else if(Ve<ae&&0>i(Ye,te))H[Q]=Ye,H[Ve]=te,Q=Ve;else break e}}return q}function i(H,q){var te=H.sortIndex-q.sortIndex;return te!==0?te:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],f=1,p=null,m=3,v=!1,x=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(H){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=H)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function C(H){if(_=!1,M(H),!x)if(n(l)!==null)x=!0,ie(P);else{var q=n(c);q!==null&&se(C,q.startTime-H)}}function P(H,q){x=!1,_&&(_=!1,y(U),U=-1),v=!0;var te=m;try{for(M(q),p=n(l);p!==null&&(!(p.expirationTime>q)||H&&!B());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,m=p.priorityLevel;var ae=Q(p.expirationTime<=q);q=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(l)&&r(l),M(q)}else r(l);p=n(l)}if(p!==null)var xe=!0;else{var we=n(c);we!==null&&se(C,we.startTime-q),xe=!1}return xe}finally{p=null,m=te,v=!1}}var A=!1,R=null,U=-1,O=5,N=-1;function B(){return!(t.unstable_now()-N<O)}function Y(){if(R!==null){var H=t.unstable_now();N=H;var q=!0;try{q=R(!0,H)}finally{q?J():(A=!1,R=null)}}else A=!1}var J;if(typeof S=="function")J=function(){S(Y)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ne=G.port2;G.port1.onmessage=Y,J=function(){ne.postMessage(null)}}else J=function(){b(Y,0)};function ie(H){R=H,A||(A=!0,J())}function se(H,q){U=b(function(){H(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,ie(P))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var te=m;m=q;try{return H()}finally{m=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=m;m=H;try{return q()}finally{m=te}},t.unstable_scheduleCallback=function(H,q,te){var Q=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Q+te:Q):te=Q,H){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=te+ae,H={id:f++,callback:q,priorityLevel:H,startTime:te,expirationTime:ae,sortIndex:-1},te>Q?(H.sortIndex=te,e(c,H),n(l)===null&&H===n(c)&&(_?(y(U),U=-1):_=!0,se(C,te-Q))):(H.sortIndex=ae,e(l,H),x||v||(x=!0,ie(P))),H},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(H){var q=m;return function(){var te=m;m=q;try{return H.apply(this,arguments)}finally{m=te}}}})(o6);i6.exports=o6;var vK=i6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a6=F,as=vK;function nt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s6=new Set,Gy={};function np(t,e){Bg(t,e),Bg(t+"Capture",e)}function Bg(t,e){for(Gy[t]=e,t=0;t<e.length;t++)s6.add(e[t])}var yu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CA=Object.prototype.hasOwnProperty,yK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B4={},$4={};function xK(t){return CA.call($4,t)?!0:CA.call(B4,t)?!1:yK.test(t)?$4[t]=!0:(B4[t]=!0,!1)}function bK(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _K(t,e,n,r){if(e===null||typeof e>"u"||bK(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qo(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var io={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){io[t]=new qo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];io[e]=new qo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){io[t]=new qo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){io[t]=new qo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){io[t]=new qo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){io[t]=new qo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){io[t]=new qo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){io[t]=new qo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){io[t]=new qo(t,5,!1,t.toLowerCase(),null,!1,!1)});var lP=/[\-:]([a-z])/g;function cP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lP,cP);io[e]=new qo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lP,cP);io[e]=new qo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lP,cP);io[e]=new qo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){io[t]=new qo(t,1,!1,t.toLowerCase(),null,!1,!1)});io.xlinkHref=new qo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){io[t]=new qo(t,1,!1,t.toLowerCase(),null,!0,!0)});function uP(t,e,n,r){var i=io.hasOwnProperty(e)?io[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_K(e,n,i,r)&&(n=null),r||i===null?xK(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ru=a6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hb=Symbol.for("react.element"),rg=Symbol.for("react.portal"),ig=Symbol.for("react.fragment"),fP=Symbol.for("react.strict_mode"),TA=Symbol.for("react.profiler"),l6=Symbol.for("react.provider"),c6=Symbol.for("react.context"),dP=Symbol.for("react.forward_ref"),AA=Symbol.for("react.suspense"),RA=Symbol.for("react.suspense_list"),hP=Symbol.for("react.memo"),Sf=Symbol.for("react.lazy"),u6=Symbol.for("react.offscreen"),H4=Symbol.iterator;function wv(t){return t===null||typeof t!="object"?null:(t=H4&&t[H4]||t["@@iterator"],typeof t=="function"?t:null)}var Fr=Object.assign,mC;function ry(t){if(mC===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mC=e&&e[1]||""}return`
`+mC+t}var gC=!1;function vC(t,e){if(!t||gC)return"";gC=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{gC=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ry(t):""}function wK(t){switch(t.tag){case 5:return ry(t.type);case 16:return ry("Lazy");case 13:return ry("Suspense");case 19:return ry("SuspenseList");case 0:case 2:case 15:return t=vC(t.type,!1),t;case 11:return t=vC(t.type.render,!1),t;case 1:return t=vC(t.type,!0),t;default:return""}}function PA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ig:return"Fragment";case rg:return"Portal";case TA:return"Profiler";case fP:return"StrictMode";case AA:return"Suspense";case RA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case c6:return(t.displayName||"Context")+".Consumer";case l6:return(t._context.displayName||"Context")+".Provider";case dP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hP:return e=t.displayName||null,e!==null?e:PA(t.type)||"Memo";case Sf:e=t._payload,t=t._init;try{return PA(t(e))}catch{}}return null}function SK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return PA(e);case 8:return e===fP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function f6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MK(t){var e=f6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vb(t){t._valueTracker||(t._valueTracker=MK(t))}function d6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=f6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function IA(t,e){var n=e.checked;return Fr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V4(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function h6(t,e){e=e.checked,e!=null&&uP(t,"checked",e,!1)}function LA(t,e){h6(t,e);var n=Xf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?OA(t,e.type,n):e.hasOwnProperty("defaultValue")&&OA(t,e.type,Xf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function W4(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function OA(t,e,n){(e!=="number"||tS(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var iy=Array.isArray;function wg(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xf(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(nt(91));return Fr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function G4(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(nt(92));if(iy(n)){if(1<n.length)throw Error(nt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xf(n)}}function p6(t,e){var n=Xf(e.value),r=Xf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function NA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wb,g6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wb=Wb||document.createElement("div"),Wb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wb.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jy(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EK=["Webkit","ms","Moz","O"];Object.keys(gy).forEach(function(t){EK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gy[e]=gy[t]})});function v6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gy.hasOwnProperty(t)&&gy[t]?(""+e).trim():e+"px"}function y6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=v6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var CK=Fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DA(t,e){if(e){if(CK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(nt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(nt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(nt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(nt(62))}}function FA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UA=null;function pP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zA=null,Sg=null,Mg=null;function X4(t){if(t=Q1(t)){if(typeof zA!="function")throw Error(nt(280));var e=t.stateNode;e&&(e=xM(e),zA(t.stateNode,t.type,e))}}function x6(t){Sg?Mg?Mg.push(t):Mg=[t]:Sg=t}function b6(){if(Sg){var t=Sg,e=Mg;if(Mg=Sg=null,X4(t),e)for(t=0;t<e.length;t++)X4(e[t])}}function _6(t,e){return t(e)}function w6(){}var yC=!1;function S6(t,e,n){if(yC)return t(e,n);yC=!0;try{return _6(t,e,n)}finally{yC=!1,(Sg!==null||Mg!==null)&&(w6(),b6())}}function Xy(t,e){var n=t.stateNode;if(n===null)return null;var r=xM(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(nt(231,e,typeof n));return n}var BA=!1;if(yu)try{var Sv={};Object.defineProperty(Sv,"passive",{get:function(){BA=!0}}),window.addEventListener("test",Sv,Sv),window.removeEventListener("test",Sv,Sv)}catch{BA=!1}function TK(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var vy=!1,nS=null,rS=!1,$A=null,AK={onError:function(t){vy=!0,nS=t}};function RK(t,e,n,r,i,o,a,s,l){vy=!1,nS=null,TK.apply(AK,arguments)}function PK(t,e,n,r,i,o,a,s,l){if(RK.apply(this,arguments),vy){if(vy){var c=nS;vy=!1,nS=null}else throw Error(nt(198));rS||(rS=!0,$A=c)}}function rp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function M6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q4(t){if(rp(t)!==t)throw Error(nt(188))}function IK(t){var e=t.alternate;if(!e){if(e=rp(t),e===null)throw Error(nt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return q4(i),t;if(o===r)return q4(i),e;o=o.sibling}throw Error(nt(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(nt(189))}}if(n.alternate!==r)throw Error(nt(190))}if(n.tag!==3)throw Error(nt(188));return n.stateNode.current===n?t:e}function E6(t){return t=IK(t),t!==null?C6(t):null}function C6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=C6(t);if(e!==null)return e;t=t.sibling}return null}var T6=as.unstable_scheduleCallback,Y4=as.unstable_cancelCallback,LK=as.unstable_shouldYield,OK=as.unstable_requestPaint,oi=as.unstable_now,kK=as.unstable_getCurrentPriorityLevel,mP=as.unstable_ImmediatePriority,A6=as.unstable_UserBlockingPriority,iS=as.unstable_NormalPriority,NK=as.unstable_LowPriority,R6=as.unstable_IdlePriority,mM=null,lc=null;function DK(t){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(mM,t,void 0,(t.current.flags&128)===128)}catch{}}var El=Math.clz32?Math.clz32:zK,FK=Math.log,UK=Math.LN2;function zK(t){return t>>>=0,t===0?32:31-(FK(t)/UK|0)|0}var Gb=64,jb=4194304;function oy(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oS(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=oy(s):(o&=a,o!==0&&(r=oy(o)))}else a=n&~i,a!==0?r=oy(a):o!==0&&(r=oy(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-El(e),i=1<<n,r|=t[n],e&=~i;return r}function BK(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $K(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-El(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=BK(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function HA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function P6(){var t=Gb;return Gb<<=1,!(Gb&4194240)&&(Gb=64),t}function xC(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function K1(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-El(e),t[e]=n}function HK(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-El(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function gP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-El(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Jn=0;function I6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var L6,vP,O6,k6,N6,VA=!1,Xb=[],Lf=null,Of=null,kf=null,qy=new Map,Yy=new Map,Cf=[],VK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K4(t,e){switch(t){case"focusin":case"focusout":Lf=null;break;case"dragenter":case"dragleave":Of=null;break;case"mouseover":case"mouseout":kf=null;break;case"pointerover":case"pointerout":qy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yy.delete(e.pointerId)}}function Mv(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Q1(e),e!==null&&vP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function WK(t,e,n,r,i){switch(e){case"focusin":return Lf=Mv(Lf,t,e,n,r,i),!0;case"dragenter":return Of=Mv(Of,t,e,n,r,i),!0;case"mouseover":return kf=Mv(kf,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return qy.set(o,Mv(qy.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yy.set(o,Mv(Yy.get(o)||null,t,e,n,r,i)),!0}return!1}function D6(t){var e=vh(t.target);if(e!==null){var n=rp(e);if(n!==null){if(e=n.tag,e===13){if(e=M6(n),e!==null){t.blockedOn=e,N6(t.priority,function(){O6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=WA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);UA=r,n.target.dispatchEvent(r),UA=null}else return e=Q1(n),e!==null&&vP(e),t.blockedOn=n,!1;e.shift()}return!0}function Z4(t,e,n){Cw(t)&&n.delete(e)}function GK(){VA=!1,Lf!==null&&Cw(Lf)&&(Lf=null),Of!==null&&Cw(Of)&&(Of=null),kf!==null&&Cw(kf)&&(kf=null),qy.forEach(Z4),Yy.forEach(Z4)}function Ev(t,e){t.blockedOn===e&&(t.blockedOn=null,VA||(VA=!0,as.unstable_scheduleCallback(as.unstable_NormalPriority,GK)))}function Ky(t){function e(i){return Ev(i,t)}if(0<Xb.length){Ev(Xb[0],t);for(var n=1;n<Xb.length;n++){var r=Xb[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Lf!==null&&Ev(Lf,t),Of!==null&&Ev(Of,t),kf!==null&&Ev(kf,t),qy.forEach(e),Yy.forEach(e),n=0;n<Cf.length;n++)r=Cf[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cf.length&&(n=Cf[0],n.blockedOn===null);)D6(n),n.blockedOn===null&&Cf.shift()}var Eg=Ru.ReactCurrentBatchConfig,aS=!0;function jK(t,e,n,r){var i=Jn,o=Eg.transition;Eg.transition=null;try{Jn=1,yP(t,e,n,r)}finally{Jn=i,Eg.transition=o}}function XK(t,e,n,r){var i=Jn,o=Eg.transition;Eg.transition=null;try{Jn=4,yP(t,e,n,r)}finally{Jn=i,Eg.transition=o}}function yP(t,e,n,r){if(aS){var i=WA(t,e,n,r);if(i===null)RC(t,e,r,sS,n),K4(t,r);else if(WK(i,t,e,n,r))r.stopPropagation();else if(K4(t,r),e&4&&-1<VK.indexOf(t)){for(;i!==null;){var o=Q1(i);if(o!==null&&L6(o),o=WA(t,e,n,r),o===null&&RC(t,e,r,sS,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else RC(t,e,r,null,n)}}var sS=null;function WA(t,e,n,r){if(sS=null,t=pP(r),t=vh(t),t!==null)if(e=rp(t),e===null)t=null;else if(n=e.tag,n===13){if(t=M6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sS=t,null}function F6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kK()){case mP:return 1;case A6:return 4;case iS:case NK:return 16;case R6:return 536870912;default:return 16}default:return 16}}var Pf=null,xP=null,Tw=null;function U6(){if(Tw)return Tw;var t,e=xP,n=e.length,r,i="value"in Pf?Pf.value:Pf.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Tw=i.slice(t,1<r?1-r:void 0)}function Aw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qb(){return!0}function Q4(){return!1}function us(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?qb:Q4,this.isPropagationStopped=Q4,this}return Fr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qb)},persist:function(){},isPersistent:qb}),e}var u0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bP=us(u0),Z1=Fr({},u0,{view:0,detail:0}),qK=us(Z1),bC,_C,Cv,gM=Fr({},Z1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_P,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cv&&(Cv&&t.type==="mousemove"?(bC=t.screenX-Cv.screenX,_C=t.screenY-Cv.screenY):_C=bC=0,Cv=t),bC)},movementY:function(t){return"movementY"in t?t.movementY:_C}}),J4=us(gM),YK=Fr({},gM,{dataTransfer:0}),KK=us(YK),ZK=Fr({},Z1,{relatedTarget:0}),wC=us(ZK),QK=Fr({},u0,{animationName:0,elapsedTime:0,pseudoElement:0}),JK=us(QK),eZ=Fr({},u0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tZ=us(eZ),nZ=Fr({},u0,{data:0}),ek=us(nZ),rZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aZ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oZ[t])?!!e[t]:!1}function _P(){return aZ}var sZ=Fr({},Z1,{key:function(t){if(t.key){var e=rZ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Aw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iZ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_P,charCode:function(t){return t.type==="keypress"?Aw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Aw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lZ=us(sZ),cZ=Fr({},gM,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tk=us(cZ),uZ=Fr({},Z1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_P}),fZ=us(uZ),dZ=Fr({},u0,{propertyName:0,elapsedTime:0,pseudoElement:0}),hZ=us(dZ),pZ=Fr({},gM,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mZ=us(pZ),gZ=[9,13,27,32],wP=yu&&"CompositionEvent"in window,yy=null;yu&&"documentMode"in document&&(yy=document.documentMode);var vZ=yu&&"TextEvent"in window&&!yy,z6=yu&&(!wP||yy&&8<yy&&11>=yy),nk=String.fromCharCode(32),rk=!1;function B6(t,e){switch(t){case"keyup":return gZ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var og=!1;function yZ(t,e){switch(t){case"compositionend":return $6(e);case"keypress":return e.which!==32?null:(rk=!0,nk);case"textInput":return t=e.data,t===nk&&rk?null:t;default:return null}}function xZ(t,e){if(og)return t==="compositionend"||!wP&&B6(t,e)?(t=U6(),Tw=xP=Pf=null,og=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return z6&&e.locale!=="ko"?null:e.data;default:return null}}var bZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ik(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bZ[t.type]:e==="textarea"}function H6(t,e,n,r){x6(r),e=lS(e,"onChange"),0<e.length&&(n=new bP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xy=null,Zy=null;function _Z(t){J6(t,0)}function vM(t){var e=lg(t);if(d6(e))return t}function wZ(t,e){if(t==="change")return e}var V6=!1;if(yu){var SC;if(yu){var MC="oninput"in document;if(!MC){var ok=document.createElement("div");ok.setAttribute("oninput","return;"),MC=typeof ok.oninput=="function"}SC=MC}else SC=!1;V6=SC&&(!document.documentMode||9<document.documentMode)}function ak(){xy&&(xy.detachEvent("onpropertychange",W6),Zy=xy=null)}function W6(t){if(t.propertyName==="value"&&vM(Zy)){var e=[];H6(e,Zy,t,pP(t)),S6(_Z,e)}}function SZ(t,e,n){t==="focusin"?(ak(),xy=e,Zy=n,xy.attachEvent("onpropertychange",W6)):t==="focusout"&&ak()}function MZ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vM(Zy)}function EZ(t,e){if(t==="click")return vM(e)}function CZ(t,e){if(t==="input"||t==="change")return vM(e)}function TZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tl=typeof Object.is=="function"?Object.is:TZ;function Qy(t,e){if(Tl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!CA.call(e,i)||!Tl(t[i],e[i]))return!1}return!0}function sk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lk(t,e){var n=sk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sk(n)}}function G6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function j6(){for(var t=window,e=tS();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tS(t.document)}return e}function SP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AZ(t){var e=j6(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&G6(n.ownerDocument.documentElement,n)){if(r!==null&&SP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=lk(n,o);var a=lk(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RZ=yu&&"documentMode"in document&&11>=document.documentMode,ag=null,GA=null,by=null,jA=!1;function ck(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jA||ag==null||ag!==tS(r)||(r=ag,"selectionStart"in r&&SP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),by&&Qy(by,r)||(by=r,r=lS(GA,"onSelect"),0<r.length&&(e=new bP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ag)))}function Yb(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sg={animationend:Yb("Animation","AnimationEnd"),animationiteration:Yb("Animation","AnimationIteration"),animationstart:Yb("Animation","AnimationStart"),transitionend:Yb("Transition","TransitionEnd")},EC={},X6={};yu&&(X6=document.createElement("div").style,"AnimationEvent"in window||(delete sg.animationend.animation,delete sg.animationiteration.animation,delete sg.animationstart.animation),"TransitionEvent"in window||delete sg.transitionend.transition);function yM(t){if(EC[t])return EC[t];if(!sg[t])return t;var e=sg[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in X6)return EC[t]=e[n];return t}var q6=yM("animationend"),Y6=yM("animationiteration"),K6=yM("animationstart"),Z6=yM("transitionend"),Q6=new Map,uk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rd(t,e){Q6.set(t,e),np(e,[t])}for(var CC=0;CC<uk.length;CC++){var TC=uk[CC],PZ=TC.toLowerCase(),IZ=TC[0].toUpperCase()+TC.slice(1);rd(PZ,"on"+IZ)}rd(q6,"onAnimationEnd");rd(Y6,"onAnimationIteration");rd(K6,"onAnimationStart");rd("dblclick","onDoubleClick");rd("focusin","onFocus");rd("focusout","onBlur");rd(Z6,"onTransitionEnd");Bg("onMouseEnter",["mouseout","mouseover"]);Bg("onMouseLeave",["mouseout","mouseover"]);Bg("onPointerEnter",["pointerout","pointerover"]);Bg("onPointerLeave",["pointerout","pointerover"]);np("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));np("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));np("onBeforeInput",["compositionend","keypress","textInput","paste"]);np("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));np("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));np("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ay="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(ay));function fk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PK(r,e,void 0,t),t.currentTarget=null}function J6(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;fk(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;fk(i,s,c),o=l}}}if(rS)throw t=$A,rS=!1,$A=null,t}function yr(t,e){var n=e[ZA];n===void 0&&(n=e[ZA]=new Set);var r=t+"__bubble";n.has(r)||(ez(e,t,2,!1),n.add(r))}function AC(t,e,n){var r=0;e&&(r|=4),ez(n,t,r,e)}var Kb="_reactListening"+Math.random().toString(36).slice(2);function Jy(t){if(!t[Kb]){t[Kb]=!0,s6.forEach(function(n){n!=="selectionchange"&&(LZ.has(n)||AC(n,!1,t),AC(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kb]||(e[Kb]=!0,AC("selectionchange",!1,e))}}function ez(t,e,n,r){switch(F6(e)){case 1:var i=jK;break;case 4:i=XK;break;default:i=yP}n=i.bind(null,e,n,t),i=void 0,!BA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function RC(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=vh(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}S6(function(){var c=o,f=pP(n),p=[];e:{var m=Q6.get(t);if(m!==void 0){var v=bP,x=t;switch(t){case"keypress":if(Aw(n)===0)break e;case"keydown":case"keyup":v=lZ;break;case"focusin":x="focus",v=wC;break;case"focusout":x="blur",v=wC;break;case"beforeblur":case"afterblur":v=wC;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=J4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=KK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=fZ;break;case q6:case Y6:case K6:v=JK;break;case Z6:v=hZ;break;case"scroll":v=qK;break;case"wheel":v=mZ;break;case"copy":case"cut":case"paste":v=tZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=tk}var _=(e&4)!==0,b=!_&&t==="scroll",y=_?m!==null?m+"Capture":null:m;_=[];for(var S=c,M;S!==null;){M=S;var C=M.stateNode;if(M.tag===5&&C!==null&&(M=C,y!==null&&(C=Xy(S,y),C!=null&&_.push(e1(S,C,M)))),b)break;S=S.return}0<_.length&&(m=new v(m,x,null,n,f),p.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==UA&&(x=n.relatedTarget||n.fromElement)&&(vh(x)||x[xu]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=c,x=x?vh(x):null,x!==null&&(b=rp(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(_=J4,C="onMouseLeave",y="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(_=tk,C="onPointerLeave",y="onPointerEnter",S="pointer"),b=v==null?m:lg(v),M=x==null?m:lg(x),m=new _(C,S+"leave",v,n,f),m.target=b,m.relatedTarget=M,C=null,vh(f)===c&&(_=new _(y,S+"enter",x,n,f),_.target=M,_.relatedTarget=b,C=_),b=C,v&&x)t:{for(_=v,y=x,S=0,M=_;M;M=tm(M))S++;for(M=0,C=y;C;C=tm(C))M++;for(;0<S-M;)_=tm(_),S--;for(;0<M-S;)y=tm(y),M--;for(;S--;){if(_===y||y!==null&&_===y.alternate)break t;_=tm(_),y=tm(y)}_=null}else _=null;v!==null&&dk(p,m,v,_,!1),x!==null&&b!==null&&dk(p,b,x,_,!0)}}e:{if(m=c?lg(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var P=wZ;else if(ik(m))if(V6)P=CZ;else{P=MZ;var A=SZ}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=EZ);if(P&&(P=P(t,c))){H6(p,P,n,f);break e}A&&A(t,m,c),t==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&OA(m,"number",m.value)}switch(A=c?lg(c):window,t){case"focusin":(ik(A)||A.contentEditable==="true")&&(ag=A,GA=c,by=null);break;case"focusout":by=GA=ag=null;break;case"mousedown":jA=!0;break;case"contextmenu":case"mouseup":case"dragend":jA=!1,ck(p,n,f);break;case"selectionchange":if(RZ)break;case"keydown":case"keyup":ck(p,n,f)}var R;if(wP)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else og?B6(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(z6&&n.locale!=="ko"&&(og||U!=="onCompositionStart"?U==="onCompositionEnd"&&og&&(R=U6()):(Pf=f,xP="value"in Pf?Pf.value:Pf.textContent,og=!0)),A=lS(c,U),0<A.length&&(U=new ek(U,t,null,n,f),p.push({event:U,listeners:A}),R?U.data=R:(R=$6(n),R!==null&&(U.data=R)))),(R=vZ?yZ(t,n):xZ(t,n))&&(c=lS(c,"onBeforeInput"),0<c.length&&(f=new ek("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=R))}J6(p,e)})}function e1(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lS(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xy(t,n),o!=null&&r.unshift(e1(t,o,i)),o=Xy(t,e),o!=null&&r.push(e1(t,o,i))),t=t.return}return r}function tm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dk(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Xy(n,o),l!=null&&a.unshift(e1(n,l,s))):i||(l=Xy(n,o),l!=null&&a.push(e1(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var OZ=/\r\n?/g,kZ=/\u0000|\uFFFD/g;function hk(t){return(typeof t=="string"?t:""+t).replace(OZ,`
`).replace(kZ,"")}function Zb(t,e,n){if(e=hk(e),hk(t)!==e&&n)throw Error(nt(425))}function cS(){}var XA=null,qA=null;function YA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var KA=typeof setTimeout=="function"?setTimeout:void 0,NZ=typeof clearTimeout=="function"?clearTimeout:void 0,pk=typeof Promise=="function"?Promise:void 0,DZ=typeof queueMicrotask=="function"?queueMicrotask:typeof pk<"u"?function(t){return pk.resolve(null).then(t).catch(FZ)}:KA;function FZ(t){setTimeout(function(){throw t})}function PC(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ky(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ky(e)}function Nf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var f0=Math.random().toString(36).slice(2),ic="__reactFiber$"+f0,t1="__reactProps$"+f0,xu="__reactContainer$"+f0,ZA="__reactEvents$"+f0,UZ="__reactListeners$"+f0,zZ="__reactHandles$"+f0;function vh(t){var e=t[ic];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xu]||n[ic]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mk(t);t!==null;){if(n=t[ic])return n;t=mk(t)}return e}t=n,n=t.parentNode}return null}function Q1(t){return t=t[ic]||t[xu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(nt(33))}function xM(t){return t[t1]||null}var QA=[],cg=-1;function id(t){return{current:t}}function _r(t){0>cg||(t.current=QA[cg],QA[cg]=null,cg--)}function gr(t,e){cg++,QA[cg]=t.current,t.current=e}var qf={},Eo=id(qf),ha=id(!1),zh=qf;function $g(t,e){var n=t.type.contextTypes;if(!n)return qf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pa(t){return t=t.childContextTypes,t!=null}function uS(){_r(ha),_r(Eo)}function gk(t,e,n){if(Eo.current!==qf)throw Error(nt(168));gr(Eo,e),gr(ha,n)}function tz(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(nt(108,SK(t)||"Unknown",i));return Fr({},n,r)}function fS(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qf,zh=Eo.current,gr(Eo,t),gr(ha,ha.current),!0}function vk(t,e,n){var r=t.stateNode;if(!r)throw Error(nt(169));n?(t=tz(t,e,zh),r.__reactInternalMemoizedMergedChildContext=t,_r(ha),_r(Eo),gr(Eo,t)):_r(ha),gr(ha,n)}var nu=null,bM=!1,IC=!1;function nz(t){nu===null?nu=[t]:nu.push(t)}function BZ(t){bM=!0,nz(t)}function od(){if(!IC&&nu!==null){IC=!0;var t=0,e=Jn;try{var n=nu;for(Jn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nu=null,bM=!1}catch(i){throw nu!==null&&(nu=nu.slice(t+1)),T6(mP,od),i}finally{Jn=e,IC=!1}}return null}var ug=[],fg=0,dS=null,hS=0,Ns=[],Ds=0,Bh=null,cu=1,uu="";function oh(t,e){ug[fg++]=hS,ug[fg++]=dS,dS=t,hS=e}function rz(t,e,n){Ns[Ds++]=cu,Ns[Ds++]=uu,Ns[Ds++]=Bh,Bh=t;var r=cu;t=uu;var i=32-El(r)-1;r&=~(1<<i),n+=1;var o=32-El(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,cu=1<<32-El(e)+i|n<<i|r,uu=o+t}else cu=1<<o|n<<i|r,uu=t}function MP(t){t.return!==null&&(oh(t,1),rz(t,1,0))}function EP(t){for(;t===dS;)dS=ug[--fg],ug[fg]=null,hS=ug[--fg],ug[fg]=null;for(;t===Bh;)Bh=Ns[--Ds],Ns[Ds]=null,uu=Ns[--Ds],Ns[Ds]=null,cu=Ns[--Ds],Ns[Ds]=null}var ns=null,Qa=null,Cr=!1,vl=null;function iz(t,e){var n=Us(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ns=t,Qa=Nf(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ns=t,Qa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bh!==null?{id:cu,overflow:uu}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Us(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ns=t,Qa=null,!0):!1;default:return!1}}function JA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eR(t){if(Cr){var e=Qa;if(e){var n=e;if(!yk(t,e)){if(JA(t))throw Error(nt(418));e=Nf(n.nextSibling);var r=ns;e&&yk(t,e)?iz(r,n):(t.flags=t.flags&-4097|2,Cr=!1,ns=t)}}else{if(JA(t))throw Error(nt(418));t.flags=t.flags&-4097|2,Cr=!1,ns=t}}}function xk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ns=t}function Qb(t){if(t!==ns)return!1;if(!Cr)return xk(t),Cr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!YA(t.type,t.memoizedProps)),e&&(e=Qa)){if(JA(t))throw oz(),Error(nt(418));for(;e;)iz(t,e),e=Nf(e.nextSibling)}if(xk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(nt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qa=Nf(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qa=null}}else Qa=ns?Nf(t.stateNode.nextSibling):null;return!0}function oz(){for(var t=Qa;t;)t=Nf(t.nextSibling)}function Hg(){Qa=ns=null,Cr=!1}function CP(t){vl===null?vl=[t]:vl.push(t)}var $Z=Ru.ReactCurrentBatchConfig;function hl(t,e){if(t&&t.defaultProps){e=Fr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var pS=id(null),mS=null,dg=null,TP=null;function AP(){TP=dg=mS=null}function RP(t){var e=pS.current;_r(pS),t._currentValue=e}function tR(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cg(t,e){mS=t,TP=dg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(da=!0),t.firstContext=null)}function Hs(t){var e=t._currentValue;if(TP!==t)if(t={context:t,memoizedValue:e,next:null},dg===null){if(mS===null)throw Error(nt(308));dg=t,mS.dependencies={lanes:0,firstContext:t}}else dg=dg.next=t;return e}var yh=null;function PP(t){yh===null?yh=[t]:yh.push(t)}function az(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,PP(e)):(n.next=i.next,i.next=n),e.interleaved=n,bu(t,r)}function bu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mf=!1;function IP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sz(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Df(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,zn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bu(t,n)}return i=r.interleaved,i===null?(e.next=e,PP(r)):(e.next=i.next,i.next=e),r.interleaved=e,bu(t,n)}function Rw(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gP(t,n)}}function bk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gS(t,e,n,r){var i=t.updateQueue;Mf=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==a&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var p=i.baseState;a=0,f=c=l=null,s=o;do{var m=s.lane,v=s.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var x=t,_=s;switch(m=e,v=n,_.tag){case 1:if(x=_.payload,typeof x=="function"){p=x.call(v,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,m=typeof x=="function"?x.call(v,p,m):x,m==null)break e;p=Fr({},p,m);break e;case 2:Mf=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[s]:m.push(s))}else v={eventTime:v,lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=v,l=p):f=f.next=v,a|=m;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Hh|=a,t.lanes=a,t.memoizedState=p}}function _k(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(nt(191,i));i.call(r)}}}var lz=new a6.Component().refs;function nR(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _M={isMounted:function(t){return(t=t._reactInternals)?rp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Go(),i=Uf(t),o=pu(r,i);o.payload=e,n!=null&&(o.callback=n),e=Df(t,o,i),e!==null&&(Cl(e,t,i,r),Rw(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Go(),i=Uf(t),o=pu(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Df(t,o,i),e!==null&&(Cl(e,t,i,r),Rw(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Go(),r=Uf(t),i=pu(n,r);i.tag=2,e!=null&&(i.callback=e),e=Df(t,i,r),e!==null&&(Cl(e,t,r,n),Rw(e,t,r))}};function wk(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Qy(n,r)||!Qy(i,o):!0}function cz(t,e,n){var r=!1,i=qf,o=e.contextType;return typeof o=="object"&&o!==null?o=Hs(o):(i=pa(e)?zh:Eo.current,r=e.contextTypes,o=(r=r!=null)?$g(t,i):qf),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_M,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Sk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_M.enqueueReplaceState(e,e.state,null)}function rR(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=lz,IP(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Hs(o):(o=pa(e)?zh:Eo.current,i.context=$g(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(nR(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_M.enqueueReplaceState(i,i.state,null),gS(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tv(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(nt(309));var r=n.stateNode}if(!r)throw Error(nt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===lz&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(nt(284));if(!n._owner)throw Error(nt(290,t))}return t}function Jb(t,e){throw t=Object.prototype.toString.call(e),Error(nt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mk(t){var e=t._init;return e(t._payload)}function uz(t){function e(y,S){if(t){var M=y.deletions;M===null?(y.deletions=[S],y.flags|=16):M.push(S)}}function n(y,S){if(!t)return null;for(;S!==null;)e(y,S),S=S.sibling;return null}function r(y,S){for(y=new Map;S!==null;)S.key!==null?y.set(S.key,S):y.set(S.index,S),S=S.sibling;return y}function i(y,S){return y=zf(y,S),y.index=0,y.sibling=null,y}function o(y,S,M){return y.index=M,t?(M=y.alternate,M!==null?(M=M.index,M<S?(y.flags|=2,S):M):(y.flags|=2,S)):(y.flags|=1048576,S)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,S,M,C){return S===null||S.tag!==6?(S=UC(M,y.mode,C),S.return=y,S):(S=i(S,M),S.return=y,S)}function l(y,S,M,C){var P=M.type;return P===ig?f(y,S,M.props.children,C,M.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Sf&&Mk(P)===S.type)?(C=i(S,M.props),C.ref=Tv(y,S,M),C.return=y,C):(C=Nw(M.type,M.key,M.props,null,y.mode,C),C.ref=Tv(y,S,M),C.return=y,C)}function c(y,S,M,C){return S===null||S.tag!==4||S.stateNode.containerInfo!==M.containerInfo||S.stateNode.implementation!==M.implementation?(S=zC(M,y.mode,C),S.return=y,S):(S=i(S,M.children||[]),S.return=y,S)}function f(y,S,M,C,P){return S===null||S.tag!==7?(S=Ah(M,y.mode,C,P),S.return=y,S):(S=i(S,M),S.return=y,S)}function p(y,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return S=UC(""+S,y.mode,M),S.return=y,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hb:return M=Nw(S.type,S.key,S.props,null,y.mode,M),M.ref=Tv(y,null,S),M.return=y,M;case rg:return S=zC(S,y.mode,M),S.return=y,S;case Sf:var C=S._init;return p(y,C(S._payload),M)}if(iy(S)||wv(S))return S=Ah(S,y.mode,M,null),S.return=y,S;Jb(y,S)}return null}function m(y,S,M,C){var P=S!==null?S.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return P!==null?null:s(y,S,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Hb:return M.key===P?l(y,S,M,C):null;case rg:return M.key===P?c(y,S,M,C):null;case Sf:return P=M._init,m(y,S,P(M._payload),C)}if(iy(M)||wv(M))return P!==null?null:f(y,S,M,C,null);Jb(y,M)}return null}function v(y,S,M,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(M)||null,s(S,y,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Hb:return y=y.get(C.key===null?M:C.key)||null,l(S,y,C,P);case rg:return y=y.get(C.key===null?M:C.key)||null,c(S,y,C,P);case Sf:var A=C._init;return v(y,S,M,A(C._payload),P)}if(iy(C)||wv(C))return y=y.get(M)||null,f(S,y,C,P,null);Jb(S,C)}return null}function x(y,S,M,C){for(var P=null,A=null,R=S,U=S=0,O=null;R!==null&&U<M.length;U++){R.index>U?(O=R,R=null):O=R.sibling;var N=m(y,R,M[U],C);if(N===null){R===null&&(R=O);break}t&&R&&N.alternate===null&&e(y,R),S=o(N,S,U),A===null?P=N:A.sibling=N,A=N,R=O}if(U===M.length)return n(y,R),Cr&&oh(y,U),P;if(R===null){for(;U<M.length;U++)R=p(y,M[U],C),R!==null&&(S=o(R,S,U),A===null?P=R:A.sibling=R,A=R);return Cr&&oh(y,U),P}for(R=r(y,R);U<M.length;U++)O=v(R,y,U,M[U],C),O!==null&&(t&&O.alternate!==null&&R.delete(O.key===null?U:O.key),S=o(O,S,U),A===null?P=O:A.sibling=O,A=O);return t&&R.forEach(function(B){return e(y,B)}),Cr&&oh(y,U),P}function _(y,S,M,C){var P=wv(M);if(typeof P!="function")throw Error(nt(150));if(M=P.call(M),M==null)throw Error(nt(151));for(var A=P=null,R=S,U=S=0,O=null,N=M.next();R!==null&&!N.done;U++,N=M.next()){R.index>U?(O=R,R=null):O=R.sibling;var B=m(y,R,N.value,C);if(B===null){R===null&&(R=O);break}t&&R&&B.alternate===null&&e(y,R),S=o(B,S,U),A===null?P=B:A.sibling=B,A=B,R=O}if(N.done)return n(y,R),Cr&&oh(y,U),P;if(R===null){for(;!N.done;U++,N=M.next())N=p(y,N.value,C),N!==null&&(S=o(N,S,U),A===null?P=N:A.sibling=N,A=N);return Cr&&oh(y,U),P}for(R=r(y,R);!N.done;U++,N=M.next())N=v(R,y,U,N.value,C),N!==null&&(t&&N.alternate!==null&&R.delete(N.key===null?U:N.key),S=o(N,S,U),A===null?P=N:A.sibling=N,A=N);return t&&R.forEach(function(Y){return e(y,Y)}),Cr&&oh(y,U),P}function b(y,S,M,C){if(typeof M=="object"&&M!==null&&M.type===ig&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Hb:e:{for(var P=M.key,A=S;A!==null;){if(A.key===P){if(P=M.type,P===ig){if(A.tag===7){n(y,A.sibling),S=i(A,M.props.children),S.return=y,y=S;break e}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Sf&&Mk(P)===A.type){n(y,A.sibling),S=i(A,M.props),S.ref=Tv(y,A,M),S.return=y,y=S;break e}n(y,A);break}else e(y,A);A=A.sibling}M.type===ig?(S=Ah(M.props.children,y.mode,C,M.key),S.return=y,y=S):(C=Nw(M.type,M.key,M.props,null,y.mode,C),C.ref=Tv(y,S,M),C.return=y,y=C)}return a(y);case rg:e:{for(A=M.key;S!==null;){if(S.key===A)if(S.tag===4&&S.stateNode.containerInfo===M.containerInfo&&S.stateNode.implementation===M.implementation){n(y,S.sibling),S=i(S,M.children||[]),S.return=y,y=S;break e}else{n(y,S);break}else e(y,S);S=S.sibling}S=zC(M,y.mode,C),S.return=y,y=S}return a(y);case Sf:return A=M._init,b(y,S,A(M._payload),C)}if(iy(M))return x(y,S,M,C);if(wv(M))return _(y,S,M,C);Jb(y,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,S!==null&&S.tag===6?(n(y,S.sibling),S=i(S,M),S.return=y,y=S):(n(y,S),S=UC(M,y.mode,C),S.return=y,y=S),a(y)):n(y,S)}return b}var Vg=uz(!0),fz=uz(!1),J1={},cc=id(J1),n1=id(J1),r1=id(J1);function xh(t){if(t===J1)throw Error(nt(174));return t}function LP(t,e){switch(gr(r1,e),gr(n1,t),gr(cc,J1),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:NA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=NA(e,t)}_r(cc),gr(cc,e)}function Wg(){_r(cc),_r(n1),_r(r1)}function dz(t){xh(r1.current);var e=xh(cc.current),n=NA(e,t.type);e!==n&&(gr(n1,t),gr(cc,n))}function OP(t){n1.current===t&&(_r(cc),_r(n1))}var kr=id(0);function vS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var LC=[];function kP(){for(var t=0;t<LC.length;t++)LC[t]._workInProgressVersionPrimary=null;LC.length=0}var Pw=Ru.ReactCurrentDispatcher,OC=Ru.ReactCurrentBatchConfig,$h=0,Dr=null,Si=null,Bi=null,yS=!1,_y=!1,i1=0,HZ=0;function mo(){throw Error(nt(321))}function NP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tl(t[n],e[n]))return!1;return!0}function DP(t,e,n,r,i,o){if($h=o,Dr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pw.current=t===null||t.memoizedState===null?jZ:XZ,t=n(r,i),_y){o=0;do{if(_y=!1,i1=0,25<=o)throw Error(nt(301));o+=1,Bi=Si=null,e.updateQueue=null,Pw.current=qZ,t=n(r,i)}while(_y)}if(Pw.current=xS,e=Si!==null&&Si.next!==null,$h=0,Bi=Si=Dr=null,yS=!1,e)throw Error(nt(300));return t}function FP(){var t=i1!==0;return i1=0,t}function Jl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?Dr.memoizedState=Bi=t:Bi=Bi.next=t,Bi}function Vs(){if(Si===null){var t=Dr.alternate;t=t!==null?t.memoizedState:null}else t=Si.next;var e=Bi===null?Dr.memoizedState:Bi.next;if(e!==null)Bi=e,Si=t;else{if(t===null)throw Error(nt(310));Si=t,t={memoizedState:Si.memoizedState,baseState:Si.baseState,baseQueue:Si.baseQueue,queue:Si.queue,next:null},Bi===null?Dr.memoizedState=Bi=t:Bi=Bi.next=t}return Bi}function o1(t,e){return typeof e=="function"?e(t):e}function kC(t){var e=Vs(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=Si,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var f=c.lane;if(($h&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=p,a=r):l=l.next=p,Dr.lanes|=f,Hh|=f}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,Tl(r,e.memoizedState)||(da=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Dr.lanes|=o,Hh|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function NC(t){var e=Vs(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Tl(o,e.memoizedState)||(da=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function hz(){}function pz(t,e){var n=Dr,r=Vs(),i=e(),o=!Tl(r.memoizedState,i);if(o&&(r.memoizedState=i,da=!0),r=r.queue,UP(vz.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Bi!==null&&Bi.memoizedState.tag&1){if(n.flags|=2048,a1(9,gz.bind(null,n,r,i,e),void 0,null),ji===null)throw Error(nt(349));$h&30||mz(n,e,i)}return i}function mz(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Dr.updateQueue,e===null?(e={lastEffect:null,stores:null},Dr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gz(t,e,n,r){e.value=n,e.getSnapshot=r,yz(e)&&xz(t)}function vz(t,e,n){return n(function(){yz(e)&&xz(t)})}function yz(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tl(t,n)}catch{return!0}}function xz(t){var e=bu(t,1);e!==null&&Cl(e,t,1,-1)}function Ek(t){var e=Jl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o1,lastRenderedState:t},e.queue=t,t=t.dispatch=GZ.bind(null,Dr,t),[e.memoizedState,t]}function a1(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Dr.updateQueue,e===null?(e={lastEffect:null,stores:null},Dr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bz(){return Vs().memoizedState}function Iw(t,e,n,r){var i=Jl();Dr.flags|=t,i.memoizedState=a1(1|e,n,void 0,r===void 0?null:r)}function wM(t,e,n,r){var i=Vs();r=r===void 0?null:r;var o=void 0;if(Si!==null){var a=Si.memoizedState;if(o=a.destroy,r!==null&&NP(r,a.deps)){i.memoizedState=a1(e,n,o,r);return}}Dr.flags|=t,i.memoizedState=a1(1|e,n,o,r)}function Ck(t,e){return Iw(8390656,8,t,e)}function UP(t,e){return wM(2048,8,t,e)}function _z(t,e){return wM(4,2,t,e)}function wz(t,e){return wM(4,4,t,e)}function Sz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mz(t,e,n){return n=n!=null?n.concat([t]):null,wM(4,4,Sz.bind(null,e,t),n)}function zP(){}function Ez(t,e){var n=Vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&NP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Cz(t,e){var n=Vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&NP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Tz(t,e,n){return $h&21?(Tl(n,e)||(n=P6(),Dr.lanes|=n,Hh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,da=!0),t.memoizedState=n)}function VZ(t,e){var n=Jn;Jn=n!==0&&4>n?n:4,t(!0);var r=OC.transition;OC.transition={};try{t(!1),e()}finally{Jn=n,OC.transition=r}}function Az(){return Vs().memoizedState}function WZ(t,e,n){var r=Uf(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rz(t))Pz(e,n);else if(n=az(t,e,n,r),n!==null){var i=Go();Cl(n,t,r,i),Iz(n,e,r)}}function GZ(t,e,n){var r=Uf(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rz(t))Pz(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Tl(s,a)){var l=e.interleaved;l===null?(i.next=i,PP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=az(t,e,i,r),n!==null&&(i=Go(),Cl(n,t,r,i),Iz(n,e,r))}}function Rz(t){var e=t.alternate;return t===Dr||e!==null&&e===Dr}function Pz(t,e){_y=yS=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Iz(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gP(t,n)}}var xS={readContext:Hs,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},jZ={readContext:Hs,useCallback:function(t,e){return Jl().memoizedState=[t,e===void 0?null:e],t},useContext:Hs,useEffect:Ck,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Iw(4194308,4,Sz.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Iw(4194308,4,t,e)},useInsertionEffect:function(t,e){return Iw(4,2,t,e)},useMemo:function(t,e){var n=Jl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WZ.bind(null,Dr,t),[r.memoizedState,t]},useRef:function(t){var e=Jl();return t={current:t},e.memoizedState=t},useState:Ek,useDebugValue:zP,useDeferredValue:function(t){return Jl().memoizedState=t},useTransition:function(){var t=Ek(!1),e=t[0];return t=VZ.bind(null,t[1]),Jl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Dr,i=Jl();if(Cr){if(n===void 0)throw Error(nt(407));n=n()}else{if(n=e(),ji===null)throw Error(nt(349));$h&30||mz(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Ck(vz.bind(null,r,o,t),[t]),r.flags|=2048,a1(9,gz.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Jl(),e=ji.identifierPrefix;if(Cr){var n=uu,r=cu;n=(r&~(1<<32-El(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=i1++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HZ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XZ={readContext:Hs,useCallback:Ez,useContext:Hs,useEffect:UP,useImperativeHandle:Mz,useInsertionEffect:_z,useLayoutEffect:wz,useMemo:Cz,useReducer:kC,useRef:bz,useState:function(){return kC(o1)},useDebugValue:zP,useDeferredValue:function(t){var e=Vs();return Tz(e,Si.memoizedState,t)},useTransition:function(){var t=kC(o1)[0],e=Vs().memoizedState;return[t,e]},useMutableSource:hz,useSyncExternalStore:pz,useId:Az,unstable_isNewReconciler:!1},qZ={readContext:Hs,useCallback:Ez,useContext:Hs,useEffect:UP,useImperativeHandle:Mz,useInsertionEffect:_z,useLayoutEffect:wz,useMemo:Cz,useReducer:NC,useRef:bz,useState:function(){return NC(o1)},useDebugValue:zP,useDeferredValue:function(t){var e=Vs();return Si===null?e.memoizedState=t:Tz(e,Si.memoizedState,t)},useTransition:function(){var t=NC(o1)[0],e=Vs().memoizedState;return[t,e]},useMutableSource:hz,useSyncExternalStore:pz,useId:Az,unstable_isNewReconciler:!1};function Gg(t,e){try{var n="",r=e;do n+=wK(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function DC(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iR(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YZ=typeof WeakMap=="function"?WeakMap:Map;function Lz(t,e,n){n=pu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_S||(_S=!0,pR=r),iR(t,e)},n}function Oz(t,e,n){n=pu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){iR(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){iR(t,e),typeof r!="function"&&(Ff===null?Ff=new Set([this]):Ff.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Tk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YZ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=cQ.bind(null,t,e,n),e.then(t,t))}function Ak(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pu(-1,1),e.tag=2,Df(n,e,1))),n.lanes|=1),t)}var KZ=Ru.ReactCurrentOwner,da=!1;function $o(t,e,n,r){e.child=t===null?fz(e,null,n,r):Vg(e,t.child,n,r)}function Pk(t,e,n,r,i){n=n.render;var o=e.ref;return Cg(e,i),r=DP(t,e,n,r,o,i),n=FP(),t!==null&&!da?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_u(t,e,i)):(Cr&&n&&MP(e),e.flags|=1,$o(t,e,r,i),e.child)}function Ik(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!XP(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,kz(t,e,o,r,i)):(t=Nw(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qy,n(a,r)&&t.ref===e.ref)return _u(t,e,i)}return e.flags|=1,t=zf(o,r),t.ref=e.ref,t.return=e,e.child=t}function kz(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Qy(o,r)&&t.ref===e.ref)if(da=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(da=!0);else return e.lanes=t.lanes,_u(t,e,i)}return oR(t,e,n,r,i)}function Nz(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gr(pg,Ga),Ga|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gr(pg,Ga),Ga|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,gr(pg,Ga),Ga|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,gr(pg,Ga),Ga|=r;return $o(t,e,i,n),e.child}function Dz(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function oR(t,e,n,r,i){var o=pa(n)?zh:Eo.current;return o=$g(e,o),Cg(e,i),n=DP(t,e,n,r,o,i),r=FP(),t!==null&&!da?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_u(t,e,i)):(Cr&&r&&MP(e),e.flags|=1,$o(t,e,n,i),e.child)}function Lk(t,e,n,r,i){if(pa(n)){var o=!0;fS(e)}else o=!1;if(Cg(e,i),e.stateNode===null)Lw(t,e),cz(e,n,r),rR(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Hs(c):(c=pa(n)?zh:Eo.current,c=$g(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&Sk(e,a,r,c),Mf=!1;var m=e.memoizedState;a.state=m,gS(e,r,a,i),l=e.memoizedState,s!==r||m!==l||ha.current||Mf?(typeof f=="function"&&(nR(e,n,f,r),l=e.memoizedState),(s=Mf||wk(e,n,s,r,m,l,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,sz(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:hl(e.type,s),a.props=c,p=e.pendingProps,m=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hs(l):(l=pa(n)?zh:Eo.current,l=$g(e,l));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==p||m!==l)&&Sk(e,a,r,l),Mf=!1,m=e.memoizedState,a.state=m,gS(e,r,a,i);var x=e.memoizedState;s!==p||m!==x||ha.current||Mf?(typeof v=="function"&&(nR(e,n,v,r),x=e.memoizedState),(c=Mf||wk(e,n,c,r,m,x,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return aR(t,e,n,r,o,i)}function aR(t,e,n,r,i,o){Dz(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&vk(e,n,!1),_u(t,e,o);r=e.stateNode,KZ.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Vg(e,t.child,null,o),e.child=Vg(e,null,s,o)):$o(t,e,s,o),e.memoizedState=r.state,i&&vk(e,n,!0),e.child}function Fz(t){var e=t.stateNode;e.pendingContext?gk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gk(t,e.context,!1),LP(t,e.containerInfo)}function Ok(t,e,n,r,i){return Hg(),CP(i),e.flags|=256,$o(t,e,n,r),e.child}var sR={dehydrated:null,treeContext:null,retryLane:0};function lR(t){return{baseLanes:t,cachePool:null,transitions:null}}function Uz(t,e,n){var r=e.pendingProps,i=kr.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gr(kr,i&1),t===null)return eR(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=EM(a,r,0,null),t=Ah(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=lR(n),e.memoizedState=sR,t):BP(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return ZZ(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=zf(s,o):(o=Ah(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?lR(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=sR,r}return o=t.child,t=o.sibling,r=zf(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function BP(t,e){return e=EM({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function e_(t,e,n,r){return r!==null&&CP(r),Vg(e,t.child,null,n),t=BP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZZ(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=DC(Error(nt(422))),e_(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=EM({mode:"visible",children:r.children},i,0,null),o=Ah(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Vg(e,t.child,null,a),e.child.memoizedState=lR(a),e.memoizedState=sR,o);if(!(e.mode&1))return e_(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(nt(419)),r=DC(o,r,void 0),e_(t,e,a,r)}if(s=(a&t.childLanes)!==0,da||s){if(r=ji,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,bu(t,i),Cl(r,t,i,-1))}return jP(),r=DC(Error(nt(421))),e_(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uQ.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Qa=Nf(i.nextSibling),ns=e,Cr=!0,vl=null,t!==null&&(Ns[Ds++]=cu,Ns[Ds++]=uu,Ns[Ds++]=Bh,cu=t.id,uu=t.overflow,Bh=e),e=BP(e,r.children),e.flags|=4096,e)}function kk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tR(t.return,e,n)}function FC(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zz(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if($o(t,e,r.children,n),r=kr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kk(t,n,e);else if(t.tag===19)kk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gr(kr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vS(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),FC(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vS(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}FC(e,!0,n,null,o);break;case"together":FC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _u(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(nt(153));if(e.child!==null){for(t=e.child,n=zf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QZ(t,e,n){switch(e.tag){case 3:Fz(e),Hg();break;case 5:dz(e);break;case 1:pa(e.type)&&fS(e);break;case 4:LP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gr(pS,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gr(kr,kr.current&1),e.flags|=128,null):n&e.child.childLanes?Uz(t,e,n):(gr(kr,kr.current&1),t=_u(t,e,n),t!==null?t.sibling:null);gr(kr,kr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zz(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gr(kr,kr.current),r)break;return null;case 22:case 23:return e.lanes=0,Nz(t,e,n)}return _u(t,e,n)}var Bz,cR,$z,Hz;Bz=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cR=function(){};$z=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xh(cc.current);var o=null;switch(n){case"input":i=IA(t,i),r=IA(t,r),o=[];break;case"select":i=Fr({},i,{value:void 0}),r=Fr({},r,{value:void 0}),o=[];break;case"textarea":i=kA(t,i),r=kA(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cS)}DA(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gy.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gy.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&yr("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Hz=function(t,e,n,r){n!==r&&(e.flags|=4)};function Av(t,e){if(!Cr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function go(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JZ(t,e,n){var r=e.pendingProps;switch(EP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return go(e),null;case 1:return pa(e.type)&&uS(),go(e),null;case 3:return r=e.stateNode,Wg(),_r(ha),_r(Eo),kP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qb(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vl!==null&&(vR(vl),vl=null))),cR(t,e),go(e),null;case 5:OP(e);var i=xh(r1.current);if(n=e.type,t!==null&&e.stateNode!=null)$z(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(nt(166));return go(e),null}if(t=xh(cc.current),Qb(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ic]=e,r[t1]=o,t=(e.mode&1)!==0,n){case"dialog":yr("cancel",r),yr("close",r);break;case"iframe":case"object":case"embed":yr("load",r);break;case"video":case"audio":for(i=0;i<ay.length;i++)yr(ay[i],r);break;case"source":yr("error",r);break;case"img":case"image":case"link":yr("error",r),yr("load",r);break;case"details":yr("toggle",r);break;case"input":V4(r,o),yr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},yr("invalid",r);break;case"textarea":G4(r,o),yr("invalid",r)}DA(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Zb(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Zb(r.textContent,s,t),i=["children",""+s]):Gy.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&yr("scroll",r)}switch(n){case"input":Vb(r),W4(r,o,!0);break;case"textarea":Vb(r),j4(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=cS)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ic]=e,t[t1]=r,Bz(t,e,!1,!1),e.stateNode=t;e:{switch(a=FA(n,r),n){case"dialog":yr("cancel",t),yr("close",t),i=r;break;case"iframe":case"object":case"embed":yr("load",t),i=r;break;case"video":case"audio":for(i=0;i<ay.length;i++)yr(ay[i],t);i=r;break;case"source":yr("error",t),i=r;break;case"img":case"image":case"link":yr("error",t),yr("load",t),i=r;break;case"details":yr("toggle",t),i=r;break;case"input":V4(t,r),i=IA(t,r),yr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fr({},r,{value:void 0}),yr("invalid",t);break;case"textarea":G4(t,r),i=kA(t,r),yr("invalid",t);break;default:i=r}DA(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?y6(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&g6(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jy(t,l):typeof l=="number"&&jy(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gy.hasOwnProperty(o)?l!=null&&o==="onScroll"&&yr("scroll",t):l!=null&&uP(t,o,l,a))}switch(n){case"input":Vb(t),W4(t,r,!1);break;case"textarea":Vb(t),j4(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xf(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?wg(t,!!r.multiple,o,!1):r.defaultValue!=null&&wg(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return go(e),null;case 6:if(t&&e.stateNode!=null)Hz(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(nt(166));if(n=xh(r1.current),xh(cc.current),Qb(e)){if(r=e.stateNode,n=e.memoizedProps,r[ic]=e,(o=r.nodeValue!==n)&&(t=ns,t!==null))switch(t.tag){case 3:Zb(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zb(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ic]=e,e.stateNode=r}return go(e),null;case 13:if(_r(kr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Cr&&Qa!==null&&e.mode&1&&!(e.flags&128))oz(),Hg(),e.flags|=98560,o=!1;else if(o=Qb(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(nt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(nt(317));o[ic]=e}else Hg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;go(e),o=!1}else vl!==null&&(vR(vl),vl=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kr.current&1?Ei===0&&(Ei=3):jP())),e.updateQueue!==null&&(e.flags|=4),go(e),null);case 4:return Wg(),cR(t,e),t===null&&Jy(e.stateNode.containerInfo),go(e),null;case 10:return RP(e.type._context),go(e),null;case 17:return pa(e.type)&&uS(),go(e),null;case 19:if(_r(kr),o=e.memoizedState,o===null)return go(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Av(o,!1);else{if(Ei!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=vS(t),a!==null){for(e.flags|=128,Av(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gr(kr,kr.current&1|2),e.child}t=t.sibling}o.tail!==null&&oi()>jg&&(e.flags|=128,r=!0,Av(o,!1),e.lanes=4194304)}else{if(!r)if(t=vS(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Av(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Cr)return go(e),null}else 2*oi()-o.renderingStartTime>jg&&n!==1073741824&&(e.flags|=128,r=!0,Av(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=oi(),e.sibling=null,n=kr.current,gr(kr,r?n&1|2:n&1),e):(go(e),null);case 22:case 23:return GP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ga&1073741824&&(go(e),e.subtreeFlags&6&&(e.flags|=8192)):go(e),null;case 24:return null;case 25:return null}throw Error(nt(156,e.tag))}function eQ(t,e){switch(EP(e),e.tag){case 1:return pa(e.type)&&uS(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wg(),_r(ha),_r(Eo),kP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return OP(e),null;case 13:if(_r(kr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(nt(340));Hg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _r(kr),null;case 4:return Wg(),null;case 10:return RP(e.type._context),null;case 22:case 23:return GP(),null;case 24:return null;default:return null}}var t_=!1,wo=!1,tQ=typeof WeakSet=="function"?WeakSet:Set,St=null;function hg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xr(t,e,r)}else n.current=null}function uR(t,e,n){try{n()}catch(r){Xr(t,e,r)}}var Nk=!1;function nQ(t,e){if(XA=aS,t=j6(),SP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(s=a+i),p!==o||r!==0&&p.nodeType!==3||(l=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++c===i&&(s=a),m===o&&++f===r&&(l=a),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qA={focusedElem:t,selectionRange:n},aS=!1,St=e;St!==null;)if(e=St,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,St=t;else for(;St!==null;){e=St;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,b=x.memoizedState,y=e.stateNode,S=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:hl(e.type,_),b);y.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(C){Xr(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,St=t;break}St=e.return}return x=Nk,Nk=!1,x}function wy(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&uR(e,n,o)}i=i.next}while(i!==r)}}function SM(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fR(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vz(t){var e=t.alternate;e!==null&&(t.alternate=null,Vz(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ic],delete e[t1],delete e[ZA],delete e[UZ],delete e[zZ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wz(t){return t.tag===5||t.tag===3||t.tag===4}function Dk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wz(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dR(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cS));else if(r!==4&&(t=t.child,t!==null))for(dR(t,e,n),t=t.sibling;t!==null;)dR(t,e,n),t=t.sibling}function hR(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hR(t,e,n),t=t.sibling;t!==null;)hR(t,e,n),t=t.sibling}var Ji=null,gl=!1;function mf(t,e,n){for(n=n.child;n!==null;)Gz(t,e,n),n=n.sibling}function Gz(t,e,n){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(mM,n)}catch{}switch(n.tag){case 5:wo||hg(n,e);case 6:var r=Ji,i=gl;Ji=null,mf(t,e,n),Ji=r,gl=i,Ji!==null&&(gl?(t=Ji,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ji.removeChild(n.stateNode));break;case 18:Ji!==null&&(gl?(t=Ji,n=n.stateNode,t.nodeType===8?PC(t.parentNode,n):t.nodeType===1&&PC(t,n),Ky(t)):PC(Ji,n.stateNode));break;case 4:r=Ji,i=gl,Ji=n.stateNode.containerInfo,gl=!0,mf(t,e,n),Ji=r,gl=i;break;case 0:case 11:case 14:case 15:if(!wo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&uR(n,e,a),i=i.next}while(i!==r)}mf(t,e,n);break;case 1:if(!wo&&(hg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Xr(n,e,s)}mf(t,e,n);break;case 21:mf(t,e,n);break;case 22:n.mode&1?(wo=(r=wo)||n.memoizedState!==null,mf(t,e,n),wo=r):mf(t,e,n);break;default:mf(t,e,n)}}function Fk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tQ),e.forEach(function(r){var i=fQ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sl(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ji=s.stateNode,gl=!1;break e;case 3:Ji=s.stateNode.containerInfo,gl=!0;break e;case 4:Ji=s.stateNode.containerInfo,gl=!0;break e}s=s.return}if(Ji===null)throw Error(nt(160));Gz(o,a,i),Ji=null,gl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Xr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jz(e,t),e=e.sibling}function jz(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sl(e,t),Zl(t),r&4){try{wy(3,t,t.return),SM(3,t)}catch(_){Xr(t,t.return,_)}try{wy(5,t,t.return)}catch(_){Xr(t,t.return,_)}}break;case 1:sl(e,t),Zl(t),r&512&&n!==null&&hg(n,n.return);break;case 5:if(sl(e,t),Zl(t),r&512&&n!==null&&hg(n,n.return),t.flags&32){var i=t.stateNode;try{jy(i,"")}catch(_){Xr(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&h6(i,o),FA(s,a);var c=FA(s,o);for(a=0;a<l.length;a+=2){var f=l[a],p=l[a+1];f==="style"?y6(i,p):f==="dangerouslySetInnerHTML"?g6(i,p):f==="children"?jy(i,p):uP(i,f,p,c)}switch(s){case"input":LA(i,o);break;case"textarea":p6(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?wg(i,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?wg(i,!!o.multiple,o.defaultValue,!0):wg(i,!!o.multiple,o.multiple?[]:"",!1))}i[t1]=o}catch(_){Xr(t,t.return,_)}}break;case 6:if(sl(e,t),Zl(t),r&4){if(t.stateNode===null)throw Error(nt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){Xr(t,t.return,_)}}break;case 3:if(sl(e,t),Zl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ky(e.containerInfo)}catch(_){Xr(t,t.return,_)}break;case 4:sl(e,t),Zl(t);break;case 13:sl(e,t),Zl(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(VP=oi())),r&4&&Fk(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(wo=(c=wo)||f,sl(e,t),wo=c):sl(e,t),Zl(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(St=t,f=t.child;f!==null;){for(p=St=f;St!==null;){switch(m=St,v=m.child,m.tag){case 0:case 11:case 14:case 15:wy(4,m,m.return);break;case 1:hg(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(_){Xr(r,n,_)}}break;case 5:hg(m,m.return);break;case 22:if(m.memoizedState!==null){zk(p);continue}}v!==null?(v.return=m,St=v):zk(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=v6("display",a))}catch(_){Xr(t,t.return,_)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(_){Xr(t,t.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:sl(e,t),Zl(t),r&4&&Fk(t);break;case 21:break;default:sl(e,t),Zl(t)}}function Zl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Wz(n)){var r=n;break e}n=n.return}throw Error(nt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jy(i,""),r.flags&=-33);var o=Dk(t);hR(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Dk(t);dR(t,s,a);break;default:throw Error(nt(161))}}catch(l){Xr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rQ(t,e,n){St=t,Xz(t)}function Xz(t,e,n){for(var r=(t.mode&1)!==0;St!==null;){var i=St,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||t_;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||wo;s=t_;var c=wo;if(t_=a,(wo=l)&&!c)for(St=i;St!==null;)a=St,l=a.child,a.tag===22&&a.memoizedState!==null?Bk(i):l!==null?(l.return=a,St=l):Bk(i);for(;o!==null;)St=o,Xz(o),o=o.sibling;St=i,t_=s,wo=c}Uk(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,St=o):Uk(t)}}function Uk(t){for(;St!==null;){var e=St;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wo||SM(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wo)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hl(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&_k(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_k(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ky(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}wo||e.flags&512&&fR(e)}catch(m){Xr(e,e.return,m)}}if(e===t){St=null;break}if(n=e.sibling,n!==null){n.return=e.return,St=n;break}St=e.return}}function zk(t){for(;St!==null;){var e=St;if(e===t){St=null;break}var n=e.sibling;if(n!==null){n.return=e.return,St=n;break}St=e.return}}function Bk(t){for(;St!==null;){var e=St;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{SM(4,e)}catch(l){Xr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Xr(e,i,l)}}var o=e.return;try{fR(e)}catch(l){Xr(e,o,l)}break;case 5:var a=e.return;try{fR(e)}catch(l){Xr(e,a,l)}}}catch(l){Xr(e,e.return,l)}if(e===t){St=null;break}var s=e.sibling;if(s!==null){s.return=e.return,St=s;break}St=e.return}}var iQ=Math.ceil,bS=Ru.ReactCurrentDispatcher,$P=Ru.ReactCurrentOwner,zs=Ru.ReactCurrentBatchConfig,zn=0,ji=null,vi=null,ro=0,Ga=0,pg=id(0),Ei=0,s1=null,Hh=0,MM=0,HP=0,Sy=null,ca=null,VP=0,jg=1/0,eu=null,_S=!1,pR=null,Ff=null,n_=!1,If=null,wS=0,My=0,mR=null,Ow=-1,kw=0;function Go(){return zn&6?oi():Ow!==-1?Ow:Ow=oi()}function Uf(t){return t.mode&1?zn&2&&ro!==0?ro&-ro:$Z.transition!==null?(kw===0&&(kw=P6()),kw):(t=Jn,t!==0||(t=window.event,t=t===void 0?16:F6(t.type)),t):1}function Cl(t,e,n,r){if(50<My)throw My=0,mR=null,Error(nt(185));K1(t,n,r),(!(zn&2)||t!==ji)&&(t===ji&&(!(zn&2)&&(MM|=n),Ei===4&&Tf(t,ro)),ma(t,r),n===1&&zn===0&&!(e.mode&1)&&(jg=oi()+500,bM&&od()))}function ma(t,e){var n=t.callbackNode;$K(t,e);var r=oS(t,t===ji?ro:0);if(r===0)n!==null&&Y4(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Y4(n),e===1)t.tag===0?BZ($k.bind(null,t)):nz($k.bind(null,t)),DZ(function(){!(zn&6)&&od()}),n=null;else{switch(I6(r)){case 1:n=mP;break;case 4:n=A6;break;case 16:n=iS;break;case 536870912:n=R6;break;default:n=iS}n=tB(n,qz.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qz(t,e){if(Ow=-1,kw=0,zn&6)throw Error(nt(327));var n=t.callbackNode;if(Tg()&&t.callbackNode!==n)return null;var r=oS(t,t===ji?ro:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=SS(t,r);else{e=r;var i=zn;zn|=2;var o=Kz();(ji!==t||ro!==e)&&(eu=null,jg=oi()+500,Th(t,e));do try{sQ();break}catch(s){Yz(t,s)}while(1);AP(),bS.current=o,zn=i,vi!==null?e=0:(ji=null,ro=0,e=Ei)}if(e!==0){if(e===2&&(i=HA(t),i!==0&&(r=i,e=gR(t,i))),e===1)throw n=s1,Th(t,0),Tf(t,r),ma(t,oi()),n;if(e===6)Tf(t,r);else{if(i=t.current.alternate,!(r&30)&&!oQ(i)&&(e=SS(t,r),e===2&&(o=HA(t),o!==0&&(r=o,e=gR(t,o))),e===1))throw n=s1,Th(t,0),Tf(t,r),ma(t,oi()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(nt(345));case 2:ah(t,ca,eu);break;case 3:if(Tf(t,r),(r&130023424)===r&&(e=VP+500-oi(),10<e)){if(oS(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Go(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=KA(ah.bind(null,t,ca,eu),e);break}ah(t,ca,eu);break;case 4:if(Tf(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-El(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=oi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iQ(r/1960))-r,10<r){t.timeoutHandle=KA(ah.bind(null,t,ca,eu),r);break}ah(t,ca,eu);break;case 5:ah(t,ca,eu);break;default:throw Error(nt(329))}}}return ma(t,oi()),t.callbackNode===n?qz.bind(null,t):null}function gR(t,e){var n=Sy;return t.current.memoizedState.isDehydrated&&(Th(t,e).flags|=256),t=SS(t,e),t!==2&&(e=ca,ca=n,e!==null&&vR(e)),t}function vR(t){ca===null?ca=t:ca.push.apply(ca,t)}function oQ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Tl(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tf(t,e){for(e&=~HP,e&=~MM,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-El(e),r=1<<n;t[n]=-1,e&=~r}}function $k(t){if(zn&6)throw Error(nt(327));Tg();var e=oS(t,0);if(!(e&1))return ma(t,oi()),null;var n=SS(t,e);if(t.tag!==0&&n===2){var r=HA(t);r!==0&&(e=r,n=gR(t,r))}if(n===1)throw n=s1,Th(t,0),Tf(t,e),ma(t,oi()),n;if(n===6)throw Error(nt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ah(t,ca,eu),ma(t,oi()),null}function WP(t,e){var n=zn;zn|=1;try{return t(e)}finally{zn=n,zn===0&&(jg=oi()+500,bM&&od())}}function Vh(t){If!==null&&If.tag===0&&!(zn&6)&&Tg();var e=zn;zn|=1;var n=zs.transition,r=Jn;try{if(zs.transition=null,Jn=1,t)return t()}finally{Jn=r,zs.transition=n,zn=e,!(zn&6)&&od()}}function GP(){Ga=pg.current,_r(pg)}function Th(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NZ(n)),vi!==null)for(n=vi.return;n!==null;){var r=n;switch(EP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uS();break;case 3:Wg(),_r(ha),_r(Eo),kP();break;case 5:OP(r);break;case 4:Wg();break;case 13:_r(kr);break;case 19:_r(kr);break;case 10:RP(r.type._context);break;case 22:case 23:GP()}n=n.return}if(ji=t,vi=t=zf(t.current,null),ro=Ga=e,Ei=0,s1=null,HP=MM=Hh=0,ca=Sy=null,yh!==null){for(e=0;e<yh.length;e++)if(n=yh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}yh=null}return t}function Yz(t,e){do{var n=vi;try{if(AP(),Pw.current=xS,yS){for(var r=Dr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yS=!1}if($h=0,Bi=Si=Dr=null,_y=!1,i1=0,$P.current=null,n===null||n.return===null){Ei=1,s1=e,vi=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=ro,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Ak(a);if(v!==null){v.flags&=-257,Rk(v,a,s,o,e),v.mode&1&&Tk(o,c,e),e=v,l=c;var x=e.updateQueue;if(x===null){var _=new Set;_.add(l),e.updateQueue=_}else x.add(l);break e}else{if(!(e&1)){Tk(o,c,e),jP();break e}l=Error(nt(426))}}else if(Cr&&s.mode&1){var b=Ak(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Rk(b,a,s,o,e),CP(Gg(l,s));break e}}o=l=Gg(l,s),Ei!==4&&(Ei=2),Sy===null?Sy=[o]:Sy.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=Lz(o,l,e);bk(o,y);break e;case 1:s=l;var S=o.type,M=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Ff===null||!Ff.has(M)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=Oz(o,s,e);bk(o,C);break e}}o=o.return}while(o!==null)}Qz(n)}catch(P){e=P,vi===n&&n!==null&&(vi=n=n.return);continue}break}while(1)}function Kz(){var t=bS.current;return bS.current=xS,t===null?xS:t}function jP(){(Ei===0||Ei===3||Ei===2)&&(Ei=4),ji===null||!(Hh&268435455)&&!(MM&268435455)||Tf(ji,ro)}function SS(t,e){var n=zn;zn|=2;var r=Kz();(ji!==t||ro!==e)&&(eu=null,Th(t,e));do try{aQ();break}catch(i){Yz(t,i)}while(1);if(AP(),zn=n,bS.current=r,vi!==null)throw Error(nt(261));return ji=null,ro=0,Ei}function aQ(){for(;vi!==null;)Zz(vi)}function sQ(){for(;vi!==null&&!LK();)Zz(vi)}function Zz(t){var e=eB(t.alternate,t,Ga);t.memoizedProps=t.pendingProps,e===null?Qz(t):vi=e,$P.current=null}function Qz(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eQ(n,e),n!==null){n.flags&=32767,vi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ei=6,vi=null;return}}else if(n=JZ(n,e,Ga),n!==null){vi=n;return}if(e=e.sibling,e!==null){vi=e;return}vi=e=t}while(e!==null);Ei===0&&(Ei=5)}function ah(t,e,n){var r=Jn,i=zs.transition;try{zs.transition=null,Jn=1,lQ(t,e,n,r)}finally{zs.transition=i,Jn=r}return null}function lQ(t,e,n,r){do Tg();while(If!==null);if(zn&6)throw Error(nt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(nt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(HK(t,o),t===ji&&(vi=ji=null,ro=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||n_||(n_=!0,tB(iS,function(){return Tg(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zs.transition,zs.transition=null;var a=Jn;Jn=1;var s=zn;zn|=4,$P.current=null,nQ(t,n),jz(n,t),AZ(qA),aS=!!XA,qA=XA=null,t.current=n,rQ(n),OK(),zn=s,Jn=a,zs.transition=o}else t.current=n;if(n_&&(n_=!1,If=t,wS=i),o=t.pendingLanes,o===0&&(Ff=null),DK(n.stateNode),ma(t,oi()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_S)throw _S=!1,t=pR,pR=null,t;return wS&1&&t.tag!==0&&Tg(),o=t.pendingLanes,o&1?t===mR?My++:(My=0,mR=t):My=0,od(),null}function Tg(){if(If!==null){var t=I6(wS),e=zs.transition,n=Jn;try{if(zs.transition=null,Jn=16>t?16:t,If===null)var r=!1;else{if(t=If,If=null,wS=0,zn&6)throw Error(nt(331));var i=zn;for(zn|=4,St=t.current;St!==null;){var o=St,a=o.child;if(St.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(St=c;St!==null;){var f=St;switch(f.tag){case 0:case 11:case 15:wy(8,f,o)}var p=f.child;if(p!==null)p.return=f,St=p;else for(;St!==null;){f=St;var m=f.sibling,v=f.return;if(Vz(f),f===c){St=null;break}if(m!==null){m.return=v,St=m;break}St=v}}}var x=o.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var b=_.sibling;_.sibling=null,_=b}while(_!==null)}}St=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,St=a;else e:for(;St!==null;){if(o=St,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wy(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,St=y;break e}St=o.return}}var S=t.current;for(St=S;St!==null;){a=St;var M=a.child;if(a.subtreeFlags&2064&&M!==null)M.return=a,St=M;else e:for(a=S;St!==null;){if(s=St,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:SM(9,s)}}catch(P){Xr(s,s.return,P)}if(s===a){St=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,St=C;break e}St=s.return}}if(zn=i,od(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(mM,t)}catch{}r=!0}return r}finally{Jn=n,zs.transition=e}}return!1}function Hk(t,e,n){e=Gg(n,e),e=Lz(t,e,1),t=Df(t,e,1),e=Go(),t!==null&&(K1(t,1,e),ma(t,e))}function Xr(t,e,n){if(t.tag===3)Hk(t,t,n);else for(;e!==null;){if(e.tag===3){Hk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ff===null||!Ff.has(r))){t=Gg(n,t),t=Oz(e,t,1),e=Df(e,t,1),t=Go(),e!==null&&(K1(e,1,t),ma(e,t));break}}e=e.return}}function cQ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Go(),t.pingedLanes|=t.suspendedLanes&n,ji===t&&(ro&n)===n&&(Ei===4||Ei===3&&(ro&130023424)===ro&&500>oi()-VP?Th(t,0):HP|=n),ma(t,e)}function Jz(t,e){e===0&&(t.mode&1?(e=jb,jb<<=1,!(jb&130023424)&&(jb=4194304)):e=1);var n=Go();t=bu(t,e),t!==null&&(K1(t,e,n),ma(t,n))}function uQ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Jz(t,n)}function fQ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(nt(314))}r!==null&&r.delete(e),Jz(t,n)}var eB;eB=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ha.current)da=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return da=!1,QZ(t,e,n);da=!!(t.flags&131072)}else da=!1,Cr&&e.flags&1048576&&rz(e,hS,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lw(t,e),t=e.pendingProps;var i=$g(e,Eo.current);Cg(e,n),i=DP(null,e,r,t,i,n);var o=FP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pa(r)?(o=!0,fS(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,IP(e),i.updater=_M,e.stateNode=i,i._reactInternals=e,rR(e,r,t,n),e=aR(null,e,r,!0,o,n)):(e.tag=0,Cr&&o&&MP(e),$o(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lw(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hQ(r),t=hl(r,t),i){case 0:e=oR(null,e,r,t,n);break e;case 1:e=Lk(null,e,r,t,n);break e;case 11:e=Pk(null,e,r,t,n);break e;case 14:e=Ik(null,e,r,hl(r.type,t),n);break e}throw Error(nt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hl(r,i),oR(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hl(r,i),Lk(t,e,r,i,n);case 3:e:{if(Fz(e),t===null)throw Error(nt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,sz(t,e),gS(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Gg(Error(nt(423)),e),e=Ok(t,e,r,n,i);break e}else if(r!==i){i=Gg(Error(nt(424)),e),e=Ok(t,e,r,n,i);break e}else for(Qa=Nf(e.stateNode.containerInfo.firstChild),ns=e,Cr=!0,vl=null,n=fz(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hg(),r===i){e=_u(t,e,n);break e}$o(t,e,r,n)}e=e.child}return e;case 5:return dz(e),t===null&&eR(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,YA(r,i)?a=null:o!==null&&YA(r,o)&&(e.flags|=32),Dz(t,e),$o(t,e,a,n),e.child;case 6:return t===null&&eR(e),null;case 13:return Uz(t,e,n);case 4:return LP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vg(e,null,r,n):$o(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hl(r,i),Pk(t,e,r,i,n);case 7:return $o(t,e,e.pendingProps,n),e.child;case 8:return $o(t,e,e.pendingProps.children,n),e.child;case 12:return $o(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,gr(pS,r._currentValue),r._currentValue=a,o!==null)if(Tl(o.value,a)){if(o.children===i.children&&!ha.current){e=_u(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=pu(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tR(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(nt(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),tR(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}$o(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Cg(e,n),i=Hs(i),r=r(i),e.flags|=1,$o(t,e,r,n),e.child;case 14:return r=e.type,i=hl(r,e.pendingProps),i=hl(r.type,i),Ik(t,e,r,i,n);case 15:return kz(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hl(r,i),Lw(t,e),e.tag=1,pa(r)?(t=!0,fS(e)):t=!1,Cg(e,n),cz(e,r,i),rR(e,r,i,n),aR(null,e,r,!0,t,n);case 19:return zz(t,e,n);case 22:return Nz(t,e,n)}throw Error(nt(156,e.tag))};function tB(t,e){return T6(t,e)}function dQ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Us(t,e,n,r){return new dQ(t,e,n,r)}function XP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hQ(t){if(typeof t=="function")return XP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dP)return 11;if(t===hP)return 14}return 2}function zf(t,e){var n=t.alternate;return n===null?(n=Us(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nw(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")XP(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ig:return Ah(n.children,i,o,e);case fP:a=8,i|=8;break;case TA:return t=Us(12,n,e,i|2),t.elementType=TA,t.lanes=o,t;case AA:return t=Us(13,n,e,i),t.elementType=AA,t.lanes=o,t;case RA:return t=Us(19,n,e,i),t.elementType=RA,t.lanes=o,t;case u6:return EM(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l6:a=10;break e;case c6:a=9;break e;case dP:a=11;break e;case hP:a=14;break e;case Sf:a=16,r=null;break e}throw Error(nt(130,t==null?t:typeof t,""))}return e=Us(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ah(t,e,n,r){return t=Us(7,t,r,e),t.lanes=n,t}function EM(t,e,n,r){return t=Us(22,t,r,e),t.elementType=u6,t.lanes=n,t.stateNode={isHidden:!1},t}function UC(t,e,n){return t=Us(6,t,null,e),t.lanes=n,t}function zC(t,e,n){return e=Us(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pQ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xC(0),this.expirationTimes=xC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xC(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qP(t,e,n,r,i,o,a,s,l){return t=new pQ(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Us(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},IP(o),t}function mQ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rg,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nB(t){if(!t)return qf;t=t._reactInternals;e:{if(rp(t)!==t||t.tag!==1)throw Error(nt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(nt(171))}if(t.tag===1){var n=t.type;if(pa(n))return tz(t,n,e)}return e}function rB(t,e,n,r,i,o,a,s,l){return t=qP(n,r,!0,t,i,o,a,s,l),t.context=nB(null),n=t.current,r=Go(),i=Uf(n),o=pu(r,i),o.callback=e??null,Df(n,o,i),t.current.lanes=i,K1(t,i,r),ma(t,r),t}function CM(t,e,n,r){var i=e.current,o=Go(),a=Uf(i);return n=nB(n),e.context===null?e.context=n:e.pendingContext=n,e=pu(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Df(i,e,a),t!==null&&(Cl(t,i,a,o),Rw(t,i,a)),a}function MS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function YP(t,e){Vk(t,e),(t=t.alternate)&&Vk(t,e)}function gQ(){return null}var iB=typeof reportError=="function"?reportError:function(t){console.error(t)};function KP(t){this._internalRoot=t}TM.prototype.render=KP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(nt(409));CM(t,e,null,null)};TM.prototype.unmount=KP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vh(function(){CM(null,t,null,null)}),e[xu]=null}};function TM(t){this._internalRoot=t}TM.prototype.unstable_scheduleHydration=function(t){if(t){var e=k6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cf.length&&e!==0&&e<Cf[n].priority;n++);Cf.splice(n,0,t),n===0&&D6(t)}};function ZP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function AM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wk(){}function vQ(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=MS(a);o.call(c)}}var a=rB(e,r,t,0,null,!1,!1,"",Wk);return t._reactRootContainer=a,t[xu]=a.current,Jy(t.nodeType===8?t.parentNode:t),Vh(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=MS(l);s.call(c)}}var l=qP(t,0,!1,null,null,!1,!1,"",Wk);return t._reactRootContainer=l,t[xu]=l.current,Jy(t.nodeType===8?t.parentNode:t),Vh(function(){CM(e,l,n,r)}),l}function RM(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=MS(a);s.call(l)}}CM(e,a,t,i)}else a=vQ(n,e,t,i,r);return MS(a)}L6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=oy(e.pendingLanes);n!==0&&(gP(e,n|1),ma(e,oi()),!(zn&6)&&(jg=oi()+500,od()))}break;case 13:Vh(function(){var r=bu(t,1);if(r!==null){var i=Go();Cl(r,t,1,i)}}),YP(t,1)}};vP=function(t){if(t.tag===13){var e=bu(t,134217728);if(e!==null){var n=Go();Cl(e,t,134217728,n)}YP(t,134217728)}};O6=function(t){if(t.tag===13){var e=Uf(t),n=bu(t,e);if(n!==null){var r=Go();Cl(n,t,e,r)}YP(t,e)}};k6=function(){return Jn};N6=function(t,e){var n=Jn;try{return Jn=t,e()}finally{Jn=n}};zA=function(t,e,n){switch(e){case"input":if(LA(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xM(r);if(!i)throw Error(nt(90));d6(r),LA(r,i)}}}break;case"textarea":p6(t,n);break;case"select":e=n.value,e!=null&&wg(t,!!n.multiple,e,!1)}};_6=WP;w6=Vh;var yQ={usingClientEntryPoint:!1,Events:[Q1,lg,xM,x6,b6,WP]},Rv={findFiberByHostInstance:vh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xQ={bundleType:Rv.bundleType,version:Rv.version,rendererPackageName:Rv.rendererPackageName,rendererConfig:Rv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ru.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=E6(t),t===null?null:t.stateNode},findFiberByHostInstance:Rv.findFiberByHostInstance||gQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r_.isDisabled&&r_.supportsFiber)try{mM=r_.inject(xQ),lc=r_}catch{}}cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yQ;cs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZP(e))throw Error(nt(200));return mQ(t,e,null,n)};cs.createRoot=function(t,e){if(!ZP(t))throw Error(nt(299));var n=!1,r="",i=iB;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qP(t,1,!1,null,null,n,!1,r,i),t[xu]=e.current,Jy(t.nodeType===8?t.parentNode:t),new KP(e)};cs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(nt(188)):(t=Object.keys(t).join(","),Error(nt(268,t)));return t=E6(e),t=t===null?null:t.stateNode,t};cs.flushSync=function(t){return Vh(t)};cs.hydrate=function(t,e,n){if(!AM(e))throw Error(nt(200));return RM(null,t,e,!0,n)};cs.hydrateRoot=function(t,e,n){if(!ZP(t))throw Error(nt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=iB;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=rB(e,null,t,1,n??null,i,!1,o,a),t[xu]=e.current,Jy(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new TM(e)};cs.render=function(t,e,n){if(!AM(e))throw Error(nt(200));return RM(null,t,e,!1,n)};cs.unmountComponentAtNode=function(t){if(!AM(t))throw Error(nt(40));return t._reactRootContainer?(Vh(function(){RM(null,null,t,!1,function(){t._reactRootContainer=null,t[xu]=null})}),!0):!1};cs.unstable_batchedUpdates=WP;cs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!AM(n))throw Error(nt(200));if(t==null||t._reactInternals===void 0)throw Error(nt(38));return RM(t,e,n,!1,r)};cs.version="18.2.0-next-9e3b772b8-20220608";function oB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oB)}catch(t){console.error(t)}}oB(),r6.exports=cs;var ad=r6.exports;const i_=Au(ad);var aB,Gk=ad;aB=EA.createRoot=Gk.createRoot,EA.hydrateRoot=Gk.hydrateRoot;const bQ={black:"#000",white:"#fff"},l1=bQ,_Q={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},nm=_Q,wQ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},rm=wQ,SQ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},im=SQ,MQ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},om=MQ,EQ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},am=EQ,CQ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Pv=CQ,TQ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},AQ=TQ;function j(){return j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j.apply(this,arguments)}function ou(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function sB(t){if(!ou(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=sB(t[n])}),e}function So(t,e,n={clone:!0}){const r=n.clone?j({},t):t;return ou(t)&&ou(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(ou(e[i])&&i in t&&ou(t[i])?r[i]=So(t[i],e[i],n):n.clone?r[i]=ou(e[i])?sB(e[i]):e[i]:r[i]=e[i])}),r}var lB={exports:{}},RQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PQ=RQ,IQ=PQ;function cB(){}function uB(){}uB.resetWarningCache=cB;var LQ=function(){function t(r,i,o,a,s,l){if(l!==IQ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:uB,resetWarningCache:cB};return n.PropTypes=n,n};lB.exports=LQ();var d0=lB.exports;const qe=Au(d0);function Yf(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var rr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP=Symbol.for("react.element"),JP=Symbol.for("react.portal"),PM=Symbol.for("react.fragment"),IM=Symbol.for("react.strict_mode"),LM=Symbol.for("react.profiler"),OM=Symbol.for("react.provider"),kM=Symbol.for("react.context"),OQ=Symbol.for("react.server_context"),NM=Symbol.for("react.forward_ref"),DM=Symbol.for("react.suspense"),FM=Symbol.for("react.suspense_list"),UM=Symbol.for("react.memo"),zM=Symbol.for("react.lazy"),kQ=Symbol.for("react.offscreen"),fB;fB=Symbol.for("react.module.reference");function qs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case QP:switch(t=t.type,t){case PM:case LM:case IM:case DM:case FM:return t;default:switch(t=t&&t.$$typeof,t){case OQ:case kM:case NM:case zM:case UM:case OM:return t;default:return e}}case JP:return e}}}rr.ContextConsumer=kM;rr.ContextProvider=OM;rr.Element=QP;rr.ForwardRef=NM;rr.Fragment=PM;rr.Lazy=zM;rr.Memo=UM;rr.Portal=JP;rr.Profiler=LM;rr.StrictMode=IM;rr.Suspense=DM;rr.SuspenseList=FM;rr.isAsyncMode=function(){return!1};rr.isConcurrentMode=function(){return!1};rr.isContextConsumer=function(t){return qs(t)===kM};rr.isContextProvider=function(t){return qs(t)===OM};rr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===QP};rr.isForwardRef=function(t){return qs(t)===NM};rr.isFragment=function(t){return qs(t)===PM};rr.isLazy=function(t){return qs(t)===zM};rr.isMemo=function(t){return qs(t)===UM};rr.isPortal=function(t){return qs(t)===JP};rr.isProfiler=function(t){return qs(t)===LM};rr.isStrictMode=function(t){return qs(t)===IM};rr.isSuspense=function(t){return qs(t)===DM};rr.isSuspenseList=function(t){return qs(t)===FM};rr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===PM||t===LM||t===IM||t===DM||t===FM||t===kQ||typeof t=="object"&&t!==null&&(t.$$typeof===zM||t.$$typeof===UM||t.$$typeof===OM||t.$$typeof===kM||t.$$typeof===NM||t.$$typeof===fB||t.getModuleId!==void 0)};rr.typeOf=qs;function Qe(t){if(typeof t!="string")throw new Error(Yf(7));return t.charAt(0).toUpperCase()+t.slice(1)}function ES(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function BM(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function NQ(t,e){return()=>null}function Ey(t,e){var n,r;return F.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Mo(t){return t&&t.ownerDocument||document}function xc(t){return Mo(t).defaultView||window}function DQ(t,e){return()=>null}function c1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const FQ=typeof window<"u"?F.useLayoutEffect:F.useEffect,Ws=FQ;let jk=0;function UQ(t){const[e,n]=F.useState(t),r=t||e;return F.useEffect(()=>{e==null&&(jk+=1,n(`mui-${jk}`))},[e]),r}const Xk=MA["useId".toString()];function ex(t){if(Xk!==void 0){const e=Xk();return t??e}return UQ(t)}function zQ(t,e,n,r,i){return null}function Bf({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=F.useRef(t!==void 0),[o,a]=F.useState(e),s=i?t:o,l=F.useCallback(c=>{i||a(c)},[]);return[s,l]}function _l(t){const e=F.useRef(t);return Ws(()=>{e.current=t}),F.useRef((...n)=>(0,e.current)(...n)).current}function Ur(...t){return F.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{c1(n,e)})},t)}let $M=!0,yR=!1,qk;const BQ={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function $Q(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&BQ[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function HQ(t){t.metaKey||t.altKey||t.ctrlKey||($M=!0)}function BC(){$M=!1}function VQ(){this.visibilityState==="hidden"&&yR&&($M=!0)}function WQ(t){t.addEventListener("keydown",HQ,!0),t.addEventListener("mousedown",BC,!0),t.addEventListener("pointerdown",BC,!0),t.addEventListener("touchstart",BC,!0),t.addEventListener("visibilitychange",VQ,!0)}function GQ(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return $M||$Q(e)}function dB(){const t=F.useCallback(i=>{i!=null&&WQ(i.ownerDocument)},[]),e=F.useRef(!1);function n(){return e.current?(yR=!0,window.clearTimeout(qk),qk=window.setTimeout(()=>{yR=!1},100),e.current=!1,!0):!1}function r(i){return GQ(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function hB(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}const jQ=t=>{const e=F.useRef({});return F.useEffect(()=>{e.current=t}),e.current},XQ=jQ;function eI(t,e){const n=j({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=j({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=j({},o),Object.keys(i).forEach(a=>{n[r][a]=eI(i[a],o[a])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function an(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,a)=>{if(a){const s=e(a);s!==""&&o.push(s),n&&n[a]&&o.push(n[a])}return o},[]).join(" ")}),r}const Yk=t=>t,qQ=()=>{let t=Yk;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Yk}}},YQ=qQ(),tI=YQ,KQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tn(t,e,n="Mui"){const r=KQ[e];return r?`${n}-${r}`:`${tI.generate(t)}-${e}`}function Zt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=tn(t,i,n)}),r}const tx="$$material";function ht(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pB(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ZQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,QQ=pB(function(t){return ZQ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function JQ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function eJ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var tJ=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(eJ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=JQ(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),_o="-ms-",CS="-moz-",Hn="-webkit-",mB="comm",nI="rule",rI="decl",nJ="@import",gB="@keyframes",rJ="@layer",iJ=Math.abs,HM=String.fromCharCode,oJ=Object.assign;function aJ(t,e){return eo(t,0)^45?(((e<<2^eo(t,0))<<2^eo(t,1))<<2^eo(t,2))<<2^eo(t,3):0}function vB(t){return t.trim()}function sJ(t,e){return(t=e.exec(t))?t[0]:t}function Vn(t,e,n){return t.replace(e,n)}function xR(t,e){return t.indexOf(e)}function eo(t,e){return t.charCodeAt(e)|0}function u1(t,e,n){return t.slice(e,n)}function nc(t){return t.length}function iI(t){return t.length}function o_(t,e){return e.push(t),t}function lJ(t,e){return t.map(e).join("")}var VM=1,Xg=1,yB=0,xa=0,gi=0,h0="";function WM(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:VM,column:Xg,length:a,return:""}}function Iv(t,e){return oJ(WM("",null,null,"",null,null,0),t,{length:-t.length},e)}function cJ(){return gi}function uJ(){return gi=xa>0?eo(h0,--xa):0,Xg--,gi===10&&(Xg=1,VM--),gi}function rs(){return gi=xa<yB?eo(h0,xa++):0,Xg++,gi===10&&(Xg=1,VM++),gi}function uc(){return eo(h0,xa)}function Dw(){return xa}function nx(t,e){return u1(h0,t,e)}function f1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xB(t){return VM=Xg=1,yB=nc(h0=t),xa=0,[]}function bB(t){return h0="",t}function Fw(t){return vB(nx(xa-1,bR(t===91?t+2:t===40?t+1:t)))}function fJ(t){for(;(gi=uc())&&gi<33;)rs();return f1(t)>2||f1(gi)>3?"":" "}function dJ(t,e){for(;--e&&rs()&&!(gi<48||gi>102||gi>57&&gi<65||gi>70&&gi<97););return nx(t,Dw()+(e<6&&uc()==32&&rs()==32))}function bR(t){for(;rs();)switch(gi){case t:return xa;case 34:case 39:t!==34&&t!==39&&bR(gi);break;case 40:t===41&&bR(t);break;case 92:rs();break}return xa}function hJ(t,e){for(;rs()&&t+gi!==47+10;)if(t+gi===42+42&&uc()===47)break;return"/*"+nx(e,xa-1)+"*"+HM(t===47?t:rs())}function pJ(t){for(;!f1(uc());)rs();return nx(t,xa)}function mJ(t){return bB(Uw("",null,null,null,[""],t=xB(t),0,[0],t))}function Uw(t,e,n,r,i,o,a,s,l){for(var c=0,f=0,p=a,m=0,v=0,x=0,_=1,b=1,y=1,S=0,M="",C=i,P=o,A=r,R=M;b;)switch(x=S,S=rs()){case 40:if(x!=108&&eo(R,p-1)==58){xR(R+=Vn(Fw(S),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:R+=Fw(S);break;case 9:case 10:case 13:case 32:R+=fJ(x);break;case 92:R+=dJ(Dw()-1,7);continue;case 47:switch(uc()){case 42:case 47:o_(gJ(hJ(rs(),Dw()),e,n),l);break;default:R+="/"}break;case 123*_:s[c++]=nc(R)*y;case 125*_:case 59:case 0:switch(S){case 0:case 125:b=0;case 59+f:y==-1&&(R=Vn(R,/\f/g,"")),v>0&&nc(R)-p&&o_(v>32?Zk(R+";",r,n,p-1):Zk(Vn(R," ","")+";",r,n,p-2),l);break;case 59:R+=";";default:if(o_(A=Kk(R,e,n,c,f,i,s,M,C=[],P=[],p),o),S===123)if(f===0)Uw(R,e,A,A,C,o,p,s,P);else switch(m===99&&eo(R,3)===110?100:m){case 100:case 108:case 109:case 115:Uw(t,A,A,r&&o_(Kk(t,A,A,0,0,i,s,M,i,C=[],p),P),i,P,p,s,r?C:P);break;default:Uw(R,A,A,A,[""],P,0,s,P)}}c=f=v=0,_=y=1,M=R="",p=a;break;case 58:p=1+nc(R),v=x;default:if(_<1){if(S==123)--_;else if(S==125&&_++==0&&uJ()==125)continue}switch(R+=HM(S),S*_){case 38:y=f>0?1:(R+="\f",-1);break;case 44:s[c++]=(nc(R)-1)*y,y=1;break;case 64:uc()===45&&(R+=Fw(rs())),m=uc(),f=p=nc(M=R+=pJ(Dw())),S++;break;case 45:x===45&&nc(R)==2&&(_=0)}}return o}function Kk(t,e,n,r,i,o,a,s,l,c,f){for(var p=i-1,m=i===0?o:[""],v=iI(m),x=0,_=0,b=0;x<r;++x)for(var y=0,S=u1(t,p+1,p=iJ(_=a[x])),M=t;y<v;++y)(M=vB(_>0?m[y]+" "+S:Vn(S,/&\f/g,m[y])))&&(l[b++]=M);return WM(t,e,n,i===0?nI:s,l,c,f)}function gJ(t,e,n){return WM(t,e,n,mB,HM(cJ()),u1(t,2,-2),0)}function Zk(t,e,n,r){return WM(t,e,n,rI,u1(t,0,r),u1(t,r+1,-1),r)}function Ag(t,e){for(var n="",r=iI(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function vJ(t,e,n,r){switch(t.type){case rJ:if(t.children.length)break;case nJ:case rI:return t.return=t.return||t.value;case mB:return"";case gB:return t.return=t.value+"{"+Ag(t.children,r)+"}";case nI:t.value=t.props.join(",")}return nc(n=Ag(t.children,r))?t.return=t.value+"{"+n+"}":""}function yJ(t){var e=iI(t);return function(n,r,i,o){for(var a="",s=0;s<e;s++)a+=t[s](n,r,i,o)||"";return a}}function xJ(t){return function(e){e.root||(e=e.return)&&t(e)}}var bJ=function(e,n,r){for(var i=0,o=0;i=o,o=uc(),i===38&&o===12&&(n[r]=1),!f1(o);)rs();return nx(e,xa)},_J=function(e,n){var r=-1,i=44;do switch(f1(i)){case 0:i===38&&uc()===12&&(n[r]=1),e[r]+=bJ(xa-1,n,r);break;case 2:e[r]+=Fw(i);break;case 4:if(i===44){e[++r]=uc()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=HM(i)}while(i=rs());return e},wJ=function(e,n){return bB(_J(xB(e),n))},Qk=new WeakMap,SJ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Qk.get(r))&&!i){Qk.set(e,!0);for(var o=[],a=wJ(n,o),s=r.props,l=0,c=0;l<a.length;l++)for(var f=0;f<s.length;f++,c++)e.props[c]=o[l]?a[l].replace(/&\f/g,s[f]):s[f]+" "+a[l]}}},MJ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function _B(t,e){switch(aJ(t,e)){case 5103:return Hn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Hn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Hn+t+CS+t+_o+t+t;case 6828:case 4268:return Hn+t+_o+t+t;case 6165:return Hn+t+_o+"flex-"+t+t;case 5187:return Hn+t+Vn(t,/(\w+).+(:[^]+)/,Hn+"box-$1$2"+_o+"flex-$1$2")+t;case 5443:return Hn+t+_o+"flex-item-"+Vn(t,/flex-|-self/,"")+t;case 4675:return Hn+t+_o+"flex-line-pack"+Vn(t,/align-content|flex-|-self/,"")+t;case 5548:return Hn+t+_o+Vn(t,"shrink","negative")+t;case 5292:return Hn+t+_o+Vn(t,"basis","preferred-size")+t;case 6060:return Hn+"box-"+Vn(t,"-grow","")+Hn+t+_o+Vn(t,"grow","positive")+t;case 4554:return Hn+Vn(t,/([^-])(transform)/g,"$1"+Hn+"$2")+t;case 6187:return Vn(Vn(Vn(t,/(zoom-|grab)/,Hn+"$1"),/(image-set)/,Hn+"$1"),t,"")+t;case 5495:case 3959:return Vn(t,/(image-set\([^]*)/,Hn+"$1$`$1");case 4968:return Vn(Vn(t,/(.+:)(flex-)?(.*)/,Hn+"box-pack:$3"+_o+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Hn+t+t;case 4095:case 3583:case 4068:case 2532:return Vn(t,/(.+)-inline(.+)/,Hn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nc(t)-1-e>6)switch(eo(t,e+1)){case 109:if(eo(t,e+4)!==45)break;case 102:return Vn(t,/(.+:)(.+)-([^]+)/,"$1"+Hn+"$2-$3$1"+CS+(eo(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~xR(t,"stretch")?_B(Vn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(eo(t,e+1)!==115)break;case 6444:switch(eo(t,nc(t)-3-(~xR(t,"!important")&&10))){case 107:return Vn(t,":",":"+Hn)+t;case 101:return Vn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Hn+(eo(t,14)===45?"inline-":"")+"box$3$1"+Hn+"$2$3$1"+_o+"$2box$3")+t}break;case 5936:switch(eo(t,e+11)){case 114:return Hn+t+_o+Vn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Hn+t+_o+Vn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Hn+t+_o+Vn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Hn+t+_o+t+t}return t}var EJ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case rI:e.return=_B(e.value,e.length);break;case gB:return Ag([Iv(e,{value:Vn(e.value,"@","@"+Hn)})],i);case nI:if(e.length)return lJ(e.props,function(o){switch(sJ(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ag([Iv(e,{props:[Vn(o,/:(read-\w+)/,":"+CS+"$1")]})],i);case"::placeholder":return Ag([Iv(e,{props:[Vn(o,/:(plac\w+)/,":"+Hn+"input-$1")]}),Iv(e,{props:[Vn(o,/:(plac\w+)/,":"+CS+"$1")]}),Iv(e,{props:[Vn(o,/:(plac\w+)/,_o+"input-$1")]})],i)}return""})}},CJ=[EJ],TJ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var b=_.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||CJ,o={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var b=_.getAttribute("data-emotion").split(" "),y=1;y<b.length;y++)o[b[y]]=!0;s.push(_)});var l,c=[SJ,MJ];{var f,p=[vJ,xJ(function(_){f.insert(_)})],m=yJ(c.concat(i,p)),v=function(b){return Ag(mJ(b),m)};l=function(b,y,S,M){f=S,v(b?b+"{"+y.styles+"}":y.styles),M&&(x.inserted[y.name]=!0)}}var x={key:n,sheet:new tJ({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return x.sheet.hydrate(s),x},wB={exports:{}},er={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=typeof Symbol=="function"&&Symbol.for,oI=Xi?Symbol.for("react.element"):60103,aI=Xi?Symbol.for("react.portal"):60106,GM=Xi?Symbol.for("react.fragment"):60107,jM=Xi?Symbol.for("react.strict_mode"):60108,XM=Xi?Symbol.for("react.profiler"):60114,qM=Xi?Symbol.for("react.provider"):60109,YM=Xi?Symbol.for("react.context"):60110,sI=Xi?Symbol.for("react.async_mode"):60111,KM=Xi?Symbol.for("react.concurrent_mode"):60111,ZM=Xi?Symbol.for("react.forward_ref"):60112,QM=Xi?Symbol.for("react.suspense"):60113,AJ=Xi?Symbol.for("react.suspense_list"):60120,JM=Xi?Symbol.for("react.memo"):60115,eE=Xi?Symbol.for("react.lazy"):60116,RJ=Xi?Symbol.for("react.block"):60121,PJ=Xi?Symbol.for("react.fundamental"):60117,IJ=Xi?Symbol.for("react.responder"):60118,LJ=Xi?Symbol.for("react.scope"):60119;function fs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case oI:switch(t=t.type,t){case sI:case KM:case GM:case XM:case jM:case QM:return t;default:switch(t=t&&t.$$typeof,t){case YM:case ZM:case eE:case JM:case qM:return t;default:return e}}case aI:return e}}}function SB(t){return fs(t)===KM}er.AsyncMode=sI;er.ConcurrentMode=KM;er.ContextConsumer=YM;er.ContextProvider=qM;er.Element=oI;er.ForwardRef=ZM;er.Fragment=GM;er.Lazy=eE;er.Memo=JM;er.Portal=aI;er.Profiler=XM;er.StrictMode=jM;er.Suspense=QM;er.isAsyncMode=function(t){return SB(t)||fs(t)===sI};er.isConcurrentMode=SB;er.isContextConsumer=function(t){return fs(t)===YM};er.isContextProvider=function(t){return fs(t)===qM};er.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===oI};er.isForwardRef=function(t){return fs(t)===ZM};er.isFragment=function(t){return fs(t)===GM};er.isLazy=function(t){return fs(t)===eE};er.isMemo=function(t){return fs(t)===JM};er.isPortal=function(t){return fs(t)===aI};er.isProfiler=function(t){return fs(t)===XM};er.isStrictMode=function(t){return fs(t)===jM};er.isSuspense=function(t){return fs(t)===QM};er.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===GM||t===KM||t===XM||t===jM||t===QM||t===AJ||typeof t=="object"&&t!==null&&(t.$$typeof===eE||t.$$typeof===JM||t.$$typeof===qM||t.$$typeof===YM||t.$$typeof===ZM||t.$$typeof===PJ||t.$$typeof===IJ||t.$$typeof===LJ||t.$$typeof===RJ)};er.typeOf=fs;wB.exports=er;var OJ=wB.exports,MB=OJ,kJ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},NJ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},EB={};EB[MB.ForwardRef]=kJ;EB[MB.Memo]=NJ;var DJ=!0;function FJ(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var CB=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||DJ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},TB=function(e,n,r){CB(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function UJ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},BJ=/[A-Z]|^ms/g,$J=/_EMO_([^_]+?)_([^]*?)_EMO_/g,AB=function(e){return e.charCodeAt(1)===45},Jk=function(e){return e!=null&&typeof e!="boolean"},$C=pB(function(t){return AB(t)?t:t.replace(BJ,"-$&").toLowerCase()}),e5=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace($J,function(r,i,o){return rc={name:i,styles:o,next:rc},i})}return zJ[e]!==1&&!AB(e)&&typeof n=="number"&&n!==0?n+"px":n};function d1(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return rc={name:n.name,styles:n.styles,next:rc},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)rc={name:r.name,styles:r.styles,next:rc},r=r.next;var i=n.styles+";";return i}return HJ(t,e,n)}case"function":{if(t!==void 0){var o=rc,a=n(t);return rc=o,d1(t,e,a)}break}}if(e==null)return n;var s=e[n];return s!==void 0?s:n}function HJ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d1(t,e,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object")e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":Jk(a)&&(r+=$C(o)+":"+e5(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var s=0;s<a.length;s++)Jk(a[s])&&(r+=$C(o)+":"+e5(o,a[s])+";");else{var l=d1(t,e,a);switch(o){case"animation":case"animationName":{r+=$C(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var t5=/label:\s*([^\s;\n{]+)\s*(;|$)/g,rc,lI=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";rc=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,o+=d1(r,n,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=d1(r,n,e[s]),i&&(o+=a[s]);t5.lastIndex=0;for(var l="",c;(c=t5.exec(o))!==null;)l+="-"+c[1];var f=UJ(o)+l;return{name:f,styles:o,next:rc}},VJ=function(e){return e()},RB=MA["useInsertionEffect"]?MA["useInsertionEffect"]:!1,WJ=RB||VJ,n5=RB||F.useLayoutEffect,PB=F.createContext(typeof HTMLElement<"u"?TJ({key:"css"}):null);PB.Provider;var IB=function(e){return F.forwardRef(function(n,r){var i=F.useContext(PB);return e(n,i,r)})},cI=F.createContext({}),GJ=IB(function(t,e){var n=t.styles,r=lI([n],void 0,F.useContext(cI)),i=F.useRef();return n5(function(){var o=e.key+"-global",a=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",o),a.hydrate([l])),i.current=[a,s],function(){a.flush()}},[e]),n5(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(r.next!==void 0&&TB(e,r.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function jJ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return lI(e)}var uI=function(){var e=jJ.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},XJ=QQ,qJ=function(e){return e!=="theme"},r5=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?XJ:qJ},i5=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(a){return e.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},YJ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return CB(n,r,i),WJ(function(){return TB(n,r,i)}),null},KJ=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,a;n!==void 0&&(o=n.label,a=n.target);var s=i5(e,n,r),l=s||r5(i),c=!l("as");return function(){var f=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&p.push("label:"+o+";"),f[0]==null||f[0].raw===void 0)p.push.apply(p,f);else{p.push(f[0][0]);for(var m=f.length,v=1;v<m;v++)p.push(f[v],f[0][v])}var x=IB(function(_,b,y){var S=c&&_.as||i,M="",C=[],P=_;if(_.theme==null){P={};for(var A in _)P[A]=_[A];P.theme=F.useContext(cI)}typeof _.className=="string"?M=FJ(b.registered,C,_.className):_.className!=null&&(M=_.className+" ");var R=lI(p.concat(C),b.registered,P);M+=b.key+"-"+R.name,a!==void 0&&(M+=" "+a);var U=c&&s===void 0?r5(S):l,O={};for(var N in _)c&&N==="as"||U(N)&&(O[N]=_[N]);return O.className=M,O.ref=y,F.createElement(F.Fragment,null,F.createElement(YJ,{cache:b,serialized:R,isStringTag:typeof S=="string"}),F.createElement(S,O))});return x.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=p,x.__emotion_forwardProp=s,Object.defineProperty(x,"toString",{value:function(){return"."+a}}),x.withComponent=function(_,b){return t(_,j({},n,b,{shouldForwardProp:i5(x,b,!0)})).apply(void 0,p)},x}},ZJ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],_R=KJ.bind();ZJ.forEach(function(t){_R[t]=_R(t)});function QJ(t){return t==null||Object.keys(t).length===0}function JJ(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(QJ(i)?n:i):e;return k.jsx(GJ,{styles:r})}/**
 * @mui/styled-engine v5.14.17
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function LB(t,e){return _R(t,e)}const eee=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},tee=["values","unit","step"],nee=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>j({},n,{[r.key]:r.val}),{})};function ree(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ht(t,tee),o=nee(e),a=Object.keys(o);function s(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function l(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function c(m,v){const x=a.indexOf(v);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(x!==-1&&typeof e[a[x]]=="number"?e[a[x]]:v)-r/100}${n})`}function f(m){return a.indexOf(m)+1<a.length?c(m,a[a.indexOf(m)+1]):s(m)}function p(m){const v=a.indexOf(m);return v===0?s(a[1]):v===a.length-1?l(a[v]):c(m,a[a.indexOf(m)+1]).replace("@media","@media not all and")}return j({keys:a,values:o,up:s,down:l,between:c,only:f,not:p,unit:n},i)}const iee={borderRadius:4},oee=iee;function Cy(t,e){return e?So(t,e,{clone:!1}):t}const fI={xs:0,sm:600,md:900,lg:1200,xl:1536},o5={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${fI[t]}px)`};function Al(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||o5;return e.reduce((a,s,l)=>(a[o.up(o.keys[l])]=n(e[l]),a),{})}if(typeof e=="object"){const o=r.breakpoints||o5;return Object.keys(e).reduce((a,s)=>{if(Object.keys(o.values||fI).indexOf(s)!==-1){const l=o.up(s);a[l]=n(e[s],s)}else{const l=s;a[l]=e[l]}return a},{})}return n(e)}function OB(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function kB(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function aee(t,...e){const n=OB(t),r=[n,...e].reduce((i,o)=>So(i,o),{});return kB(Object.keys(n),r)}function see(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function HC({values:t,breakpoints:e,base:n}){const r=n||see(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((a,s,l)=>(Array.isArray(t)?(a[s]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(a[s]=t[s]!=null?t[s]:t[o],o=s):a[s]=t,a),{})}function tE(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function TS(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=tE(t,n)||r,e&&(i=e(i,r,t)),i}function Kn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=a=>{if(a[e]==null)return null;const s=a[e],l=a.theme,c=tE(l,r)||{};return Al(a,s,p=>{let m=TS(c,i,p);return p===m&&typeof p=="string"&&(m=TS(c,i,`${e}${p==="default"?"":Qe(p)}`,p)),n===!1?m:{[n]:m}})};return o.propTypes={},o.filterProps=[e],o}function lee(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const cee={m:"margin",p:"padding"},uee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},a5={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},fee=lee(t=>{if(t.length>2)if(a5[t])t=a5[t];else return[t];const[e,n]=t.split(""),r=cee[e],i=uee[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),dI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],hI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...dI,...hI];function rx(t,e,n,r){var i;const o=(i=tE(t,e,!1))!=null?i:n;return typeof o=="number"?a=>typeof a=="string"?a:o*a:Array.isArray(o)?a=>typeof a=="string"?a:o[a]:typeof o=="function"?o:()=>{}}function pI(t){return rx(t,"spacing",8)}function Wh(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function dee(t,e){return n=>t.reduce((r,i)=>(r[i]=Wh(e,n),r),{})}function hee(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=fee(n),o=dee(i,r),a=t[n];return Al(t,a,o)}function NB(t,e){const n=pI(t.theme);return Object.keys(t).map(r=>hee(t,e,r,n)).reduce(Cy,{})}function Gr(t){return NB(t,dI)}Gr.propTypes={};Gr.filterProps=dI;function jr(t){return NB(t,hI)}jr.propTypes={};jr.filterProps=hI;function pee(t=8){if(t.mui)return t;const e=pI({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const a=e(o);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function nE(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Cy(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function oc(t){return typeof t!="number"?t:`${t}px solid`}const mee=Kn({prop:"border",themeKey:"borders",transform:oc}),gee=Kn({prop:"borderTop",themeKey:"borders",transform:oc}),vee=Kn({prop:"borderRight",themeKey:"borders",transform:oc}),yee=Kn({prop:"borderBottom",themeKey:"borders",transform:oc}),xee=Kn({prop:"borderLeft",themeKey:"borders",transform:oc}),bee=Kn({prop:"borderColor",themeKey:"palette"}),_ee=Kn({prop:"borderTopColor",themeKey:"palette"}),wee=Kn({prop:"borderRightColor",themeKey:"palette"}),See=Kn({prop:"borderBottomColor",themeKey:"palette"}),Mee=Kn({prop:"borderLeftColor",themeKey:"palette"}),rE=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=rx(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Wh(e,r)});return Al(t,t.borderRadius,n)}return null};rE.propTypes={};rE.filterProps=["borderRadius"];nE(mee,gee,vee,yee,xee,bee,_ee,wee,See,Mee,rE);const iE=t=>{if(t.gap!==void 0&&t.gap!==null){const e=rx(t.theme,"spacing",8),n=r=>({gap:Wh(e,r)});return Al(t,t.gap,n)}return null};iE.propTypes={};iE.filterProps=["gap"];const oE=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=rx(t.theme,"spacing",8),n=r=>({columnGap:Wh(e,r)});return Al(t,t.columnGap,n)}return null};oE.propTypes={};oE.filterProps=["columnGap"];const aE=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=rx(t.theme,"spacing",8),n=r=>({rowGap:Wh(e,r)});return Al(t,t.rowGap,n)}return null};aE.propTypes={};aE.filterProps=["rowGap"];const Eee=Kn({prop:"gridColumn"}),Cee=Kn({prop:"gridRow"}),Tee=Kn({prop:"gridAutoFlow"}),Aee=Kn({prop:"gridAutoColumns"}),Ree=Kn({prop:"gridAutoRows"}),Pee=Kn({prop:"gridTemplateColumns"}),Iee=Kn({prop:"gridTemplateRows"}),Lee=Kn({prop:"gridTemplateAreas"}),Oee=Kn({prop:"gridArea"});nE(iE,oE,aE,Eee,Cee,Tee,Aee,Ree,Pee,Iee,Lee,Oee);function Rg(t,e){return e==="grey"?e:t}const kee=Kn({prop:"color",themeKey:"palette",transform:Rg}),Nee=Kn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Rg}),Dee=Kn({prop:"backgroundColor",themeKey:"palette",transform:Rg});nE(kee,Nee,Dee);function Ya(t){return t<=1&&t!==0?`${t*100}%`:t}const Fee=Kn({prop:"width",transform:Ya}),mI=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||fI[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Ya(n)}};return Al(t,t.maxWidth,e)}return null};mI.filterProps=["maxWidth"];const Uee=Kn({prop:"minWidth",transform:Ya}),zee=Kn({prop:"height",transform:Ya}),Bee=Kn({prop:"maxHeight",transform:Ya}),$ee=Kn({prop:"minHeight",transform:Ya});Kn({prop:"size",cssProperty:"width",transform:Ya});Kn({prop:"size",cssProperty:"height",transform:Ya});const Hee=Kn({prop:"boxSizing"});nE(Fee,mI,Uee,zee,Bee,$ee,Hee);const Vee={border:{themeKey:"borders",transform:oc},borderTop:{themeKey:"borders",transform:oc},borderRight:{themeKey:"borders",transform:oc},borderBottom:{themeKey:"borders",transform:oc},borderLeft:{themeKey:"borders",transform:oc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:rE},color:{themeKey:"palette",transform:Rg},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Rg},backgroundColor:{themeKey:"palette",transform:Rg},p:{style:jr},pt:{style:jr},pr:{style:jr},pb:{style:jr},pl:{style:jr},px:{style:jr},py:{style:jr},padding:{style:jr},paddingTop:{style:jr},paddingRight:{style:jr},paddingBottom:{style:jr},paddingLeft:{style:jr},paddingX:{style:jr},paddingY:{style:jr},paddingInline:{style:jr},paddingInlineStart:{style:jr},paddingInlineEnd:{style:jr},paddingBlock:{style:jr},paddingBlockStart:{style:jr},paddingBlockEnd:{style:jr},m:{style:Gr},mt:{style:Gr},mr:{style:Gr},mb:{style:Gr},ml:{style:Gr},mx:{style:Gr},my:{style:Gr},margin:{style:Gr},marginTop:{style:Gr},marginRight:{style:Gr},marginBottom:{style:Gr},marginLeft:{style:Gr},marginX:{style:Gr},marginY:{style:Gr},marginInline:{style:Gr},marginInlineStart:{style:Gr},marginInlineEnd:{style:Gr},marginBlock:{style:Gr},marginBlockStart:{style:Gr},marginBlockEnd:{style:Gr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:iE},rowGap:{style:aE},columnGap:{style:oE},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ya},maxWidth:{style:mI},minWidth:{transform:Ya},height:{transform:Ya},maxHeight:{transform:Ya},minHeight:{transform:Ya},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},sE=Vee;function Wee(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Gee(t,e){return typeof t=="function"?t(e):t}function jee(){function t(n,r,i,o){const a={[n]:r,theme:i},s=o[n];if(!s)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:f,style:p}=s;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const m=tE(i,c)||{};return p?p(a):Al(a,r,x=>{let _=TS(m,f,x);return x===_&&typeof x=="string"&&(_=TS(m,f,`${n}${x==="default"?"":Qe(x)}`,x)),l===!1?_:{[l]:_}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const a=(r=o.unstable_sxConfig)!=null?r:sE;function s(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const f=OB(o.breakpoints),p=Object.keys(f);let m=f;return Object.keys(c).forEach(v=>{const x=Gee(c[v],o);if(x!=null)if(typeof x=="object")if(a[v])m=Cy(m,t(v,x,o,a));else{const _=Al({theme:o},x,b=>({[v]:b}));Wee(_,x)?m[v]=e({sx:x,theme:o}):m=Cy(m,_)}else m=Cy(m,t(v,x,o,a))}),kB(p,m)}return Array.isArray(i)?i.map(s):s(i)}return e}const DB=jee();DB.filterProps=["sx"];const lE=DB,Xee=["breakpoints","palette","spacing","shape"];function cE(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,a=ht(t,Xee),s=ree(n),l=pee(i);let c=So({breakpoints:s,direction:"ltr",components:{},palette:j({mode:"light"},r),spacing:l,shape:j({},oee,o)},a);return c=e.reduce((f,p)=>So(f,p),c),c.unstable_sxConfig=j({},sE,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(p){return lE({sx:p,theme:this})},c}function qee(t){return Object.keys(t).length===0}function FB(t=null){const e=F.useContext(cI);return!e||qee(e)?t:e}const Yee=cE();function uE(t=Yee){return FB(t)}function Kee({styles:t,themeId:e,defaultTheme:n={}}){const r=uE(n),i=typeof t=="function"?t(e&&r[e]||r):t;return k.jsx(JJ,{styles:i})}const Zee=["sx"],Qee=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:sE;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function gI(t){const{sx:e}=t,n=ht(t,Zee),{systemProps:r,otherProps:i}=Qee(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...a)=>{const s=e(...a);return ou(s)?j({},r,s):r}:o=j({},r,e),j({},i,{sx:o})}function UB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=UB(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function gt(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=UB(t))&&(r&&(r+=" "),r+=e);return r}const Jee=["className","component"];function ete(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=LB("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(lE);return F.forwardRef(function(l,c){const f=uE(n),p=gI(l),{className:m,component:v="div"}=p,x=ht(p,Jee);return k.jsx(o,j({as:v,ref:c,className:gt(m,i?i(r):r),theme:e&&f[e]||f},x))})}const tte=["variant"];function s5(t){return t.length===0}function zB(t){const{variant:e}=t,n=ht(t,tte);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=s5(r)?t[i]:Qe(t[i]):r+=`${s5(r)?i:Qe(i)}${Qe(t[i].toString())}`}),r}const nte=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function rte(t){return Object.keys(t).length===0}function ite(t){return typeof t=="string"&&t.charCodeAt(0)>96}const ote=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,AS=t=>{const e={};return t&&t.forEach(n=>{const r=zB(n.props);e[r]=n.style}),e},ate=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),AS(n)},RS=(t,e,n)=>{const{ownerState:r={}}=t,i=[];return n&&n.forEach(o=>{let a=!0;Object.keys(o.props).forEach(s=>{r[s]!==o.props[s]&&t[s]!==o.props[s]&&(a=!1)}),a&&i.push(e[zB(o.props)])}),i},ste=(t,e,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return RS(t,e,o)};function Ty(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const lte=cE(),cte=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function zw({defaultTheme:t,theme:e,themeId:n}){return rte(e)?t:e[n]||e}function ute(t){return t?(e,n)=>n[t]:null}const l5=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(j({},e,{theme:zw(j({},e,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const a=RS(e,AS(o),o);return[i,...a]}return i};function BB(t={}){const{themeId:e,defaultTheme:n=lte,rootShouldForwardProp:r=Ty,slotShouldForwardProp:i=Ty}=t,o=a=>lE(j({},a,{theme:zw(j({},a,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(a,s={})=>{eee(a,C=>C.filter(P=>!(P!=null&&P.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:f,skipSx:p,overridesResolver:m=ute(cte(c))}=s,v=ht(s,nte),x=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,_=p||!1;let b,y=Ty;c==="Root"||c==="root"?y=r:c?y=i:ite(a)&&(y=void 0);const S=LB(a,j({shouldForwardProp:y,label:b},v)),M=(C,...P)=>{const A=P?P.map(N=>{if(typeof N=="function"&&N.__emotion_real!==N)return B=>l5({styledArg:N,props:B,defaultTheme:n,themeId:e});if(ou(N)){let B=N,Y;return N&&N.variants&&(Y=N.variants,delete B.variants,B=J=>{let G=N;return RS(J,AS(Y),Y).forEach(ie=>{G=So(G,ie)}),G}),B}return N}):[];let R=C;if(ou(C)){let N;C&&C.variants&&(N=C.variants,delete R.variants,R=B=>{let Y=C;return RS(B,AS(N),N).forEach(G=>{Y=So(Y,G)}),Y})}else typeof C=="function"&&C.__emotion_real!==C&&(R=N=>l5({styledArg:C,props:N,defaultTheme:n,themeId:e}));l&&m&&A.push(N=>{const B=zw(j({},N,{defaultTheme:n,themeId:e})),Y=ote(l,B);if(Y){const J={};return Object.entries(Y).forEach(([G,ne])=>{J[G]=typeof ne=="function"?ne(j({},N,{theme:B})):ne}),m(N,J)}return null}),l&&!x&&A.push(N=>{const B=zw(j({},N,{defaultTheme:n,themeId:e}));return ste(N,ate(l,B),B,l)}),_||A.push(o);const U=A.length-P.length;if(Array.isArray(C)&&U>0){const N=new Array(U).fill("");R=[...C,...N],R.raw=[...C.raw,...N]}const O=S(R,...A);return a.muiName&&(O.muiName=a.muiName),O};return S.withConfig&&(M.withConfig=S.withConfig),M}}const fte=BB(),dte=fte;function hte(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:eI(e.components[n].defaultProps,r)}function $B({props:t,name:e,defaultTheme:n,themeId:r}){let i=uE(n);return r&&(i=i[r]||i),hte({theme:i,name:e,props:t})}function vI(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function pte(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Gh(t){if(t.type)return t;if(t.charAt(0)==="#")return Gh(pte(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Yf(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Yf(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function fE(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function mte(t){t=Gh(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),a=(c,f=(c+n/30)%12)=>i-o*Math.max(Math.min(f-3,9-f,1),-1);let s="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(s+="a",l.push(e[3])),fE({type:s,values:l})}function c5(t){t=Gh(t);let e=t.type==="hsl"||t.type==="hsla"?Gh(mte(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function gte(t,e){const n=c5(t),r=c5(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ln(t,e){return t=Gh(t),e=vI(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,fE(t)}function HB(t,e){if(t=Gh(t),e=vI(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return fE(t)}function VB(t,e){if(t=Gh(t),e=vI(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return fE(t)}const vte=["component","direction","spacing","divider","children","className","useFlexGap"],yte=cE(),xte=dte("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function bte(t){return $B({props:t,name:"MuiStack",defaultTheme:yte})}function _te(t,e){const n=F.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(F.cloneElement(e,{key:`separator-${o}`})),r),[])}const wte=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Ste=({ownerState:t,theme:e})=>{let n=j({display:"flex",flexDirection:"column"},Al({theme:e},HC({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=pI(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=HC({values:t.direction,base:i}),a=HC({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,f)=>{if(!o[l]){const m=c>0?o[f[c-1]]:"column";o[l]=m}}),n=So(n,Al({theme:e},a,(l,c)=>t.useFlexGap?{gap:Wh(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${wte(c?o[c]:t.direction)}`]:Wh(r,l)}}))}return n=aee(e.breakpoints,n),n};function WB(t={}){const{createStyledComponent:e=xte,useThemeProps:n=bte,componentName:r="MuiStack"}=t,i=()=>an({root:["root"]},l=>tn(r,l),{}),o=e(Ste);return F.forwardRef(function(l,c){const f=n(l),p=gI(f),{component:m="div",direction:v="column",spacing:x=0,divider:_,children:b,className:y,useFlexGap:S=!1}=p,M=ht(p,vte),C={direction:v,spacing:x,useFlexGap:S},P=i();return k.jsx(o,j({as:m,ownerState:C,ref:c,className:gt(P.root,y)},M,{children:_?_te(b,_):b}))})}const Mte=WB(),a_=Mte;function Ete(t,e){return j({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const Cte=["mode","contrastThreshold","tonalOffset"],u5={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l1.white,default:l1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},VC={text:{primary:l1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:l1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function f5(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=VB(t.main,i):e==="dark"&&(t.dark=HB(t.main,o)))}function Tte(t="light"){return t==="dark"?{main:im[200],light:im[50],dark:im[400]}:{main:im[700],light:im[400],dark:im[800]}}function Ate(t="light"){return t==="dark"?{main:rm[200],light:rm[50],dark:rm[400]}:{main:rm[500],light:rm[300],dark:rm[700]}}function Rte(t="light"){return t==="dark"?{main:nm[500],light:nm[300],dark:nm[700]}:{main:nm[700],light:nm[400],dark:nm[800]}}function Pte(t="light"){return t==="dark"?{main:om[400],light:om[300],dark:om[700]}:{main:om[700],light:om[500],dark:om[900]}}function Ite(t="light"){return t==="dark"?{main:am[400],light:am[300],dark:am[700]}:{main:am[800],light:am[500],dark:am[900]}}function Lte(t="light"){return t==="dark"?{main:Pv[400],light:Pv[300],dark:Pv[700]}:{main:"#ed6c02",light:Pv[500],dark:Pv[900]}}function Ote(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ht(t,Cte),o=t.primary||Tte(e),a=t.secondary||Ate(e),s=t.error||Rte(e),l=t.info||Pte(e),c=t.success||Ite(e),f=t.warning||Lte(e);function p(_){return gte(_,VC.text.primary)>=n?VC.text.primary:u5.text.primary}const m=({color:_,name:b,mainShade:y=500,lightShade:S=300,darkShade:M=700})=>{if(_=j({},_),!_.main&&_[y]&&(_.main=_[y]),!_.hasOwnProperty("main"))throw new Error(Yf(11,b?` (${b})`:"",y));if(typeof _.main!="string")throw new Error(Yf(12,b?` (${b})`:"",JSON.stringify(_.main)));return f5(_,"light",S,r),f5(_,"dark",M,r),_.contrastText||(_.contrastText=p(_.main)),_},v={dark:VC,light:u5};return So(j({common:j({},l1),mode:e,primary:m({color:o,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:s,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:l,name:"info"}),success:m({color:c,name:"success"}),grey:AQ,contrastThreshold:n,getContrastText:p,augmentColor:m,tonalOffset:r},v[e]),i)}const kte=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Nte(t){return Math.round(t*1e5)/1e5}const d5={textTransform:"uppercase"},h5='"Roboto", "Helvetica", "Arial", sans-serif';function Dte(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=h5,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:f,pxToRem:p}=n,m=ht(n,kte),v=i/14,x=p||(y=>`${y/c*v}rem`),_=(y,S,M,C,P)=>j({fontFamily:r,fontWeight:y,fontSize:x(S),lineHeight:M},r===h5?{letterSpacing:`${Nte(C/S)}em`}:{},P,f),b={h1:_(o,96,1.167,-1.5),h2:_(o,60,1.2,-.5),h3:_(a,48,1.167,0),h4:_(a,34,1.235,.25),h5:_(a,24,1.334,0),h6:_(s,20,1.6,.15),subtitle1:_(a,16,1.75,.15),subtitle2:_(s,14,1.57,.1),body1:_(a,16,1.5,.15),body2:_(a,14,1.43,.15),button:_(s,14,1.75,.4,d5),caption:_(a,12,1.66,.4),overline:_(a,12,2.66,1,d5),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return So(j({htmlFontSize:c,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:l},b),m,{clone:!1})}const Fte=.2,Ute=.14,zte=.12;function Sr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Fte})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Ute})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${zte})`].join(",")}const Bte=["none",Sr(0,2,1,-1,0,1,1,0,0,1,3,0),Sr(0,3,1,-2,0,2,2,0,0,1,5,0),Sr(0,3,3,-2,0,3,4,0,0,1,8,0),Sr(0,2,4,-1,0,4,5,0,0,1,10,0),Sr(0,3,5,-1,0,5,8,0,0,1,14,0),Sr(0,3,5,-1,0,6,10,0,0,1,18,0),Sr(0,4,5,-2,0,7,10,1,0,2,16,1),Sr(0,5,5,-3,0,8,10,1,0,3,14,2),Sr(0,5,6,-3,0,9,12,1,0,3,16,2),Sr(0,6,6,-3,0,10,14,1,0,4,18,3),Sr(0,6,7,-4,0,11,15,1,0,4,20,3),Sr(0,7,8,-4,0,12,17,2,0,5,22,4),Sr(0,7,8,-4,0,13,19,2,0,5,24,4),Sr(0,7,9,-4,0,14,21,2,0,5,26,4),Sr(0,8,9,-5,0,15,22,2,0,6,28,5),Sr(0,8,10,-5,0,16,24,2,0,6,30,5),Sr(0,8,11,-5,0,17,26,2,0,6,32,5),Sr(0,9,11,-5,0,18,28,2,0,7,34,6),Sr(0,9,12,-6,0,19,29,2,0,7,36,6),Sr(0,10,13,-6,0,20,31,3,0,8,38,7),Sr(0,10,13,-6,0,21,33,3,0,8,40,7),Sr(0,10,14,-6,0,22,35,3,0,8,42,7),Sr(0,11,14,-7,0,23,36,3,0,9,44,8),Sr(0,11,15,-7,0,24,38,3,0,9,46,8)],$te=Bte,Hte=["duration","easing","delay"],Vte={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Wte={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function p5(t){return`${Math.round(t)}ms`}function Gte(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function jte(t){const e=j({},Vte,t.easing),n=j({},Wte,t.duration);return j({getAutoHeightDuration:Gte,create:(i=["all"],o={})=>{const{duration:a=n.standard,easing:s=e.easeInOut,delay:l=0}=o;return ht(o,Hte),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof a=="string"?a:p5(a)} ${s} ${typeof l=="string"?l:p5(l)}`).join(",")}},t,{easing:e,duration:n})}const Xte={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},qte=Xte,Yte=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function GB(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,a=ht(t,Yte);if(t.vars)throw new Error(Yf(18));const s=Ote(r),l=cE(t);let c=So(l,{mixins:Ete(l.breakpoints,n),palette:s,shadows:$te.slice(),typography:Dte(s,o),transitions:jte(i),zIndex:j({},qte)});return c=So(c,a),c=e.reduce((f,p)=>So(f,p),c),c.unstable_sxConfig=j({},sE,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(p){return lE({sx:p,theme:this})},c}const Kte=GB(),dE=Kte;function ix(){const t=uE(dE);return t[tx]||t}function ln({props:t,name:e}){return $B({props:t,name:e,defaultTheme:dE,themeId:tx})}const ao=t=>Ty(t)&&t!=="classes",Zte=Ty,Qte=BB({themeId:tx,defaultTheme:dE,rootShouldForwardProp:ao}),st=Qte,Jte=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},m5=Jte;function ene(t){return tn("MuiSvgIcon",t)}Zt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const tne=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],nne=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Qe(e)}`,`fontSize${Qe(n)}`]};return an(i,ene,r)},rne=st("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Qe(n.color)}`],e[`fontSize${Qe(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,a,s,l,c,f,p,m,v,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((s=t.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,24))||"1.5rem",large:((c=t.typography)==null||(f=c.pxToRem)==null?void 0:f.call(c,35))||"2.1875rem"}[e.fontSize],color:(p=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?p:{action:(v=(t.vars||t).palette)==null||(v=v.action)==null?void 0:v.active,disabled:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[e.color]}}),jB=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:f=!1,titleAccess:p,viewBox:m="0 0 24 24"}=r,v=ht(r,tne),x=F.isValidElement(i)&&i.type==="svg",_=j({},r,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:x}),b={};f||(b.viewBox=m);const y=nne(_);return k.jsxs(rne,j({as:s,className:gt(y.root,o),focusable:"false",color:c,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n},b,v,x&&i.props,{ownerState:_,children:[x?i.props.children:i,p?k.jsx("title",{children:p}):null]}))});jB.muiName="SvgIcon";const g5=jB;function Pu(t,e){function n(r,i){return k.jsx(g5,j({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=g5.muiName,F.memo(F.forwardRef(n))}const ine={configure:t=>{tI.configure(t)}},one=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Qe,createChainedFunction:ES,createSvgIcon:Pu,debounce:BM,deprecatedPropType:NQ,isMuiElement:Ey,ownerDocument:Mo,ownerWindow:xc,requirePropFactory:DQ,setRef:c1,unstable_ClassNameGenerator:ine,unstable_useEnhancedEffect:Ws,unstable_useId:ex,unsupportedProp:zQ,useControlled:Bf,useEventCallback:_l,useForkRef:Ur,useIsFocusVisible:dB},Symbol.toStringTag,{value:"Module"}));function wR(t,e){return wR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wR(t,e)}function yI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,wR(t,e)}const v5={disabled:!1},PS=Z.createContext(null);var ane=function(e){return e.scrollTop},sy="unmounted",sh="exited",lh="entering",Dm="entered",SR="exiting",Iu=function(t){yI(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?s?(l=sh,o.appearStatus=lh):l=Dm:r.unmountOnExit||r.mountOnEnter?l=sy:l=sh,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===sy?{status:sh}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==lh&&a!==Dm&&(o=lh):(a===lh||a===Dm)&&(o=SR)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===lh){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:i_.findDOMNode(this);a&&ane(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===sh&&this.setState({status:sy})},n.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[i_.findDOMNode(this),s],c=l[0],f=l[1],p=this.getTimeouts(),m=s?p.appear:p.enter;if(!i&&!a||v5.disabled){this.safeSetState({status:Dm},function(){o.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:lh},function(){o.props.onEntering(c,f),o.onTransitionEnd(m,function(){o.safeSetState({status:Dm},function(){o.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:i_.findDOMNode(this);if(!o||v5.disabled){this.safeSetState({status:sh},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:SR},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:sh},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:i_.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=l[0],f=l[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===sy)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=ht(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Z.createElement(PS.Provider,{value:null},typeof a=="function"?a(i,s):Z.cloneElement(Z.Children.only(a),s))},e}(Z.Component);Iu.contextType=PS;Iu.propTypes={};function sm(){}Iu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sm,onEntering:sm,onEntered:sm,onExit:sm,onExiting:sm,onExited:sm};Iu.UNMOUNTED=sy;Iu.EXITED=sh;Iu.ENTERING=lh;Iu.ENTERED=Dm;Iu.EXITING=SR;const xI=Iu;function sne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bI(t,e){var n=function(o){return e&&F.isValidElement(o)?e(o):o},r=Object.create(null);return t&&F.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function lne(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var l in e){if(r[l])for(a=0;a<r[l].length;a++){var c=r[l][a];s[r[l][a]]=n(c)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}function bh(t,e,n){return n[e]!=null?n[e]:t.props[e]}function cne(t,e){return bI(t.children,function(n){return F.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:bh(n,"appear",t),enter:bh(n,"enter",t),exit:bh(n,"exit",t)})})}function une(t,e,n){var r=bI(t.children),i=lne(e,r);return Object.keys(i).forEach(function(o){var a=i[o];if(F.isValidElement(a)){var s=o in e,l=o in r,c=e[o],f=F.isValidElement(c)&&!c.props.in;l&&(!s||f)?i[o]=F.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:bh(a,"exit",t),enter:bh(a,"enter",t)}):!l&&s&&!f?i[o]=F.cloneElement(a,{in:!1}):l&&s&&F.isValidElement(c)&&(i[o]=F.cloneElement(a,{onExited:n.bind(null,a),in:c.props.in,exit:bh(a,"exit",t),enter:bh(a,"enter",t)}))}}),i}var fne=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},dne={component:"div",childFactory:function(e){return e}},_I=function(t){yI(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=o.handleExited.bind(sne(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var a=o.children,s=o.handleExited,l=o.firstRender;return{children:l?cne(i,s):une(i,a,s),firstRender:!1}},n.handleExited=function(i,o){var a=bI(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var l=j({},s.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,a=i.childFactory,s=ht(i,["component","childFactory"]),l=this.state.contextValue,c=fne(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,o===null?Z.createElement(PS.Provider,{value:l},c):Z.createElement(PS.Provider,{value:l},Z.createElement(o,s,c))},e}(Z.Component);_I.propTypes={};_I.defaultProps=dne;const hne=_I,wI=t=>t.scrollTop;function qg(t,e){var n,r;const{timeout:i,easing:o,style:a={}}=t;return{duration:(n=a.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:a.transitionDelay}}function pne(t){return tn("MuiPaper",t)}Zt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const mne=["className","component","elevation","square","variant"],gne=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return an(o,pne,i)},vne=st("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return j({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&j({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ln("#fff",m5(e.elevation))}, ${Ln("#fff",m5(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),yne=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:a=1,square:s=!1,variant:l="elevation"}=r,c=ht(r,mne),f=j({},r,{component:o,elevation:a,square:s,variant:l}),p=gne(f);return k.jsx(vne,j({as:o,ownerState:f,className:gt(p.root,i),ref:n},c))}),ip=yne;function xne(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:l,timeout:c}=t,[f,p]=F.useState(!1),m=gt(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),v={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},x=gt(n.child,f&&n.childLeaving,r&&n.childPulsate);return!s&&!f&&p(!0),F.useEffect(()=>{if(!s&&l!=null){const _=setTimeout(l,c);return()=>{clearTimeout(_)}}},[l,s,c]),k.jsx("span",{className:m,style:v,children:k.jsx("span",{className:x})})}const bne=Zt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ks=bne,_ne=["center","classes","className"];let hE=t=>t,y5,x5,b5,_5;const MR=550,wne=80,Sne=uI(y5||(y5=hE`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Mne=uI(x5||(x5=hE`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Ene=uI(b5||(b5=hE`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Cne=st("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Tne=st(xne,{name:"MuiTouchRipple",slot:"Ripple"})(_5||(_5=hE`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ks.rippleVisible,Sne,MR,({theme:t})=>t.transitions.easing.easeInOut,ks.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ks.child,ks.childLeaving,Mne,MR,({theme:t})=>t.transitions.easing.easeInOut,ks.childPulsate,Ene,({theme:t})=>t.transitions.easing.easeInOut),Ane=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a}=r,s=ht(r,_ne),[l,c]=F.useState([]),f=F.useRef(0),p=F.useRef(null);F.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const m=F.useRef(!1),v=F.useRef(0),x=F.useRef(null),_=F.useRef(null);F.useEffect(()=>()=>{v.current&&clearTimeout(v.current)},[]);const b=F.useCallback(C=>{const{pulsate:P,rippleX:A,rippleY:R,rippleSize:U,cb:O}=C;c(N=>[...N,k.jsx(Tne,{classes:{ripple:gt(o.ripple,ks.ripple),rippleVisible:gt(o.rippleVisible,ks.rippleVisible),ripplePulsate:gt(o.ripplePulsate,ks.ripplePulsate),child:gt(o.child,ks.child),childLeaving:gt(o.childLeaving,ks.childLeaving),childPulsate:gt(o.childPulsate,ks.childPulsate)},timeout:MR,pulsate:P,rippleX:A,rippleY:R,rippleSize:U},f.current)]),f.current+=1,p.current=O},[o]),y=F.useCallback((C={},P={},A=()=>{})=>{const{pulsate:R=!1,center:U=i||P.pulsate,fakeElement:O=!1}=P;if((C==null?void 0:C.type)==="mousedown"&&m.current){m.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(m.current=!0);const N=O?null:_.current,B=N?N.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Y,J,G;if(U||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)Y=Math.round(B.width/2),J=Math.round(B.height/2);else{const{clientX:ne,clientY:ie}=C.touches&&C.touches.length>0?C.touches[0]:C;Y=Math.round(ne-B.left),J=Math.round(ie-B.top)}if(U)G=Math.sqrt((2*B.width**2+B.height**2)/3),G%2===0&&(G+=1);else{const ne=Math.max(Math.abs((N?N.clientWidth:0)-Y),Y)*2+2,ie=Math.max(Math.abs((N?N.clientHeight:0)-J),J)*2+2;G=Math.sqrt(ne**2+ie**2)}C!=null&&C.touches?x.current===null&&(x.current=()=>{b({pulsate:R,rippleX:Y,rippleY:J,rippleSize:G,cb:A})},v.current=setTimeout(()=>{x.current&&(x.current(),x.current=null)},wne)):b({pulsate:R,rippleX:Y,rippleY:J,rippleSize:G,cb:A})},[i,b]),S=F.useCallback(()=>{y({},{pulsate:!0})},[y]),M=F.useCallback((C,P)=>{if(clearTimeout(v.current),(C==null?void 0:C.type)==="touchend"&&x.current){x.current(),x.current=null,v.current=setTimeout(()=>{M(C,P)});return}x.current=null,c(A=>A.length>0?A.slice(1):A),p.current=P},[]);return F.useImperativeHandle(n,()=>({pulsate:S,start:y,stop:M}),[S,y,M]),k.jsx(Cne,j({className:gt(ks.root,o.root,a),ref:_},s,{children:k.jsx(hne,{component:null,exit:!0,children:l})}))}),Rne=Ane;function Pne(t){return tn("MuiButtonBase",t)}const Ine=Zt("MuiButtonBase",["root","disabled","focusVisible"]),Lne=Ine,One=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],kne=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,a=an({root:["root",e&&"disabled",n&&"focusVisible"]},Pne,i);return n&&r&&(a.root+=` ${r}`),a},Nne=st("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Lne.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Dne=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:c=!1,disableRipple:f=!1,disableTouchRipple:p=!1,focusRipple:m=!1,LinkComponent:v="a",onBlur:x,onClick:_,onContextMenu:b,onDragLeave:y,onFocus:S,onFocusVisible:M,onKeyDown:C,onKeyUp:P,onMouseDown:A,onMouseLeave:R,onMouseUp:U,onTouchEnd:O,onTouchMove:N,onTouchStart:B,tabIndex:Y=0,TouchRippleProps:J,touchRippleRef:G,type:ne}=r,ie=ht(r,One),se=F.useRef(null),H=F.useRef(null),q=Ur(H,G),{isFocusVisibleRef:te,onFocus:Q,onBlur:ae,ref:xe}=dB(),[we,Te]=F.useState(!1);c&&we&&Te(!1),F.useImperativeHandle(i,()=>({focusVisible:()=>{Te(!0),se.current.focus()}}),[]);const[Ve,Ye]=F.useState(!1);F.useEffect(()=>{Ye(!0)},[]);const et=Ve&&!f&&!c;F.useEffect(()=>{we&&m&&!f&&Ve&&H.current.pulsate()},[f,m,we,Ve]);function ct(De,je,at=p){return _l(At=>(je&&je(At),!at&&H.current&&H.current[De](At),!0))}const Lt=ct("start",A),$e=ct("stop",b),oe=ct("stop",y),Ae=ct("stop",U),ge=ct("stop",De=>{we&&De.preventDefault(),R&&R(De)}),ve=ct("start",B),Ue=ct("stop",O),We=ct("stop",N),Je=ct("stop",De=>{ae(De),te.current===!1&&Te(!1),x&&x(De)},!1),ot=_l(De=>{se.current||(se.current=De.currentTarget),Q(De),te.current===!0&&(Te(!0),M&&M(De)),S&&S(De)}),ft=()=>{const De=se.current;return l&&l!=="button"&&!(De.tagName==="A"&&De.href)},lt=F.useRef(!1),Ht=_l(De=>{m&&!lt.current&&we&&H.current&&De.key===" "&&(lt.current=!0,H.current.stop(De,()=>{H.current.start(De)})),De.target===De.currentTarget&&ft()&&De.key===" "&&De.preventDefault(),C&&C(De),De.target===De.currentTarget&&ft()&&De.key==="Enter"&&!c&&(De.preventDefault(),_&&_(De))}),ee=_l(De=>{m&&De.key===" "&&H.current&&we&&!De.defaultPrevented&&(lt.current=!1,H.current.stop(De,()=>{H.current.pulsate(De)})),P&&P(De),_&&De.target===De.currentTarget&&ft()&&De.key===" "&&!De.defaultPrevented&&_(De)});let $=l;$==="button"&&(ie.href||ie.to)&&($=v);const ye={};$==="button"?(ye.type=ne===void 0?"button":ne,ye.disabled=c):(!ie.href&&!ie.to&&(ye.role="button"),c&&(ye["aria-disabled"]=c));const Ge=Ur(n,xe,se),Le=j({},r,{centerRipple:o,component:l,disabled:c,disableRipple:f,disableTouchRipple:p,focusRipple:m,tabIndex:Y,focusVisible:we}),Me=kne(Le);return k.jsxs(Nne,j({as:$,className:gt(Me.root,s),ownerState:Le,onBlur:Je,onClick:_,onContextMenu:$e,onFocus:ot,onKeyDown:Ht,onKeyUp:ee,onMouseDown:Lt,onMouseLeave:ge,onMouseUp:Ae,onDragLeave:oe,onTouchEnd:Ue,onTouchMove:We,onTouchStart:ve,ref:Ge,tabIndex:c?-1:Y,type:ne},ye,ie,{children:[a,et?k.jsx(Rne,j({ref:q,center:o},J)):null]}))}),jh=Dne;function Fne(t){return tn("MuiIconButton",t)}const Une=Zt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),zne=Une,Bne=["edge","children","className","color","disabled","disableFocusRipple","size"],$ne=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,a={root:["root",n&&"disabled",r!=="default"&&`color${Qe(r)}`,i&&`edge${Qe(i)}`,`size${Qe(o)}`]};return an(a,Fne,e)},Hne=st(jh,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Qe(n.color)}`],n.edge&&e[`edge${Qe(n.edge)}`],e[`size${Qe(n.size)}`]]}})(({theme:t,ownerState:e})=>j({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Ln(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return j({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&j({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":j({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ln(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${zne.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Vne=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:a,color:s="default",disabled:l=!1,disableFocusRipple:c=!1,size:f="medium"}=r,p=ht(r,Bne),m=j({},r,{edge:i,color:s,disabled:l,disableFocusRipple:c,size:f}),v=$ne(m);return k.jsx(Hne,j({className:gt(v.root,a),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,ownerState:m},p,{children:o}))}),pE=Vne,Wne=Pu(k.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function Gne(t){return tn("MuiTypography",t)}Zt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const jne=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Xne=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=t,s={root:["root",o,t.align!=="inherit"&&`align${Qe(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return an(s,Gne,a)},qne=st("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Qe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>j({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),w5={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Yne={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Kne=t=>Yne[t]||t,Zne=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiTypography"}),i=Kne(r.color),o=gI(j({},r,{color:i})),{align:a="inherit",className:s,component:l,gutterBottom:c=!1,noWrap:f=!1,paragraph:p=!1,variant:m="body1",variantMapping:v=w5}=o,x=ht(o,jne),_=j({},o,{align:a,color:i,className:s,component:l,gutterBottom:c,noWrap:f,paragraph:p,variant:m,variantMapping:v}),b=l||(p?"p":v[m]||w5[m])||"span",y=Xne(_);return k.jsx(qne,j({as:b,ref:n,ownerState:_,className:gt(y.root,s)},x))}),An=Zne;function Qne(t){return tn("MuiAppBar",t)}Zt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Jne=["className","color","enableColorOnDark","position"],ere=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${Qe(e)}`,`position${Qe(n)}`]};return an(i,Qne,r)},s_=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,tre=st(ip,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Qe(n.position)}`],e[`color${Qe(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return j({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&j({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&j({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&j({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:s_(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:s_(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:s_(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:s_(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),nre=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:a=!1,position:s="fixed"}=r,l=ht(r,Jne),c=j({},r,{color:o,position:s,enableColorOnDark:a}),f=ere(c);return k.jsx(tre,j({square:!0,component:"header",ownerState:c,elevation:4,className:gt(f.root,i,s==="fixed"&&"mui-fixed"),ref:n},l))}),rre=nre;function Yg(t){return typeof t=="string"}function ire(t,e,n){return t===void 0||Yg(t)?e:j({},e,{ownerState:j({},e.ownerState,n)})}const ore={disableDefaultClasses:!1},are=F.createContext(ore);function sre(t){const{disableDefaultClasses:e}=F.useContext(are);return n=>e?"":t(n)}function XB(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function lre(t,e,n){return typeof t=="function"?t(e,n):t}function S5(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function cre(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const v=gt(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),x=j({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),_=j({},n,i,r);return v.length>0&&(_.className=v),Object.keys(x).length>0&&(_.style=x),{props:_,internalRef:void 0}}const a=XB(j({},i,r)),s=S5(r),l=S5(i),c=e(a),f=gt(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),p=j({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=j({},c,n,l,s);return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:c.ref}}const ure=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Xh(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,a=ht(t,ure),s=o?{}:lre(r,i),{props:l,internalRef:c}=cre(j({},a,{externalSlotProps:s})),f=Ur(c,s==null?void 0:s.ref,(e=t.additionalProps)==null?void 0:e.ref);return ire(n,j({},l,{ref:f}),i)}const fre=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function dre(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function hre(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function pre(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||hre(t))}function mre(t){const e=[],n=[];return Array.from(t.querySelectorAll(fre)).forEach((r,i)=>{const o=dre(r);o===-1||!pre(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function gre(){return!0}function vre(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=mre,isEnabled:a=gre,open:s}=t,l=F.useRef(!1),c=F.useRef(null),f=F.useRef(null),p=F.useRef(null),m=F.useRef(null),v=F.useRef(!1),x=F.useRef(null),_=Ur(e.ref,x),b=F.useRef(null);F.useEffect(()=>{!s||!x.current||(v.current=!n)},[n,s]),F.useEffect(()=>{if(!s||!x.current)return;const M=Mo(x.current);return x.current.contains(M.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),v.current&&x.current.focus()),()=>{i||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}},[s]),F.useEffect(()=>{if(!s||!x.current)return;const M=Mo(x.current),C=R=>{b.current=R,!(r||!a()||R.key!=="Tab")&&M.activeElement===x.current&&R.shiftKey&&(l.current=!0,f.current&&f.current.focus())},P=()=>{const R=x.current;if(R===null)return;if(!M.hasFocus()||!a()||l.current){l.current=!1;return}if(R.contains(M.activeElement)||r&&M.activeElement!==c.current&&M.activeElement!==f.current)return;if(M.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!v.current)return;let U=[];if((M.activeElement===c.current||M.activeElement===f.current)&&(U=o(x.current)),U.length>0){var O,N;const B=!!((O=b.current)!=null&&O.shiftKey&&((N=b.current)==null?void 0:N.key)==="Tab"),Y=U[0],J=U[U.length-1];typeof Y!="string"&&typeof J!="string"&&(B?J.focus():Y.focus())}else R.focus()};M.addEventListener("focusin",P),M.addEventListener("keydown",C,!0);const A=setInterval(()=>{M.activeElement&&M.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(A),M.removeEventListener("focusin",P),M.removeEventListener("keydown",C,!0)}},[n,r,i,a,s,o]);const y=M=>{p.current===null&&(p.current=M.relatedTarget),v.current=!0,m.current=M.target;const C=e.props.onFocus;C&&C(M)},S=M=>{p.current===null&&(p.current=M.relatedTarget),v.current=!0};return k.jsxs(F.Fragment,{children:[k.jsx("div",{tabIndex:s?0:-1,onFocus:S,ref:c,"data-testid":"sentinelStart"}),F.cloneElement(e,{ref:_,onFocus:y}),k.jsx("div",{tabIndex:s?0:-1,onFocus:S,ref:f,"data-testid":"sentinelEnd"})]})}var ga="top",Gs="bottom",js="right",va="left",SI="auto",ox=[ga,Gs,js,va],Kg="start",h1="end",yre="clippingParents",qB="viewport",Lv="popper",xre="reference",M5=ox.reduce(function(t,e){return t.concat([e+"-"+Kg,e+"-"+h1])},[]),YB=[].concat(ox,[SI]).reduce(function(t,e){return t.concat([e,e+"-"+Kg,e+"-"+h1])},[]),bre="beforeRead",_re="read",wre="afterRead",Sre="beforeMain",Mre="main",Ere="afterMain",Cre="beforeWrite",Tre="write",Are="afterWrite",Rre=[bre,_re,wre,Sre,Mre,Ere,Cre,Tre,Are];function bc(t){return t?(t.nodeName||"").toLowerCase():null}function ss(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function qh(t){var e=ss(t).Element;return t instanceof e||t instanceof Element}function Bs(t){var e=ss(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function MI(t){if(typeof ShadowRoot>"u")return!1;var e=ss(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Pre(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Bs(o)||!bc(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function Ire(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(l,c){return l[c]="",l},{});!Bs(i)||!bc(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const Lre={name:"applyStyles",enabled:!0,phase:"write",fn:Pre,effect:Ire,requires:["computeStyles"]};function fc(t){return t.split("-")[0]}var Rh=Math.max,IS=Math.min,Zg=Math.round;function ER(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function KB(){return!/^((?!chrome|android).)*safari/i.test(ER())}function Qg(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Bs(t)&&(i=t.offsetWidth>0&&Zg(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Zg(r.height)/t.offsetHeight||1);var a=qh(t)?ss(t):window,s=a.visualViewport,l=!KB()&&n,c=(r.left+(l&&s?s.offsetLeft:0))/i,f=(r.top+(l&&s?s.offsetTop:0))/o,p=r.width/i,m=r.height/o;return{width:p,height:m,top:f,right:c+p,bottom:f+m,left:c,x:c,y:f}}function EI(t){var e=Qg(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function ZB(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&MI(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function wu(t){return ss(t).getComputedStyle(t)}function Ore(t){return["table","td","th"].indexOf(bc(t))>=0}function sd(t){return((qh(t)?t.ownerDocument:t.document)||window.document).documentElement}function mE(t){return bc(t)==="html"?t:t.assignedSlot||t.parentNode||(MI(t)?t.host:null)||sd(t)}function E5(t){return!Bs(t)||wu(t).position==="fixed"?null:t.offsetParent}function kre(t){var e=/firefox/i.test(ER()),n=/Trident/i.test(ER());if(n&&Bs(t)){var r=wu(t);if(r.position==="fixed")return null}var i=mE(t);for(MI(i)&&(i=i.host);Bs(i)&&["html","body"].indexOf(bc(i))<0;){var o=wu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ax(t){for(var e=ss(t),n=E5(t);n&&Ore(n)&&wu(n).position==="static";)n=E5(n);return n&&(bc(n)==="html"||bc(n)==="body"&&wu(n).position==="static")?e:n||kre(t)||e}function CI(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ay(t,e,n){return Rh(t,IS(e,n))}function Nre(t,e,n){var r=Ay(t,e,n);return r>n?n:r}function QB(){return{top:0,right:0,bottom:0,left:0}}function JB(t){return Object.assign({},QB(),t)}function e$(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Dre=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,JB(typeof e!="number"?e:e$(e,ox))};function Fre(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=fc(n.placement),l=CI(s),c=[va,js].indexOf(s)>=0,f=c?"height":"width";if(!(!o||!a)){var p=Dre(i.padding,n),m=EI(o),v=l==="y"?ga:va,x=l==="y"?Gs:js,_=n.rects.reference[f]+n.rects.reference[l]-a[l]-n.rects.popper[f],b=a[l]-n.rects.reference[l],y=ax(o),S=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,M=_/2-b/2,C=p[v],P=S-m[f]-p[x],A=S/2-m[f]/2+M,R=Ay(C,A,P),U=l;n.modifiersData[r]=(e={},e[U]=R,e.centerOffset=R-A,e)}}function Ure(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||ZB(e.elements.popper,i)&&(e.elements.arrow=i))}const zre={name:"arrow",enabled:!0,phase:"main",fn:Fre,effect:Ure,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jg(t){return t.split("-")[1]}var Bre={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $re(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Zg(n*i)/i||0,y:Zg(r*i)/i||0}}function C5(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,p=t.isFixed,m=a.x,v=m===void 0?0:m,x=a.y,_=x===void 0?0:x,b=typeof f=="function"?f({x:v,y:_}):{x:v,y:_};v=b.x,_=b.y;var y=a.hasOwnProperty("x"),S=a.hasOwnProperty("y"),M=va,C=ga,P=window;if(c){var A=ax(n),R="clientHeight",U="clientWidth";if(A===ss(n)&&(A=sd(n),wu(A).position!=="static"&&s==="absolute"&&(R="scrollHeight",U="scrollWidth")),A=A,i===ga||(i===va||i===js)&&o===h1){C=Gs;var O=p&&A===P&&P.visualViewport?P.visualViewport.height:A[R];_-=O-r.height,_*=l?1:-1}if(i===va||(i===ga||i===Gs)&&o===h1){M=js;var N=p&&A===P&&P.visualViewport?P.visualViewport.width:A[U];v-=N-r.width,v*=l?1:-1}}var B=Object.assign({position:s},c&&Bre),Y=f===!0?$re({x:v,y:_},ss(n)):{x:v,y:_};if(v=Y.x,_=Y.y,l){var J;return Object.assign({},B,(J={},J[C]=S?"0":"",J[M]=y?"0":"",J.transform=(P.devicePixelRatio||1)<=1?"translate("+v+"px, "+_+"px)":"translate3d("+v+"px, "+_+"px, 0)",J))}return Object.assign({},B,(e={},e[C]=S?_+"px":"",e[M]=y?v+"px":"",e.transform="",e))}function Hre(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,l=s===void 0?!0:s,c={placement:fc(e.placement),variation:Jg(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,C5(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,C5(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Vre={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Hre,data:{}};var l_={passive:!0};function Wre(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=ss(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(f){f.addEventListener("scroll",n.update,l_)}),s&&l.addEventListener("resize",n.update,l_),function(){o&&c.forEach(function(f){f.removeEventListener("scroll",n.update,l_)}),s&&l.removeEventListener("resize",n.update,l_)}}const Gre={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Wre,data:{}};var jre={left:"right",right:"left",bottom:"top",top:"bottom"};function Bw(t){return t.replace(/left|right|bottom|top/g,function(e){return jre[e]})}var Xre={start:"end",end:"start"};function T5(t){return t.replace(/start|end/g,function(e){return Xre[e]})}function TI(t){var e=ss(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function AI(t){return Qg(sd(t)).left+TI(t).scrollLeft}function qre(t,e){var n=ss(t),r=sd(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=KB();(c||!c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+AI(t),y:l}}function Yre(t){var e,n=sd(t),r=TI(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Rh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Rh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+AI(t),l=-r.scrollTop;return wu(i||n).direction==="rtl"&&(s+=Rh(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function RI(t){var e=wu(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function t$(t){return["html","body","#document"].indexOf(bc(t))>=0?t.ownerDocument.body:Bs(t)&&RI(t)?t:t$(mE(t))}function Ry(t,e){var n;e===void 0&&(e=[]);var r=t$(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=ss(r),a=i?[o].concat(o.visualViewport||[],RI(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(Ry(mE(a)))}function CR(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Kre(t,e){var n=Qg(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function A5(t,e,n){return e===qB?CR(qre(t,n)):qh(e)?Kre(e,n):CR(Yre(sd(t)))}function Zre(t){var e=Ry(mE(t)),n=["absolute","fixed"].indexOf(wu(t).position)>=0,r=n&&Bs(t)?ax(t):t;return qh(r)?e.filter(function(i){return qh(i)&&ZB(i,r)&&bc(i)!=="body"}):[]}function Qre(t,e,n,r){var i=e==="clippingParents"?Zre(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(l,c){var f=A5(t,c,r);return l.top=Rh(f.top,l.top),l.right=IS(f.right,l.right),l.bottom=IS(f.bottom,l.bottom),l.left=Rh(f.left,l.left),l},A5(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function n$(t){var e=t.reference,n=t.element,r=t.placement,i=r?fc(r):null,o=r?Jg(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,l;switch(i){case ga:l={x:a,y:e.y-n.height};break;case Gs:l={x:a,y:e.y+e.height};break;case js:l={x:e.x+e.width,y:s};break;case va:l={x:e.x-n.width,y:s};break;default:l={x:e.x,y:e.y}}var c=i?CI(i):null;if(c!=null){var f=c==="y"?"height":"width";switch(o){case Kg:l[c]=l[c]-(e[f]/2-n[f]/2);break;case h1:l[c]=l[c]+(e[f]/2-n[f]/2);break}}return l}function p1(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,s=n.boundary,l=s===void 0?yre:s,c=n.rootBoundary,f=c===void 0?qB:c,p=n.elementContext,m=p===void 0?Lv:p,v=n.altBoundary,x=v===void 0?!1:v,_=n.padding,b=_===void 0?0:_,y=JB(typeof b!="number"?b:e$(b,ox)),S=m===Lv?xre:Lv,M=t.rects.popper,C=t.elements[x?S:m],P=Qre(qh(C)?C:C.contextElement||sd(t.elements.popper),l,f,a),A=Qg(t.elements.reference),R=n$({reference:A,element:M,strategy:"absolute",placement:i}),U=CR(Object.assign({},M,R)),O=m===Lv?U:A,N={top:P.top-O.top+y.top,bottom:O.bottom-P.bottom+y.bottom,left:P.left-O.left+y.left,right:O.right-P.right+y.right},B=t.modifiersData.offset;if(m===Lv&&B){var Y=B[i];Object.keys(N).forEach(function(J){var G=[js,Gs].indexOf(J)>=0?1:-1,ne=[ga,Gs].indexOf(J)>=0?"y":"x";N[J]+=Y[ne]*G})}return N}function Jre(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?YB:l,f=Jg(r),p=f?s?M5:M5.filter(function(x){return Jg(x)===f}):ox,m=p.filter(function(x){return c.indexOf(x)>=0});m.length===0&&(m=p);var v=m.reduce(function(x,_){return x[_]=p1(t,{placement:_,boundary:i,rootBoundary:o,padding:a})[fc(_)],x},{});return Object.keys(v).sort(function(x,_){return v[x]-v[_]})}function eie(t){if(fc(t)===SI)return[];var e=Bw(t);return[T5(t),e,T5(e)]}function tie(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,v=n.flipVariations,x=v===void 0?!0:v,_=n.allowedAutoPlacements,b=e.options.placement,y=fc(b),S=y===b,M=l||(S||!x?[Bw(b)]:eie(b)),C=[b].concat(M).reduce(function(we,Te){return we.concat(fc(Te)===SI?Jre(e,{placement:Te,boundary:f,rootBoundary:p,padding:c,flipVariations:x,allowedAutoPlacements:_}):Te)},[]),P=e.rects.reference,A=e.rects.popper,R=new Map,U=!0,O=C[0],N=0;N<C.length;N++){var B=C[N],Y=fc(B),J=Jg(B)===Kg,G=[ga,Gs].indexOf(Y)>=0,ne=G?"width":"height",ie=p1(e,{placement:B,boundary:f,rootBoundary:p,altBoundary:m,padding:c}),se=G?J?js:va:J?Gs:ga;P[ne]>A[ne]&&(se=Bw(se));var H=Bw(se),q=[];if(o&&q.push(ie[Y]<=0),s&&q.push(ie[se]<=0,ie[H]<=0),q.every(function(we){return we})){O=B,U=!1;break}R.set(B,q)}if(U)for(var te=x?3:1,Q=function(Te){var Ve=C.find(function(Ye){var et=R.get(Ye);if(et)return et.slice(0,Te).every(function(ct){return ct})});if(Ve)return O=Ve,"break"},ae=te;ae>0;ae--){var xe=Q(ae);if(xe==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const nie={name:"flip",enabled:!0,phase:"main",fn:tie,requiresIfExists:["offset"],data:{_skip:!1}};function R5(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function P5(t){return[ga,js,Gs,va].some(function(e){return t[e]>=0})}function rie(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=p1(e,{elementContext:"reference"}),s=p1(e,{altBoundary:!0}),l=R5(a,r),c=R5(s,i,o),f=P5(l),p=P5(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const iie={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rie};function oie(t,e,n){var r=fc(t),i=[va,ga].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[va,js].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function aie(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=YB.reduce(function(f,p){return f[p]=oie(p,e.rects,o),f},{}),s=a[e.placement],l=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=a}const sie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:aie};function lie(t){var e=t.state,n=t.name;e.modifiersData[n]=n$({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const cie={name:"popperOffsets",enabled:!0,phase:"read",fn:lie,data:{}};function uie(t){return t==="x"?"y":"x"}function fie(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,f=n.altBoundary,p=n.padding,m=n.tether,v=m===void 0?!0:m,x=n.tetherOffset,_=x===void 0?0:x,b=p1(e,{boundary:l,rootBoundary:c,padding:p,altBoundary:f}),y=fc(e.placement),S=Jg(e.placement),M=!S,C=CI(y),P=uie(C),A=e.modifiersData.popperOffsets,R=e.rects.reference,U=e.rects.popper,O=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,N=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Y={x:0,y:0};if(A){if(o){var J,G=C==="y"?ga:va,ne=C==="y"?Gs:js,ie=C==="y"?"height":"width",se=A[C],H=se+b[G],q=se-b[ne],te=v?-U[ie]/2:0,Q=S===Kg?R[ie]:U[ie],ae=S===Kg?-U[ie]:-R[ie],xe=e.elements.arrow,we=v&&xe?EI(xe):{width:0,height:0},Te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:QB(),Ve=Te[G],Ye=Te[ne],et=Ay(0,R[ie],we[ie]),ct=M?R[ie]/2-te-et-Ve-N.mainAxis:Q-et-Ve-N.mainAxis,Lt=M?-R[ie]/2+te+et+Ye+N.mainAxis:ae+et+Ye+N.mainAxis,$e=e.elements.arrow&&ax(e.elements.arrow),oe=$e?C==="y"?$e.clientTop||0:$e.clientLeft||0:0,Ae=(J=B==null?void 0:B[C])!=null?J:0,ge=se+ct-Ae-oe,ve=se+Lt-Ae,Ue=Ay(v?IS(H,ge):H,se,v?Rh(q,ve):q);A[C]=Ue,Y[C]=Ue-se}if(s){var We,Je=C==="x"?ga:va,ot=C==="x"?Gs:js,ft=A[P],lt=P==="y"?"height":"width",Ht=ft+b[Je],ee=ft-b[ot],$=[ga,va].indexOf(y)!==-1,ye=(We=B==null?void 0:B[P])!=null?We:0,Ge=$?Ht:ft-R[lt]-U[lt]-ye+N.altAxis,Le=$?ft+R[lt]+U[lt]-ye-N.altAxis:ee,Me=v&&$?Nre(Ge,ft,Le):Ay(v?Ge:Ht,ft,v?Le:ee);A[P]=Me,Y[P]=Me-ft}e.modifiersData[r]=Y}}const die={name:"preventOverflow",enabled:!0,phase:"main",fn:fie,requiresIfExists:["offset"]};function hie(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function pie(t){return t===ss(t)||!Bs(t)?TI(t):hie(t)}function mie(t){var e=t.getBoundingClientRect(),n=Zg(e.width)/t.offsetWidth||1,r=Zg(e.height)/t.offsetHeight||1;return n!==1||r!==1}function gie(t,e,n){n===void 0&&(n=!1);var r=Bs(e),i=Bs(e)&&mie(e),o=sd(e),a=Qg(t,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((bc(e)!=="body"||RI(o))&&(s=pie(e)),Bs(e)?(l=Qg(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=AI(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function vie(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=e.get(s);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function yie(t){var e=vie(t);return Rre.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function xie(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function bie(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var I5={placement:"bottom",modifiers:[],strategy:"absolute"};function L5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function _ie(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?I5:i;return function(s,l,c){c===void 0&&(c=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},I5,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},p=[],m=!1,v={state:f,setOptions:function(y){var S=typeof y=="function"?y(f.options):y;_(),f.options=Object.assign({},o,f.options,S),f.scrollParents={reference:qh(s)?Ry(s):s.contextElement?Ry(s.contextElement):[],popper:Ry(l)};var M=yie(bie([].concat(r,f.options.modifiers)));return f.orderedModifiers=M.filter(function(C){return C.enabled}),x(),v.update()},forceUpdate:function(){if(!m){var y=f.elements,S=y.reference,M=y.popper;if(L5(S,M)){f.rects={reference:gie(S,ax(M),f.options.strategy==="fixed"),popper:EI(M)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(N){return f.modifiersData[N.name]=Object.assign({},N.data)});for(var C=0;C<f.orderedModifiers.length;C++){if(f.reset===!0){f.reset=!1,C=-1;continue}var P=f.orderedModifiers[C],A=P.fn,R=P.options,U=R===void 0?{}:R,O=P.name;typeof A=="function"&&(f=A({state:f,options:U,name:O,instance:v})||f)}}}},update:xie(function(){return new Promise(function(b){v.forceUpdate(),b(f)})}),destroy:function(){_(),m=!0}};if(!L5(s,l))return v;v.setOptions(c).then(function(b){!m&&c.onFirstUpdate&&c.onFirstUpdate(b)});function x(){f.orderedModifiers.forEach(function(b){var y=b.name,S=b.options,M=S===void 0?{}:S,C=b.effect;if(typeof C=="function"){var P=C({state:f,name:y,instance:v,options:M}),A=function(){};p.push(P||A)}})}function _(){p.forEach(function(b){return b()}),p=[]}return v}}var wie=[Gre,cie,Vre,Lre,sie,nie,die,zre,iie],Sie=_ie({defaultModifiers:wie});function Mie(t){return typeof t=="function"?t():t}const r$=F.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[a,s]=F.useState(null),l=Ur(F.isValidElement(r)?r.ref:null,n);if(Ws(()=>{o||s(Mie(i)||document.body)},[i,o]),Ws(()=>{if(a&&!o)return c1(n,a),()=>{c1(n,null)}},[n,a,o]),o){if(F.isValidElement(r)){const c={ref:l};return F.cloneElement(r,c)}return k.jsx(F.Fragment,{children:r})}return k.jsx(F.Fragment,{children:a&&ad.createPortal(r,a)})});function Eie(t){return tn("MuiPopper",t)}Zt("MuiPopper",["root"]);const Cie=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Tie=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Aie(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function TR(t){return typeof t=="function"?t():t}function Rie(t){return t.nodeType!==void 0}const Pie=()=>an({root:["root"]},sre(Eie)),Iie={},Lie=F.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:a,disablePortal:s,modifiers:l,open:c,placement:f,popperOptions:p,popperRef:m,slotProps:v={},slots:x={},TransitionProps:_}=e,b=ht(e,Cie),y=F.useRef(null),S=Ur(y,n),M=F.useRef(null),C=Ur(M,m),P=F.useRef(C);Ws(()=>{P.current=C},[C]),F.useImperativeHandle(m,()=>M.current,[]);const A=Aie(f,a),[R,U]=F.useState(A),[O,N]=F.useState(TR(i));F.useEffect(()=>{M.current&&M.current.forceUpdate()}),F.useEffect(()=>{i&&N(TR(i))},[i]),Ws(()=>{if(!O||!c)return;const ne=H=>{U(H.placement)};let ie=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:H})=>{ne(H)}}];l!=null&&(ie=ie.concat(l)),p&&p.modifiers!=null&&(ie=ie.concat(p.modifiers));const se=Sie(O,y.current,j({placement:A},p,{modifiers:ie}));return P.current(se),()=>{se.destroy(),P.current(null)}},[O,s,l,c,p,A]);const B={placement:R};_!==null&&(B.TransitionProps=_);const Y=Pie(),J=(r=x.root)!=null?r:"div",G=Xh({elementType:J,externalSlotProps:v.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:S},ownerState:e,className:Y.root});return k.jsx(J,j({},G,{children:typeof o=="function"?o(B):o}))}),Oie=F.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:a="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:c,open:f,placement:p="bottom",popperOptions:m=Iie,popperRef:v,style:x,transition:_=!1,slotProps:b={},slots:y={}}=e,S=ht(e,Tie),[M,C]=F.useState(!0),P=()=>{C(!1)},A=()=>{C(!0)};if(!l&&!f&&(!_||M))return null;let R;if(o)R=o;else if(r){const N=TR(r);R=N&&Rie(N)?Mo(N).body:Mo(null).body}const U=!f&&l&&(!_||M)?"none":void 0,O=_?{in:f,onEnter:P,onExited:A}:void 0;return k.jsx(r$,{disablePortal:s,container:R,children:k.jsx(Lie,j({anchorEl:r,direction:a,disablePortal:s,modifiers:c,ref:n,open:_?!M:f,placement:p,popperOptions:m,popperRef:v,slotProps:b,slots:y},S,{style:j({position:"fixed",top:0,left:0,display:U},x),TransitionProps:O,children:i}))})});function kie(t){const e=Mo(t);return e.body===t?xc(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Py(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function O5(t){return parseInt(xc(t).getComputedStyle(t).paddingRight,10)||0}function Nie(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function k5(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,a=>{const s=o.indexOf(a)===-1,l=!Nie(a);s&&l&&Py(a,i)})}function WC(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Die(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(kie(r)){const a=hB(Mo(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${O5(r)+a}px`;const s=Mo(r).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${O5(l)+a}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Mo(r).body;else{const a=r.parentElement,s=xc(r);o=(a==null?void 0:a.nodeName)==="HTML"&&s.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:a,property:s})=>{o?a.style.setProperty(s,o):a.style.removeProperty(s)})}}function Fie(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Uie{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Py(e.modalRef,!1);const i=Fie(n);k5(n,e.mount,e.modalRef,i,!0);const o=WC(this.containers,a=>a.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=WC(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Die(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=WC(this.containers,a=>a.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Py(e.modalRef,n),k5(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&Py(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function zie(t){return typeof t=="function"?t():t}function Bie(t){return t?t.props.hasOwnProperty("in"):!1}const $ie=new Uie;function Hie(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=$ie,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:s,children:l,onClose:c,open:f,rootRef:p}=t,m=F.useRef({}),v=F.useRef(null),x=F.useRef(null),_=Ur(x,p),[b,y]=F.useState(!f),S=Bie(l);let M=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(M=!1);const C=()=>Mo(v.current),P=()=>(m.current.modalRef=x.current,m.current.mount=v.current,m.current),A=()=>{i.mount(P(),{disableScrollLock:r}),x.current&&(x.current.scrollTop=0)},R=_l(()=>{const ie=zie(e)||C().body;i.add(P(),ie),x.current&&A()}),U=F.useCallback(()=>i.isTopModal(P()),[i]),O=_l(ie=>{v.current=ie,ie&&(f&&U()?A():x.current&&Py(x.current,M))}),N=F.useCallback(()=>{i.remove(P(),M)},[M,i]);F.useEffect(()=>()=>{N()},[N]),F.useEffect(()=>{f?R():(!S||!o)&&N()},[f,N,S,o,R]);const B=ie=>se=>{var H;(H=ie.onKeyDown)==null||H.call(ie,se),!(se.key!=="Escape"||se.which===229||!U())&&(n||(se.stopPropagation(),c&&c(se,"escapeKeyDown")))},Y=ie=>se=>{var H;(H=ie.onClick)==null||H.call(ie,se),se.target===se.currentTarget&&c&&c(se,"backdropClick")};return{getRootProps:(ie={})=>{const se=XB(t);delete se.onTransitionEnter,delete se.onTransitionExited;const H=j({},se,ie);return j({role:"presentation"},H,{onKeyDown:B(H),ref:_})},getBackdropProps:(ie={})=>{const se=ie;return j({"aria-hidden":!0},se,{onClick:Y(se),open:f})},getTransitionProps:()=>{const ie=()=>{y(!1),a&&a()},se=()=>{y(!0),s&&s(),o&&N()};return{onEnter:ES(ie,l==null?void 0:l.props.onEnter),onExited:ES(se,l==null?void 0:l.props.onExited)}},rootRef:_,portalRef:O,isTopModal:U,exited:b,hasTransition:S}}const Vie=["onChange","maxRows","minRows","style","value"];function c_(t){return parseInt(t,10)||0}const Wie={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function N5(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const Gie=F.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:a,value:s}=e,l=ht(e,Vie),{current:c}=F.useRef(s!=null),f=F.useRef(null),p=Ur(n,f),m=F.useRef(null),v=F.useRef(0),[x,_]=F.useState({outerHeightStyle:0}),b=F.useCallback(()=>{const C=f.current,A=xc(C).getComputedStyle(C);if(A.width==="0px")return{outerHeightStyle:0};const R=m.current;R.style.width=A.width,R.value=C.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const U=A.boxSizing,O=c_(A.paddingBottom)+c_(A.paddingTop),N=c_(A.borderBottomWidth)+c_(A.borderTopWidth),B=R.scrollHeight;R.value="x";const Y=R.scrollHeight;let J=B;o&&(J=Math.max(Number(o)*Y,J)),i&&(J=Math.min(Number(i)*Y,J)),J=Math.max(J,Y);const G=J+(U==="border-box"?O+N:0),ne=Math.abs(J-B)<=1;return{outerHeightStyle:G,overflow:ne}},[i,o,e.placeholder]),y=(C,P)=>{const{outerHeightStyle:A,overflow:R}=P;return v.current<20&&(A>0&&Math.abs((C.outerHeightStyle||0)-A)>1||C.overflow!==R)?(v.current+=1,{overflow:R,outerHeightStyle:A}):C},S=F.useCallback(()=>{const C=b();N5(C)||_(P=>y(P,C))},[b]);Ws(()=>{const C=()=>{const B=b();N5(B)||ad.flushSync(()=>{_(Y=>y(Y,B))})},P=()=>{v.current=0,C()};let A;const R=BM(P),U=f.current,O=xc(U);O.addEventListener("resize",R);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(P),N.observe(U)),()=>{R.clear(),cancelAnimationFrame(A),O.removeEventListener("resize",R),N&&N.disconnect()}},[b]),Ws(()=>{S()}),F.useEffect(()=>{v.current=0},[s]);const M=C=>{v.current=0,c||S(),r&&r(C)};return k.jsxs(F.Fragment,{children:[k.jsx("textarea",j({value:s,onChange:M,ref:p,rows:o,style:j({height:x.outerHeightStyle,overflow:x.overflow?"hidden":void 0},a)},l)),k.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:j({},Wie.shadow,a,{paddingTop:0,paddingBottom:0})})]})});function D5(t){return typeof t.normalize<"u"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function jie(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:a=!1}=t;return(s,{inputValue:l,getOptionLabel:c})=>{let f=a?l.trim():l;n&&(f=f.toLowerCase()),e&&(f=D5(f));const p=f?s.filter(m=>{let v=(o||c)(m);return n&&(v=v.toLowerCase()),e&&(v=D5(v)),i==="start"?v.indexOf(f)===0:v.indexOf(f)>-1}):s;return typeof r=="number"?p.slice(0,r):p}}function GC(t,e){for(let n=0;n<t.length;n+=1)if(e(t[n]))return n;return-1}const Xie=jie(),F5=5,qie=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))};function Yie(t){const{unstable_isActiveElementInListbox:e=qie,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:a=!1,clearOnBlur:s=!t.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:f=t.multiple?[]:null,disableClearable:p=!1,disableCloseOnSelect:m=!1,disabled:v,disabledItemsFocusable:x=!1,disableListWrap:_=!1,filterOptions:b=Xie,filterSelectedOptions:y=!1,freeSolo:S=!1,getOptionDisabled:M,getOptionLabel:C=Fe=>{var Ie;return(Ie=Fe.label)!=null?Ie:Fe},groupBy:P,handleHomeEndKeys:A=!t.freeSolo,id:R,includeInputInList:U=!1,inputValue:O,isOptionEqualToValue:N=(Fe,Ie)=>Fe===Ie,multiple:B=!1,onChange:Y,onClose:J,onHighlightChange:G,onInputChange:ne,onOpen:ie,open:se,openOnFocus:H=!1,options:q,readOnly:te=!1,selectOnFocus:Q=!t.freeSolo,value:ae}=t,xe=ex(R);let we=C;we=Fe=>{const Ie=C(Fe);return typeof Ie!="string"?String(Ie):Ie};const Te=F.useRef(!1),Ve=F.useRef(!0),Ye=F.useRef(null),et=F.useRef(null),[ct,Lt]=F.useState(null),[$e,oe]=F.useState(-1),Ae=i?0:-1,ge=F.useRef(Ae),[ve,Ue]=Bf({controlled:ae,default:f,name:c}),[We,Je]=Bf({controlled:O,default:"",name:c,state:"inputValue"}),[ot,ft]=F.useState(!1),lt=F.useCallback((Fe,Ie)=>{if(!(B?ve.length<Ie.length:Ie!==null)&&!s)return;let V;if(B)V="";else if(Ie==null)V="";else{const fe=we(Ie);V=typeof fe=="string"?fe:""}We!==V&&(Je(V),ne&&ne(Fe,V,"reset"))},[we,We,B,ne,Je,s,ve]),[Ht,ee]=Bf({controlled:se,default:!1,name:c,state:"open"}),[$,ye]=F.useState(!0),Ge=!B&&ve!=null&&We===we(ve),Le=Ht&&!te,Me=Le?b(q.filter(Fe=>!(y&&(B?ve:[ve]).some(Ie=>Ie!==null&&N(Fe,Ie)))),{inputValue:Ge&&$?"":We,getOptionLabel:we}):[],De=XQ({filteredOptions:Me,value:ve,inputValue:We});F.useEffect(()=>{const Fe=ve!==De.value;ot&&!Fe||S&&!Fe||lt(null,ve)},[ve,lt,ot,De.value,S]);const je=Ht&&Me.length>0&&!te,at=_l(Fe=>{Fe===-1?Ye.current.focus():ct.querySelector(`[data-tag-index="${Fe}"]`).focus()});F.useEffect(()=>{B&&$e>ve.length-1&&(oe(-1),at(-1))},[ve,B,$e,at]);function At(Fe,Ie){if(!et.current||Fe<0||Fe>=Me.length)return-1;let Ke=Fe;for(;;){const V=et.current.querySelector(`[data-option-index="${Ke}"]`),fe=x?!1:!V||V.disabled||V.getAttribute("aria-disabled")==="true";if(V&&V.hasAttribute("tabindex")&&!fe)return Ke;if(Ie==="next"?Ke=(Ke+1)%Me.length:Ke=(Ke-1+Me.length)%Me.length,Ke===Fe)return-1}}const Ze=_l(({event:Fe,index:Ie,reason:Ke="auto"})=>{if(ge.current=Ie,Ie===-1?Ye.current.removeAttribute("aria-activedescendant"):Ye.current.setAttribute("aria-activedescendant",`${xe}-option-${Ie}`),G&&G(Fe,Ie===-1?null:Me[Ie],Ke),!et.current)return;const V=et.current.querySelector(`[role="option"].${n}-focused`);V&&(V.classList.remove(`${n}-focused`),V.classList.remove(`${n}-focusVisible`));let fe=et.current;if(et.current.getAttribute("role")!=="listbox"&&(fe=et.current.parentElement.querySelector('[role="listbox"]')),!fe)return;if(Ie===-1){fe.scrollTop=0;return}const be=et.current.querySelector(`[data-option-index="${Ie}"]`);if(be&&(be.classList.add(`${n}-focused`),Ke==="keyboard"&&be.classList.add(`${n}-focusVisible`),fe.scrollHeight>fe.clientHeight&&Ke!=="mouse"&&Ke!=="touch")){const Se=be,Ee=fe.clientHeight+fe.scrollTop,yt=Se.offsetTop+Se.offsetHeight;yt>Ee?fe.scrollTop=yt-fe.clientHeight:Se.offsetTop-Se.offsetHeight*(P?1.3:0)<fe.scrollTop&&(fe.scrollTop=Se.offsetTop-Se.offsetHeight*(P?1.3:0))}}),Oe=_l(({event:Fe,diff:Ie,direction:Ke="next",reason:V="auto"})=>{if(!Le)return;const be=At((()=>{const Se=Me.length-1;if(Ie==="reset")return Ae;if(Ie==="start")return 0;if(Ie==="end")return Se;const Ee=ge.current+Ie;return Ee<0?Ee===-1&&U?-1:_&&ge.current!==-1||Math.abs(Ie)>1?0:Se:Ee>Se?Ee===Se+1&&U?-1:_||Math.abs(Ie)>1?Se:0:Ee})(),Ke);if(Ze({index:be,reason:V,event:Fe}),r&&Ie!=="reset")if(be===-1)Ye.current.value=We;else{const Se=we(Me[be]);Ye.current.value=Se,Se.toLowerCase().indexOf(We.toLowerCase())===0&&We.length>0&&Ye.current.setSelectionRange(We.length,Se.length)}}),Ut=()=>{const Fe=(Ie,Ke)=>{const V=Ie?we(Ie):"",fe=Ke?we(Ke):"";return V===fe};if(ge.current!==-1&&De.filteredOptions&&De.filteredOptions.length!==Me.length&&De.inputValue===We&&(B?ve.length===De.value.length&&De.value.every((Ie,Ke)=>we(ve[Ke])===we(Ie)):Fe(De.value,ve))){const Ie=De.filteredOptions[ge.current];if(Ie&&Me.some(V=>we(V)===we(Ie)))return!0}return!1},Et=F.useCallback(()=>{if(!Le||Ut())return;const Fe=B?ve[0]:ve;if(Me.length===0||Fe==null){Oe({diff:"reset"});return}if(et.current){if(Fe!=null){const Ie=Me[ge.current];if(B&&Ie&&GC(ve,V=>N(Ie,V))!==-1)return;const Ke=GC(Me,V=>N(V,Fe));Ke===-1?Oe({diff:"reset"}):Ze({index:Ke});return}if(ge.current>=Me.length-1){Ze({index:Me.length-1});return}Ze({index:ge.current})}},[Me.length,B?!1:ve,y,Oe,Ze,Le,We,B]),Nt=_l(Fe=>{c1(et,Fe),Fe&&Et()});F.useEffect(()=>{Et()},[Et]);const Ct=Fe=>{Ht||(ee(!0),ye(!0),ie&&ie(Fe))},dt=(Fe,Ie)=>{Ht&&(ee(!1),J&&J(Fe,Ie))},Qt=(Fe,Ie,Ke,V)=>{if(B){if(ve.length===Ie.length&&ve.every((fe,be)=>fe===Ie[be]))return}else if(ve===Ie)return;Y&&Y(Fe,Ie,Ke,V),Ue(Ie)},de=F.useRef(!1),ut=(Fe,Ie,Ke="selectOption",V="options")=>{let fe=Ke,be=Ie;if(B){be=Array.isArray(ve)?ve.slice():[];const Se=GC(be,Ee=>N(Ie,Ee));Se===-1?be.push(Ie):V!=="freeSolo"&&(be.splice(Se,1),fe="removeOption")}lt(Fe,be),Qt(Fe,be,fe,{option:Ie}),!m&&(!Fe||!Fe.ctrlKey&&!Fe.metaKey)&&dt(Fe,fe),(a===!0||a==="touch"&&de.current||a==="mouse"&&!de.current)&&Ye.current.blur()};function rt(Fe,Ie){if(Fe===-1)return-1;let Ke=Fe;for(;;){if(Ie==="next"&&Ke===ve.length||Ie==="previous"&&Ke===-1)return-1;const V=ct.querySelector(`[data-tag-index="${Ke}"]`);if(!V||!V.hasAttribute("tabindex")||V.disabled||V.getAttribute("aria-disabled")==="true")Ke+=Ie==="next"?1:-1;else return Ke}}const Ne=(Fe,Ie)=>{if(!B)return;We===""&&dt(Fe,"toggleInput");let Ke=$e;$e===-1?We===""&&Ie==="previous"&&(Ke=ve.length-1):(Ke+=Ie==="next"?1:-1,Ke<0&&(Ke=0),Ke===ve.length&&(Ke=-1)),Ke=rt(Ke,Ie),oe(Ke),at(Ke)},it=Fe=>{Te.current=!0,Je(""),ne&&ne(Fe,"","clear"),Qt(Fe,B?[]:null,"clear")},zt=Fe=>Ie=>{if(Fe.onKeyDown&&Fe.onKeyDown(Ie),!Ie.defaultMuiPrevented&&($e!==-1&&["ArrowLeft","ArrowRight"].indexOf(Ie.key)===-1&&(oe(-1),at(-1)),Ie.which!==229))switch(Ie.key){case"Home":Le&&A&&(Ie.preventDefault(),Oe({diff:"start",direction:"next",reason:"keyboard",event:Ie}));break;case"End":Le&&A&&(Ie.preventDefault(),Oe({diff:"end",direction:"previous",reason:"keyboard",event:Ie}));break;case"PageUp":Ie.preventDefault(),Oe({diff:-F5,direction:"previous",reason:"keyboard",event:Ie}),Ct(Ie);break;case"PageDown":Ie.preventDefault(),Oe({diff:F5,direction:"next",reason:"keyboard",event:Ie}),Ct(Ie);break;case"ArrowDown":Ie.preventDefault(),Oe({diff:1,direction:"next",reason:"keyboard",event:Ie}),Ct(Ie);break;case"ArrowUp":Ie.preventDefault(),Oe({diff:-1,direction:"previous",reason:"keyboard",event:Ie}),Ct(Ie);break;case"ArrowLeft":Ne(Ie,"previous");break;case"ArrowRight":Ne(Ie,"next");break;case"Enter":if(ge.current!==-1&&Le){const Ke=Me[ge.current],V=M?M(Ke):!1;if(Ie.preventDefault(),V)return;ut(Ie,Ke,"selectOption"),r&&Ye.current.setSelectionRange(Ye.current.value.length,Ye.current.value.length)}else S&&We!==""&&Ge===!1&&(B&&Ie.preventDefault(),ut(Ie,We,"createOption","freeSolo"));break;case"Escape":Le?(Ie.preventDefault(),Ie.stopPropagation(),dt(Ie,"escape")):l&&(We!==""||B&&ve.length>0)&&(Ie.preventDefault(),Ie.stopPropagation(),it(Ie));break;case"Backspace":if(B&&!te&&We===""&&ve.length>0){const Ke=$e===-1?ve.length-1:$e,V=ve.slice();V.splice(Ke,1),Qt(Ie,V,"removeOption",{option:ve[Ke]})}break;case"Delete":if(B&&!te&&We===""&&ve.length>0&&$e!==-1){const Ke=$e,V=ve.slice();V.splice(Ke,1),Qt(Ie,V,"removeOption",{option:ve[Ke]})}break}},yn=Fe=>{ft(!0),H&&!Te.current&&Ct(Fe)},Zn=Fe=>{if(e(et)){Ye.current.focus();return}ft(!1),Ve.current=!0,Te.current=!1,o&&ge.current!==-1&&Le?ut(Fe,Me[ge.current],"blur"):o&&S&&We!==""?ut(Fe,We,"blur","freeSolo"):s&&lt(Fe,ve),dt(Fe,"blur")},Ar=Fe=>{const Ie=Fe.target.value;We!==Ie&&(Je(Ie),ye(!1),ne&&ne(Fe,Ie,"input")),Ie===""?!p&&!B&&Qt(Fe,null,"clear"):Ct(Fe)},nn=Fe=>{const Ie=Number(Fe.currentTarget.getAttribute("data-option-index"));ge.current!==Ie&&Ze({event:Fe,index:Ie,reason:"mouse"})},Sn=Fe=>{Ze({event:Fe,index:Number(Fe.currentTarget.getAttribute("data-option-index")),reason:"touch"}),de.current=!0},ur=Fe=>{const Ie=Number(Fe.currentTarget.getAttribute("data-option-index"));ut(Fe,Me[Ie],"selectOption"),de.current=!1},ds=Fe=>Ie=>{const Ke=ve.slice();Ke.splice(Fe,1),Qt(Ie,Ke,"removeOption",{option:ve[Fe]})},hs=Fe=>{Ht?dt(Fe,"toggleInput"):Ct(Fe)},Ks=Fe=>{Fe.currentTarget.contains(Fe.target)&&Fe.target.getAttribute("id")!==xe&&Fe.preventDefault()},Ko=Fe=>{Fe.currentTarget.contains(Fe.target)&&(Ye.current.focus(),Q&&Ve.current&&Ye.current.selectionEnd-Ye.current.selectionStart===0&&Ye.current.select(),Ve.current=!1)},Sa=Fe=>{!v&&(We===""||!Ht)&&hs(Fe)};let Zo=S&&We.length>0;Zo=Zo||(B?ve.length>0:ve!==null);let Ma=Me;return P&&(Ma=Me.reduce((Fe,Ie,Ke)=>{const V=P(Ie);return Fe.length>0&&Fe[Fe.length-1].group===V?Fe[Fe.length-1].options.push(Ie):Fe.push({key:Ke,index:Ke,group:V,options:[Ie]}),Fe},[])),v&&ot&&Zn(),{getRootProps:(Fe={})=>j({"aria-owns":je?`${xe}-listbox`:null},Fe,{onKeyDown:zt(Fe),onMouseDown:Ks,onClick:Ko}),getInputLabelProps:()=>({id:`${xe}-label`,htmlFor:xe}),getInputProps:()=>({id:xe,value:We,onBlur:Zn,onFocus:yn,onChange:Ar,onMouseDown:Sa,"aria-activedescendant":Le?"":null,"aria-autocomplete":r?"both":"list","aria-controls":je?`${xe}-listbox`:void 0,"aria-expanded":je,autoComplete:"off",ref:Ye,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:v}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:it}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:hs}),getTagProps:({index:Fe})=>j({key:Fe,"data-tag-index":Fe,tabIndex:-1},!te&&{onDelete:ds(Fe)}),getListboxProps:()=>({role:"listbox",id:`${xe}-listbox`,"aria-labelledby":`${xe}-label`,ref:Nt,onMouseDown:Fe=>{Fe.preventDefault()}}),getOptionProps:({index:Fe,option:Ie})=>{const Ke=(B?ve:[ve]).some(fe=>fe!=null&&N(Ie,fe)),V=M?M(Ie):!1;return{key:we(Ie),tabIndex:-1,role:"option",id:`${xe}-option-${Fe}`,onMouseMove:nn,onClick:ur,onTouchStart:Sn,"data-option-index":Fe,"aria-disabled":V,"aria-selected":Ke}},id:xe,inputValue:We,value:ve,dirty:Zo,expanded:Le&&ct,popupOpen:Le,focused:ot||$e!==-1,anchorEl:ct,setAnchorEl:Lt,focusedTag:$e,groupedOptions:Ma}}const Kie=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Zie=st(Oie,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Qie=F.forwardRef(function(e,n){var r;const i=FB(),o=ln({props:e,name:"MuiPopper"}),{anchorEl:a,component:s,components:l,componentsProps:c,container:f,disablePortal:p,keepMounted:m,modifiers:v,open:x,placement:_,popperOptions:b,popperRef:y,transition:S,slots:M,slotProps:C}=o,P=ht(o,Kie),A=(r=M==null?void 0:M.root)!=null?r:l==null?void 0:l.Root,R=j({anchorEl:a,container:f,disablePortal:p,keepMounted:m,modifiers:v,open:x,placement:_,popperOptions:b,popperRef:y,transition:S},P);return k.jsx(Zie,j({as:s,direction:i==null?void 0:i.direction,slots:{root:A},slotProps:C??c},R,{ref:n}))}),i$=Qie;function Jie(t){return tn("MuiListSubheader",t)}Zt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const eoe=["className","color","component","disableGutters","disableSticky","inset"],toe=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:o}=t,a={root:["root",n!=="default"&&`color${Qe(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return an(a,Jie,e)},noe=st("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Qe(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(({theme:t,ownerState:e})=>j({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},e.color==="primary"&&{color:(t.vars||t).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})),o$=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:a="li",disableGutters:s=!1,disableSticky:l=!1,inset:c=!1}=r,f=ht(r,eoe),p=j({},r,{color:o,component:a,disableGutters:s,disableSticky:l,inset:c}),m=toe(p);return k.jsx(noe,j({as:a,className:gt(m.root,i),ref:n,ownerState:p},f))});o$.muiSkipListHighlight=!0;const roe=o$,ioe=Pu(k.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function ooe(t){return tn("MuiChip",t)}const aoe=Zt("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Bn=aoe,soe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],loe=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:a,clickable:s,variant:l}=t,c={root:["root",l,n&&"disabled",`size${Qe(r)}`,`color${Qe(i)}`,s&&"clickable",s&&`clickableColor${Qe(i)}`,a&&"deletable",a&&`deletableColor${Qe(i)}`,`${l}${Qe(i)}`],label:["label",`label${Qe(r)}`],avatar:["avatar",`avatar${Qe(r)}`,`avatarColor${Qe(i)}`],icon:["icon",`icon${Qe(r)}`,`iconColor${Qe(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Qe(r)}`,`deleteIconColor${Qe(i)}`,`deleteIcon${Qe(l)}Color${Qe(i)}`]};return an(c,ooe,e)},coe=st("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:a,size:s,variant:l}=n;return[{[`& .${Bn.avatar}`]:e.avatar},{[`& .${Bn.avatar}`]:e[`avatar${Qe(s)}`]},{[`& .${Bn.avatar}`]:e[`avatarColor${Qe(r)}`]},{[`& .${Bn.icon}`]:e.icon},{[`& .${Bn.icon}`]:e[`icon${Qe(s)}`]},{[`& .${Bn.icon}`]:e[`iconColor${Qe(i)}`]},{[`& .${Bn.deleteIcon}`]:e.deleteIcon},{[`& .${Bn.deleteIcon}`]:e[`deleteIcon${Qe(s)}`]},{[`& .${Bn.deleteIcon}`]:e[`deleteIconColor${Qe(r)}`]},{[`& .${Bn.deleteIcon}`]:e[`deleteIcon${Qe(l)}Color${Qe(r)}`]},e.root,e[`size${Qe(s)}`],e[`color${Qe(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${Qe(r)})`],a&&e.deletable,a&&r!=="default"&&e[`deletableColor${Qe(r)}`],e[l],e[`${l}${Qe(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return j({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Bn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Bn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${Bn.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Bn.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Bn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Bn.icon}`]:j({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&j({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${Bn.deleteIcon}`]:j({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Ln(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Ln(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Ln(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${Bn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ln(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${Bn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>j({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ln(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Bn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ln(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${Bn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>j({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Bn.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Bn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Bn.avatar}`]:{marginLeft:4},[`& .${Bn.avatarSmall}`]:{marginLeft:2},[`& .${Bn.icon}`]:{marginLeft:4},[`& .${Bn.iconSmall}`]:{marginLeft:2},[`& .${Bn.deleteIcon}`]:{marginRight:5},[`& .${Bn.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Ln(t.palette[e.color].main,.7)}`,[`&.${Bn.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ln(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${Bn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Ln(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${Bn.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Ln(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),uoe=st("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Qe(r)}`]]}})(({ownerState:t})=>j({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function U5(t){return t.key==="Backspace"||t.key==="Delete"}const foe=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:a,color:s="default",component:l,deleteIcon:c,disabled:f=!1,icon:p,label:m,onClick:v,onDelete:x,onKeyDown:_,onKeyUp:b,size:y="medium",variant:S="filled",tabIndex:M,skipFocusWhenDisabled:C=!1}=r,P=ht(r,soe),A=F.useRef(null),R=Ur(A,n),U=q=>{q.stopPropagation(),x&&x(q)},O=q=>{q.currentTarget===q.target&&U5(q)&&q.preventDefault(),_&&_(q)},N=q=>{q.currentTarget===q.target&&(x&&U5(q)?x(q):q.key==="Escape"&&A.current&&A.current.blur()),b&&b(q)},B=a!==!1&&v?!0:a,Y=B||x?jh:l||"div",J=j({},r,{component:Y,disabled:f,size:y,color:s,iconColor:F.isValidElement(p)&&p.props.color||s,onDelete:!!x,clickable:B,variant:S}),G=loe(J),ne=Y===jh?j({component:l||"div",focusVisibleClassName:G.focusVisible},x&&{disableRipple:!0}):{};let ie=null;x&&(ie=c&&F.isValidElement(c)?F.cloneElement(c,{className:gt(c.props.className,G.deleteIcon),onClick:U}):k.jsx(ioe,{className:gt(G.deleteIcon),onClick:U}));let se=null;i&&F.isValidElement(i)&&(se=F.cloneElement(i,{className:gt(G.avatar,i.props.className)}));let H=null;return p&&F.isValidElement(p)&&(H=F.cloneElement(p,{className:gt(G.icon,p.props.className)})),k.jsxs(coe,j({as:Y,className:gt(G.root,o),disabled:B&&f?!0:void 0,onClick:v,onKeyDown:O,onKeyUp:N,ref:R,tabIndex:C&&f?-1:M,ownerState:J},ne,P,{children:[se||H,k.jsx(uoe,{className:gt(G.label),ownerState:J,children:m}),ie]}))}),doe=foe;function ld({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const hoe=F.createContext(void 0),PI=hoe;function Lu(){return F.useContext(PI)}function poe(t){return k.jsx(Kee,j({},t,{defaultTheme:dE,themeId:tx}))}function z5(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function LS(t,e=!1){return t&&(z5(t.value)&&t.value!==""||e&&z5(t.defaultValue)&&t.defaultValue!=="")}function moe(t){return t.startAdornment}function goe(t){return tn("MuiInputBase",t)}const voe=Zt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ja=voe,yoe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],gE=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Qe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},vE=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},xoe=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:c,multiline:f,readOnly:p,size:m,startAdornment:v,type:x}=t,_={root:["root",`color${Qe(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",m&&m!=="medium"&&`size${Qe(m)}`,f&&"multiline",v&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",x==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",v&&"inputAdornedStart",o&&"inputAdornedEnd",p&&"readOnly"]};return an(_,goe,e)},yE=st("div",{name:"MuiInputBase",slot:"Root",overridesResolver:gE})(({theme:t,ownerState:e})=>j({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ja.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&j({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),xE=st("input",{name:"MuiInputBase",slot:"Input",overridesResolver:vE})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=j({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return j({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ja.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${ja.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),boe=k.jsx(poe,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),_oe=F.forwardRef(function(e,n){var r;const i=ln({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:s,className:l,components:c={},componentsProps:f={},defaultValue:p,disabled:m,disableInjectingGlobalStyles:v,endAdornment:x,fullWidth:_=!1,id:b,inputComponent:y="input",inputProps:S={},inputRef:M,maxRows:C,minRows:P,multiline:A=!1,name:R,onBlur:U,onChange:O,onClick:N,onFocus:B,onKeyDown:Y,onKeyUp:J,placeholder:G,readOnly:ne,renderSuffix:ie,rows:se,slotProps:H={},slots:q={},startAdornment:te,type:Q="text",value:ae}=i,xe=ht(i,yoe),we=S.value!=null?S.value:ae,{current:Te}=F.useRef(we!=null),Ve=F.useRef(),Ye=F.useCallback(Me=>{},[]),et=Ur(Ve,M,S.ref,Ye),[ct,Lt]=F.useState(!1),$e=Lu(),oe=ld({props:i,muiFormControl:$e,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=$e?$e.focused:ct,F.useEffect(()=>{!$e&&m&&ct&&(Lt(!1),U&&U())},[$e,m,ct,U]);const Ae=$e&&$e.onFilled,ge=$e&&$e.onEmpty,ve=F.useCallback(Me=>{LS(Me)?Ae&&Ae():ge&&ge()},[Ae,ge]);Ws(()=>{Te&&ve({value:we})},[we,ve,Te]);const Ue=Me=>{if(oe.disabled){Me.stopPropagation();return}B&&B(Me),S.onFocus&&S.onFocus(Me),$e&&$e.onFocus?$e.onFocus(Me):Lt(!0)},We=Me=>{U&&U(Me),S.onBlur&&S.onBlur(Me),$e&&$e.onBlur?$e.onBlur(Me):Lt(!1)},Je=(Me,...De)=>{if(!Te){const je=Me.target||Ve.current;if(je==null)throw new Error(Yf(1));ve({value:je.value})}S.onChange&&S.onChange(Me,...De),O&&O(Me,...De)};F.useEffect(()=>{ve(Ve.current)},[]);const ot=Me=>{Ve.current&&Me.currentTarget===Me.target&&Ve.current.focus(),N&&N(Me)};let ft=y,lt=S;A&&ft==="input"&&(se?lt=j({type:void 0,minRows:se,maxRows:se},lt):lt=j({type:void 0,maxRows:C,minRows:P},lt),ft=Gie);const Ht=Me=>{ve(Me.animationName==="mui-auto-fill-cancel"?Ve.current:{value:"x"})};F.useEffect(()=>{$e&&$e.setAdornedStart(!!te)},[$e,te]);const ee=j({},i,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:x,error:oe.error,focused:oe.focused,formControl:$e,fullWidth:_,hiddenLabel:oe.hiddenLabel,multiline:A,size:oe.size,startAdornment:te,type:Q}),$=xoe(ee),ye=q.root||c.Root||yE,Ge=H.root||f.root||{},Le=q.input||c.Input||xE;return lt=j({},lt,(r=H.input)!=null?r:f.input),k.jsxs(F.Fragment,{children:[!v&&boe,k.jsxs(ye,j({},Ge,!Yg(ye)&&{ownerState:j({},ee,Ge.ownerState)},{ref:n,onClick:ot},xe,{className:gt($.root,Ge.className,l,ne&&"MuiInputBase-readOnly"),children:[te,k.jsx(PI.Provider,{value:null,children:k.jsx(Le,j({ownerState:ee,"aria-invalid":oe.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:p,disabled:oe.disabled,id:b,onAnimationStart:Ht,name:R,placeholder:G,readOnly:ne,required:oe.required,rows:se,value:we,onKeyDown:Y,onKeyUp:J,type:Q},lt,!Yg(Le)&&{as:ft,ownerState:j({},ee,lt.ownerState)},{ref:et,className:gt($.input,lt.className,ne&&"MuiInputBase-readOnly"),onBlur:We,onChange:Je,onFocus:Ue}))}),x,ie?ie(j({},oe,{startAdornment:te})):null]}))]})}),II=_oe;function woe(t){return tn("MuiInput",t)}const Soe=j({},ja,Zt("MuiInput",["root","underline","input"])),Af=Soe;function Moe(t){return tn("MuiOutlinedInput",t)}const Eoe=j({},ja,Zt("MuiOutlinedInput",["root","notchedOutline","input"])),ec=Eoe;function Coe(t){return tn("MuiFilledInput",t)}const Toe=j({},ja,Zt("MuiFilledInput",["root","underline","input"])),Xa=Toe,a$=Pu(k.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Aoe(t){return tn("MuiAutocomplete",t)}const Roe=Zt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),Pn=Roe;var B5,$5;const Poe=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Ioe=["ref"],Loe=t=>{const{classes:e,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:a,hasPopupIcon:s,inputFocused:l,popupOpen:c,size:f}=t,p={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",a&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${Qe(f)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return an(p,Aoe,e)},Ooe=st("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:a,size:s}=n;return[{[`& .${Pn.tag}`]:e.tag},{[`& .${Pn.tag}`]:e[`tagSize${Qe(s)}`]},{[`& .${Pn.inputRoot}`]:e.inputRoot},{[`& .${Pn.input}`]:e.input},{[`& .${Pn.input}`]:a&&e.inputFocused},e.root,r&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})(({ownerState:t})=>j({[`&.${Pn.focused} .${Pn.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Pn.clearIndicator}`]:{visibility:"visible"}}},t.fullWidth&&{width:"100%"},{[`& .${Pn.tag}`]:j({margin:3,maxWidth:"calc(100% - 6px)"},t.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${Pn.inputRoot}`]:{flexWrap:"wrap",[`.${Pn.hasPopupIcon}&, .${Pn.hasClearIcon}&`]:{paddingRight:26+4},[`.${Pn.hasPopupIcon}.${Pn.hasClearIcon}&`]:{paddingRight:52+4},[`& .${Pn.input}`]:{width:0,minWidth:30}},[`& .${Af.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Af.root}.${ja.sizeSmall}`]:{[`& .${Af.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ec.root}`]:{padding:9,[`.${Pn.hasPopupIcon}&, .${Pn.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${Pn.hasPopupIcon}.${Pn.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Pn.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Pn.endAdornment}`]:{right:9}},[`& .${ec.root}.${ja.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Pn.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Xa.root}`]:{paddingTop:19,paddingLeft:8,[`.${Pn.hasPopupIcon}&, .${Pn.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${Pn.hasPopupIcon}.${Pn.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Xa.input}`]:{padding:"7px 4px"},[`& .${Pn.endAdornment}`]:{right:9}},[`& .${Xa.root}.${ja.sizeSmall}`]:{paddingBottom:1,[`& .${Xa.input}`]:{padding:"2.5px 4px"}},[`& .${ja.hiddenLabel}`]:{paddingTop:8},[`& .${Xa.root}.${ja.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Pn.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Xa.root}.${ja.hiddenLabel}.${ja.sizeSmall}`]:{[`& .${Pn.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Pn.input}`]:j({flexGrow:1,textOverflow:"ellipsis",opacity:0},t.inputFocused&&{opacity:1})})),koe=st("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),Noe=st(pE,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Doe=st(pE,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:t},e)=>j({},e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen)})(({ownerState:t})=>j({padding:2,marginRight:-2},t.popupOpen&&{transform:"rotate(180deg)"})),Foe=st(i$,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Pn.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(({theme:t,ownerState:e})=>j({zIndex:(t.vars||t).zIndex.modal},e.disablePortal&&{position:"absolute"})),Uoe=st(ip,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({theme:t})=>j({},t.typography.body1,{overflow:"auto"})),zoe=st("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),Boe=st("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),$oe=st("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Pn.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Pn.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Pn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Pn.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${Pn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}})),Hoe=st(roe,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8})),Voe=st("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${Pn.option}`]:{paddingLeft:24}}),Woe=F.forwardRef(function(e,n){var r,i,o,a;const s=ln({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:c=!1,autoSelect:f=!1,blurOnSelect:p=!1,ChipProps:m,className:v,clearIcon:x=B5||(B5=k.jsx(Wne,{fontSize:"small"})),clearOnBlur:_=!s.freeSolo,clearOnEscape:b=!1,clearText:y="Clear",closeText:S="Close",componentsProps:M={},defaultValue:C=s.multiple?[]:null,disableClearable:P=!1,disableCloseOnSelect:A=!1,disabled:R=!1,disabledItemsFocusable:U=!1,disableListWrap:O=!1,disablePortal:N=!1,filterSelectedOptions:B=!1,forcePopupIcon:Y="auto",freeSolo:J=!1,fullWidth:G=!1,getLimitTagsText:ne=Ke=>`+${Ke}`,getOptionLabel:ie,groupBy:se,handleHomeEndKeys:H=!s.freeSolo,includeInputInList:q=!1,limitTags:te=-1,ListboxComponent:Q="ul",ListboxProps:ae,loading:xe=!1,loadingText:we="Loading",multiple:Te=!1,noOptionsText:Ve="No options",openOnFocus:Ye=!1,openText:et="Open",PaperComponent:ct=ip,PopperComponent:Lt=i$,popupIcon:$e=$5||($5=k.jsx(a$,{})),readOnly:oe=!1,renderGroup:Ae,renderInput:ge,renderOption:ve,renderTags:Ue,selectOnFocus:We=!s.freeSolo,size:Je="medium",slotProps:ot={}}=s,ft=ht(s,Poe),{getRootProps:lt,getInputProps:Ht,getInputLabelProps:ee,getPopupIndicatorProps:$,getClearProps:ye,getTagProps:Ge,getListboxProps:Le,getOptionProps:Me,value:De,dirty:je,expanded:at,id:At,popupOpen:Ze,focused:Oe,focusedTag:Ut,anchorEl:Et,setAnchorEl:Nt,inputValue:Ct,groupedOptions:dt}=Yie(j({},s,{componentName:"Autocomplete"})),Qt=!P&&!R&&je&&!oe,de=(!J||Y===!0)&&Y!==!1,{onMouseDown:ut}=Ht(),{ref:rt}=ae??{},Ne=Le(),{ref:it}=Ne,zt=ht(Ne,Ioe),yn=Ur(it,rt),Ar=ie||(Ke=>{var V;return(V=Ke.label)!=null?V:Ke}),nn=j({},s,{disablePortal:N,expanded:at,focused:Oe,fullWidth:G,getOptionLabel:Ar,hasClearIcon:Qt,hasPopupIcon:de,inputFocused:Ut===-1,popupOpen:Ze,size:Je}),Sn=Loe(nn);let ur;if(Te&&De.length>0){const Ke=V=>j({className:Sn.tag,disabled:R},Ge(V));Ue?ur=Ue(De,Ke,nn):ur=De.map((V,fe)=>k.jsx(doe,j({label:Ar(V),size:Je},Ke({index:fe}),m)))}if(te>-1&&Array.isArray(ur)){const Ke=ur.length-te;!Oe&&Ke>0&&(ur=ur.splice(0,te),ur.push(k.jsx("span",{className:Sn.tag,children:ne(Ke)},ur.length)))}const hs=Ae||(Ke=>k.jsxs("li",{children:[k.jsx(Hoe,{className:Sn.groupLabel,ownerState:nn,component:"div",children:Ke.group}),k.jsx(Voe,{className:Sn.groupUl,ownerState:nn,children:Ke.children})]},Ke.key)),Ko=ve||((Ke,V)=>k.jsx("li",j({},Ke,{children:Ar(V)}))),Sa=(Ke,V)=>{const fe=Me({option:Ke,index:V});return Ko(j({},fe,{className:Sn.option}),Ke,{selected:fe["aria-selected"],index:V,inputValue:Ct},nn)},Zo=(r=ot.clearIndicator)!=null?r:M.clearIndicator,Ma=(i=ot.paper)!=null?i:M.paper,Fe=(o=ot.popper)!=null?o:M.popper,Ie=(a=ot.popupIndicator)!=null?a:M.popupIndicator;return k.jsxs(F.Fragment,{children:[k.jsx(Ooe,j({ref:n,className:gt(Sn.root,v),ownerState:nn},lt(ft),{children:ge({id:At,disabled:R,fullWidth:!0,size:Je==="small"?"small":void 0,InputLabelProps:ee(),InputProps:j({ref:Nt,className:Sn.inputRoot,startAdornment:ur,onClick:Ke=>{Ke.target===Ke.currentTarget&&ut(Ke)}},(Qt||de)&&{endAdornment:k.jsxs(koe,{className:Sn.endAdornment,ownerState:nn,children:[Qt?k.jsx(Noe,j({},ye(),{"aria-label":y,title:y,ownerState:nn},Zo,{className:gt(Sn.clearIndicator,Zo==null?void 0:Zo.className),children:x})):null,de?k.jsx(Doe,j({},$(),{disabled:R,"aria-label":Ze?S:et,title:Ze?S:et,ownerState:nn},Ie,{className:gt(Sn.popupIndicator,Ie==null?void 0:Ie.className),children:$e})):null]})}),inputProps:j({className:Sn.input,disabled:R,readOnly:oe},Ht())})})),Et?k.jsx(Foe,j({as:Lt,disablePortal:N,style:{width:Et?Et.clientWidth:null},ownerState:nn,role:"presentation",anchorEl:Et,open:Ze},Fe,{className:gt(Sn.popper,Fe==null?void 0:Fe.className),children:k.jsxs(Uoe,j({ownerState:nn,as:ct},Ma,{className:gt(Sn.paper,Ma==null?void 0:Ma.className),children:[xe&&dt.length===0?k.jsx(zoe,{className:Sn.loading,ownerState:nn,children:we}):null,dt.length===0&&!J&&!xe?k.jsx(Boe,{className:Sn.noOptions,ownerState:nn,role:"presentation",onMouseDown:Ke=>{Ke.preventDefault()},children:Ve}):null,dt.length>0?k.jsx($oe,j({as:Q,className:Sn.listbox,ownerState:nn},zt,ae,{ref:yn,children:dt.map((Ke,V)=>se?hs({key:Ke.key,group:Ke.group,children:Ke.options.map((fe,be)=>Sa(fe,Ke.index+be))}):Sa(Ke,V))})):null]}))})):null]})}),s$=Woe,Goe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],joe={entering:{opacity:1},entered:{opacity:1}},Xoe=F.forwardRef(function(e,n){const r=ix(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:l,in:c,onEnter:f,onEntered:p,onEntering:m,onExit:v,onExited:x,onExiting:_,style:b,timeout:y=i,TransitionComponent:S=xI}=e,M=ht(e,Goe),C=F.useRef(null),P=Ur(C,s.ref,n),A=G=>ne=>{if(G){const ie=C.current;ne===void 0?G(ie):G(ie,ne)}},R=A(m),U=A((G,ne)=>{wI(G);const ie=qg({style:b,timeout:y,easing:l},{mode:"enter"});G.style.webkitTransition=r.transitions.create("opacity",ie),G.style.transition=r.transitions.create("opacity",ie),f&&f(G,ne)}),O=A(p),N=A(_),B=A(G=>{const ne=qg({style:b,timeout:y,easing:l},{mode:"exit"});G.style.webkitTransition=r.transitions.create("opacity",ne),G.style.transition=r.transitions.create("opacity",ne),v&&v(G)}),Y=A(x),J=G=>{o&&o(C.current,G)};return k.jsx(S,j({appear:a,in:c,nodeRef:C,onEnter:U,onEntered:O,onEntering:R,onExit:B,onExited:Y,onExiting:N,addEndListener:J,timeout:y},M,{children:(G,ne)=>F.cloneElement(s,j({style:j({opacity:0,visibility:G==="exited"&&!c?"hidden":void 0},joe[G],b,s.props.style),ref:P},ne))}))}),qoe=Xoe;function Yoe(t){return tn("MuiBackdrop",t)}Zt("MuiBackdrop",["root","invisible"]);const Koe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Zoe=t=>{const{classes:e,invisible:n}=t;return an({root:["root",n&&"invisible"]},Yoe,e)},Qoe=st("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>j({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Joe=F.forwardRef(function(e,n){var r,i,o;const a=ln({props:e,name:"MuiBackdrop"}),{children:s,className:l,component:c="div",components:f={},componentsProps:p={},invisible:m=!1,open:v,slotProps:x={},slots:_={},TransitionComponent:b=qoe,transitionDuration:y}=a,S=ht(a,Koe),M=j({},a,{component:c,invisible:m}),C=Zoe(M),P=(r=x.root)!=null?r:p.root;return k.jsx(b,j({in:v,timeout:y},S,{children:k.jsx(Qoe,j({"aria-hidden":!0},P,{as:(i=(o=_.root)!=null?o:f.Root)!=null?i:c,className:gt(C.root,l,P==null?void 0:P.className),ownerState:j({},M,P==null?void 0:P.ownerState),classes:C,ref:n,children:s}))}))}),eae=Joe,tae=GB(),nae=ete({themeId:tx,defaultTheme:tae,defaultClassName:"MuiBox-root",generateClassName:tI.generate}),Su=nae;function rae(t){return tn("MuiButton",t)}const iae=Zt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),u_=iae,oae=F.createContext({}),aae=oae,sae=F.createContext(void 0),lae=sae,cae=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],uae=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:a}=t,s={root:["root",o,`${o}${Qe(e)}`,`size${Qe(i)}`,`${o}Size${Qe(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Qe(i)}`],endIcon:["endIcon",`iconSize${Qe(i)}`]},l=an(s,rae,a);return j({},a,l)},l$=t=>j({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),fae=st(jh,{shouldForwardProp:t=>ao(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Qe(n.color)}`],e[`size${Qe(n.size)}`],e[`${n.variant}Size${Qe(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return j({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":j({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ln(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ln(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ln(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":j({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${u_.focusVisible}`]:j({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${u_.disabled}`]:j({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Ln(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${u_.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${u_.disabled}`]:{boxShadow:"none"}}),dae=st("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Qe(n.size)}`]]}})(({ownerState:t})=>j({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},l$(t))),hae=st("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Qe(n.size)}`]]}})(({ownerState:t})=>j({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},l$(t))),pae=F.forwardRef(function(e,n){const r=F.useContext(aae),i=F.useContext(lae),o=eI(r,e),a=ln({props:o,name:"MuiButton"}),{children:s,color:l="primary",component:c="button",className:f,disabled:p=!1,disableElevation:m=!1,disableFocusRipple:v=!1,endIcon:x,focusVisibleClassName:_,fullWidth:b=!1,size:y="medium",startIcon:S,type:M,variant:C="text"}=a,P=ht(a,cae),A=j({},a,{color:l,component:c,disabled:p,disableElevation:m,disableFocusRipple:v,fullWidth:b,size:y,type:M,variant:C}),R=uae(A),U=S&&k.jsx(dae,{className:R.startIcon,ownerState:A,children:S}),O=x&&k.jsx(hae,{className:R.endIcon,ownerState:A,children:x}),N=i||"";return k.jsxs(fae,j({ownerState:A,className:gt(r.className,R.root,f,N),component:c,disabled:p,focusRipple:!v,focusVisibleClassName:gt(R.focusVisible,_),ref:n,type:M},P,{classes:R,children:[U,s,O]}))}),H5=pae;function mae(t){return tn("MuiCard",t)}Zt("MuiCard",["root"]);const gae=["className","raised"],vae=t=>{const{classes:e}=t;return an({root:["root"]},mae,e)},yae=st(ip,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),xae=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=r,a=ht(r,gae),s=j({},r,{raised:o}),l=vae(s);return k.jsx(yae,j({className:gt(l.root,i),elevation:o?8:void 0,ref:n,ownerState:s},a))}),bE=xae;function bae(t){return tn("MuiCardContent",t)}Zt("MuiCardContent",["root"]);const _ae=["className","component"],wae=t=>{const{classes:e}=t;return an({root:["root"]},bae,e)},Sae=st("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Mae=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=r,a=ht(r,_ae),s=j({},r,{component:o}),l=wae(s);return k.jsx(Sae,j({as:o,className:gt(l.root,i),ownerState:s,ref:n},a))}),_E=Mae;function Eae(t){return tn("PrivateSwitchBase",t)}Zt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Cae=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Tae=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${Qe(i)}`],input:["input"]};return an(o,Eae,e)},Aae=st(jh)(({ownerState:t})=>j({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),Rae=st("input",{shouldForwardProp:ao})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Pae=F.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:a,defaultChecked:s,disabled:l,disableFocusRipple:c=!1,edge:f=!1,icon:p,id:m,inputProps:v,inputRef:x,name:_,onBlur:b,onChange:y,onFocus:S,readOnly:M,required:C=!1,tabIndex:P,type:A,value:R}=e,U=ht(e,Cae),[O,N]=Bf({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),B=Lu(),Y=q=>{S&&S(q),B&&B.onFocus&&B.onFocus(q)},J=q=>{b&&b(q),B&&B.onBlur&&B.onBlur(q)},G=q=>{if(q.nativeEvent.defaultPrevented)return;const te=q.target.checked;N(te),y&&y(q,te)};let ne=l;B&&typeof ne>"u"&&(ne=B.disabled);const ie=A==="checkbox"||A==="radio",se=j({},e,{checked:O,disabled:ne,disableFocusRipple:c,edge:f}),H=Tae(se);return k.jsxs(Aae,j({component:"span",className:gt(H.root,a),centerRipple:!0,focusRipple:!c,disabled:ne,tabIndex:null,role:void 0,onFocus:Y,onBlur:J,ownerState:se,ref:n},U,{children:[k.jsx(Rae,j({autoFocus:r,checked:i,defaultChecked:s,className:H.input,disabled:ne,id:ie?m:void 0,name:_,onChange:G,readOnly:M,ref:x,required:C,ownerState:se,tabIndex:P,type:A},A==="checkbox"&&R===void 0?{}:{value:R},v)),O?o:p]}))}),c$=Pae,Iae=Pu(k.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Lae=Pu(k.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Oae=Pu(k.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function kae(t){return tn("MuiCheckbox",t)}const Nae=Zt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),jC=Nae,Dae=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Fae=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,o={root:["root",n&&"indeterminate",`color${Qe(r)}`,`size${Qe(i)}`]},a=an(o,kae,e);return j({},e,a)},Uae=st(c$,{shouldForwardProp:t=>ao(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Qe(n.size)}`],n.color!=="default"&&e[`color${Qe(n.color)}`]]}})(({theme:t,ownerState:e})=>j({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ln(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${jC.checked}, &.${jC.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${jC.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),zae=k.jsx(Lae,{}),Bae=k.jsx(Iae,{}),$ae=k.jsx(Oae,{}),Hae=F.forwardRef(function(e,n){var r,i;const o=ln({props:e,name:"MuiCheckbox"}),{checkedIcon:a=zae,color:s="primary",icon:l=Bae,indeterminate:c=!1,indeterminateIcon:f=$ae,inputProps:p,size:m="medium",className:v}=o,x=ht(o,Dae),_=c?f:l,b=c?f:a,y=j({},o,{color:s,indeterminate:c,size:m}),S=Fae(y);return k.jsx(Uae,j({type:"checkbox",inputProps:j({"data-indeterminate":c},p),icon:F.cloneElement(_,{fontSize:(r=_.props.fontSize)!=null?r:m}),checkedIcon:F.cloneElement(b,{fontSize:(i=b.props.fontSize)!=null?i:m}),ownerState:y,ref:n,className:gt(S.root,v)},x,{classes:S}))}),lm=Hae;function Vae(t){return tn("MuiModal",t)}Zt("MuiModal",["root","hidden","backdrop"]);const Wae=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Gae=t=>{const{open:e,exited:n,classes:r}=t;return an({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Vae,r)},jae=st("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>j({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Xae=st(eae,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),qae=F.forwardRef(function(e,n){var r,i,o,a,s,l;const c=ln({name:"MuiModal",props:e}),{BackdropComponent:f=Xae,BackdropProps:p,className:m,closeAfterTransition:v=!1,children:x,container:_,component:b,components:y={},componentsProps:S={},disableAutoFocus:M=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:P=!1,disablePortal:A=!1,disableRestoreFocus:R=!1,disableScrollLock:U=!1,hideBackdrop:O=!1,keepMounted:N=!1,onBackdropClick:B,open:Y,slotProps:J,slots:G}=c,ne=ht(c,Wae),ie=j({},c,{closeAfterTransition:v,disableAutoFocus:M,disableEnforceFocus:C,disableEscapeKeyDown:P,disablePortal:A,disableRestoreFocus:R,disableScrollLock:U,hideBackdrop:O,keepMounted:N}),{getRootProps:se,getBackdropProps:H,getTransitionProps:q,portalRef:te,isTopModal:Q,exited:ae,hasTransition:xe}=Hie(j({},ie,{rootRef:n})),we=j({},ie,{exited:ae}),Te=Gae(we),Ve={};if(x.props.tabIndex===void 0&&(Ve.tabIndex="-1"),xe){const{onEnter:Ae,onExited:ge}=q();Ve.onEnter=Ae,Ve.onExited=ge}const Ye=(r=(i=G==null?void 0:G.root)!=null?i:y.Root)!=null?r:jae,et=(o=(a=G==null?void 0:G.backdrop)!=null?a:y.Backdrop)!=null?o:f,ct=(s=J==null?void 0:J.root)!=null?s:S.root,Lt=(l=J==null?void 0:J.backdrop)!=null?l:S.backdrop,$e=Xh({elementType:Ye,externalSlotProps:ct,externalForwardedProps:ne,getSlotProps:se,additionalProps:{ref:n,as:b},ownerState:we,className:gt(m,ct==null?void 0:ct.className,Te==null?void 0:Te.root,!we.open&&we.exited&&(Te==null?void 0:Te.hidden))}),oe=Xh({elementType:et,externalSlotProps:Lt,additionalProps:p,getSlotProps:Ae=>H(j({},Ae,{onClick:ge=>{B&&B(ge),Ae!=null&&Ae.onClick&&Ae.onClick(ge)}})),className:gt(Lt==null?void 0:Lt.className,p==null?void 0:p.className,Te==null?void 0:Te.backdrop),ownerState:we});return!N&&!Y&&(!xe||ae)?null:k.jsx(r$,{ref:te,container:_,disablePortal:A,children:k.jsxs(Ye,j({},$e,{children:[!O&&f?k.jsx(et,j({},oe)):null,k.jsx(vre,{disableEnforceFocus:C,disableAutoFocus:M,disableRestoreFocus:R,isEnabled:Q,open:Y,children:F.cloneElement(x,Ve)})]}))})}),u$=qae;function Yae(t){return tn("MuiDivider",t)}const Kae=Zt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),V5=Kae,Zae=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Qae=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:a,textAlign:s,variant:l}=t;return an({root:["root",e&&"absolute",l,o&&"light",a==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",s==="right"&&a!=="vertical"&&"textAlignRight",s==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},Yae,r)},Jae=st("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>j({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Ln(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>j({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>j({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>j({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>j({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),ese=st("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>j({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),f$=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:a,component:s=o?"div":"hr",flexItem:l=!1,light:c=!1,orientation:f="horizontal",role:p=s!=="hr"?"separator":void 0,textAlign:m="center",variant:v="fullWidth"}=r,x=ht(r,Zae),_=j({},r,{absolute:i,component:s,flexItem:l,light:c,orientation:f,role:p,textAlign:m,variant:v}),b=Qae(_);return k.jsx(Jae,j({as:s,className:gt(b.root,a),role:p,ref:n,ownerState:_},x,{children:o?k.jsx(ese,{className:b.wrapper,ownerState:_,children:o}):null}))});f$.muiSkipListHighlight=!0;const Pg=f$,tse=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function nse(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=xc(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const c=o.getComputedStyle(e);a=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let s=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const c=a.split("(")[1].split(")")[0].split(",");s=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+s-r.left}px)`:`translateX(${o.innerWidth+s-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-s}px)`:`translateX(-${r.left+r.width-s}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${o.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function rse(t){return typeof t=="function"?t():t}function f_(t,e,n){const r=rse(n),i=nse(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const ise=F.forwardRef(function(e,n){const r=ix(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:s=!0,children:l,container:c,direction:f="down",easing:p=i,in:m,onEnter:v,onEntered:x,onEntering:_,onExit:b,onExited:y,onExiting:S,style:M,timeout:C=o,TransitionComponent:P=xI}=e,A=ht(e,tse),R=F.useRef(null),U=Ur(l.ref,R,n),O=H=>q=>{H&&(q===void 0?H(R.current):H(R.current,q))},N=O((H,q)=>{f_(f,H,c),wI(H),v&&v(H,q)}),B=O((H,q)=>{const te=qg({timeout:C,style:M,easing:p},{mode:"enter"});H.style.webkitTransition=r.transitions.create("-webkit-transform",j({},te)),H.style.transition=r.transitions.create("transform",j({},te)),H.style.webkitTransform="none",H.style.transform="none",_&&_(H,q)}),Y=O(x),J=O(S),G=O(H=>{const q=qg({timeout:C,style:M,easing:p},{mode:"exit"});H.style.webkitTransition=r.transitions.create("-webkit-transform",q),H.style.transition=r.transitions.create("transform",q),f_(f,H,c),b&&b(H)}),ne=O(H=>{H.style.webkitTransition="",H.style.transition="",y&&y(H)}),ie=H=>{a&&a(R.current,H)},se=F.useCallback(()=>{R.current&&f_(f,R.current,c)},[f,c]);return F.useEffect(()=>{if(m||f==="down"||f==="right")return;const H=BM(()=>{R.current&&f_(f,R.current,c)}),q=xc(R.current);return q.addEventListener("resize",H),()=>{H.clear(),q.removeEventListener("resize",H)}},[f,m,c]),F.useEffect(()=>{m||se()},[m,se]),k.jsx(P,j({nodeRef:R,onEnter:N,onEntered:Y,onEntering:B,onExit:G,onExited:ne,onExiting:J,addEndListener:ie,appear:s,in:m,timeout:C},A,{children:(H,q)=>F.cloneElement(l,j({ref:U,style:j({visibility:H==="exited"&&!m?"hidden":void 0},M,l.props.style)},q))}))}),ose=ise;function ase(t){return tn("MuiDrawer",t)}Zt("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const sse=["BackdropProps"],lse=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],d$=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},cse=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Qe(n)}`,r!=="temporary"&&`paperAnchorDocked${Qe(n)}`]};return an(i,ase,e)},use=st(u$,{name:"MuiDrawer",slot:"Root",overridesResolver:d$})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),W5=st("div",{shouldForwardProp:ao,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:d$})({flex:"0 0 auto"}),fse=st(ip,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${Qe(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${Qe(n.anchor)}`]]}})(({theme:t,ownerState:e})=>j({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),h$={left:"right",right:"left",top:"down",bottom:"up"};function dse(t){return["left","right"].indexOf(t)!==-1}function hse(t,e){return t.direction==="rtl"&&dse(e)?h$[e]:e}const pse=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiDrawer"}),i=ix(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:s,children:l,className:c,elevation:f=16,hideBackdrop:p=!1,ModalProps:{BackdropProps:m}={},onClose:v,open:x=!1,PaperProps:_={},SlideProps:b,TransitionComponent:y=ose,transitionDuration:S=o,variant:M="temporary"}=r,C=ht(r.ModalProps,sse),P=ht(r,lse),A=F.useRef(!1);F.useEffect(()=>{A.current=!0},[]);const R=hse(i,a),O=j({},r,{anchor:a,elevation:f,open:x,variant:M},P),N=cse(O),B=k.jsx(fse,j({elevation:M==="temporary"?f:0,square:!0},_,{className:gt(N.paper,_.className),ownerState:O,children:l}));if(M==="permanent")return k.jsx(W5,j({className:gt(N.root,N.docked,c),ownerState:O,ref:n},P,{children:B}));const Y=k.jsx(y,j({in:x,direction:h$[R],timeout:S,appear:A.current},b,{children:B}));return M==="persistent"?k.jsx(W5,j({className:gt(N.root,N.docked,c),ownerState:O,ref:n},P,{children:Y})):k.jsx(use,j({BackdropProps:j({},s,m,{transitionDuration:S}),className:gt(N.root,N.modal,c),open:x,ownerState:O,onClose:v,hideBackdrop:p,ref:n},P,C,{children:Y}))}),mse=pse,gse=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],vse=t=>{const{classes:e,disableUnderline:n}=t,i=an({root:["root",!n&&"underline"],input:["input"]},Coe,e);return j({},e,i)},yse=st(yE,{shouldForwardProp:t=>ao(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...gE(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return j({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${Xa.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${Xa.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xa.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xa.disabled}, .${Xa.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Xa.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&j({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),xse=st(xE,{name:"MuiFilledInput",slot:"Input",overridesResolver:vE})(({theme:t,ownerState:e})=>j({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),p$=F.forwardRef(function(e,n){var r,i,o,a;const s=ln({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:f=!1,inputComponent:p="input",multiline:m=!1,slotProps:v,slots:x={},type:_="text"}=s,b=ht(s,gse),y=j({},s,{fullWidth:f,inputComponent:p,multiline:m,type:_}),S=vse(s),M={root:{ownerState:y},input:{ownerState:y}},C=v??c?So(v??c,M):M,P=(r=(i=x.root)!=null?i:l.Root)!=null?r:yse,A=(o=(a=x.input)!=null?a:l.Input)!=null?o:xse;return k.jsx(II,j({slots:{root:P,input:A},componentsProps:C,fullWidth:f,inputComponent:p,multiline:m,ref:n,type:_},b,{classes:S}))});p$.muiName="Input";const m$=p$;function bse(t){return tn("MuiFormControl",t)}Zt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _se=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],wse=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Qe(n)}`,r&&"fullWidth"]};return an(i,bse,e)},Sse=st("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>j({},e.root,e[`margin${Qe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>j({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Mse=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,error:c=!1,focused:f,fullWidth:p=!1,hiddenLabel:m=!1,margin:v="none",required:x=!1,size:_="medium",variant:b="outlined"}=r,y=ht(r,_se),S=j({},r,{color:a,component:s,disabled:l,error:c,fullWidth:p,hiddenLabel:m,margin:v,required:x,size:_,variant:b}),M=wse(S),[C,P]=F.useState(()=>{let J=!1;return i&&F.Children.forEach(i,G=>{if(!Ey(G,["Input","Select"]))return;const ne=Ey(G,["Select"])?G.props.input:G;ne&&moe(ne.props)&&(J=!0)}),J}),[A,R]=F.useState(()=>{let J=!1;return i&&F.Children.forEach(i,G=>{Ey(G,["Input","Select"])&&(LS(G.props,!0)||LS(G.props.inputProps,!0))&&(J=!0)}),J}),[U,O]=F.useState(!1);l&&U&&O(!1);const N=f!==void 0&&!l?f:U;let B;const Y=F.useMemo(()=>({adornedStart:C,setAdornedStart:P,color:a,disabled:l,error:c,filled:A,focused:N,fullWidth:p,hiddenLabel:m,size:_,onBlur:()=>{O(!1)},onEmpty:()=>{R(!1)},onFilled:()=>{R(!0)},onFocus:()=>{O(!0)},registerEffect:B,required:x,variant:b}),[C,a,l,c,A,N,p,m,B,x,_,b]);return k.jsx(PI.Provider,{value:Y,children:k.jsx(Sse,j({as:s,ownerState:S,className:gt(M.root,o),ref:n},y,{children:i}))})}),$s=Mse,Ese=WB({createStyledComponent:st("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>ln({props:t,name:"MuiStack"})}),qn=Ese;function Cse(t){return tn("MuiFormControlLabel",t)}const Tse=Zt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),ly=Tse,Ase=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Rse=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,a={root:["root",n&&"disabled",`labelPlacement${Qe(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return an(a,Cse,e)},Pse=st("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ly.label}`]:e.label},e.root,e[`labelPlacement${Qe(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>j({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ly.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${ly.label}`]:{[`&.${ly.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),Ise=st("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${ly.error}`]:{color:(t.vars||t).palette.error.main}})),Lse=F.forwardRef(function(e,n){var r,i;const o=ln({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:s={},control:l,disabled:c,disableTypography:f,label:p,labelPlacement:m="end",required:v,slotProps:x={}}=o,_=ht(o,Ase),b=Lu(),y=(r=c??l.props.disabled)!=null?r:b==null?void 0:b.disabled,S=v??l.props.required,M={disabled:y,required:S};["checked","name","onChange","value","inputRef"].forEach(O=>{typeof l.props[O]>"u"&&typeof o[O]<"u"&&(M[O]=o[O])});const C=ld({props:o,muiFormControl:b,states:["error"]}),P=j({},o,{disabled:y,labelPlacement:m,required:S,error:C.error}),A=Rse(P),R=(i=x.typography)!=null?i:s.typography;let U=p;return U!=null&&U.type!==An&&!f&&(U=k.jsx(An,j({component:"span"},R,{className:gt(A.label,R==null?void 0:R.className),children:U}))),k.jsxs(Pse,j({className:gt(A.root,a),ownerState:P,ref:n},_,{children:[F.cloneElement(l,M),S?k.jsxs(qn,{direction:"row",alignItems:"center",children:[U,k.jsxs(Ise,{ownerState:P,"aria-hidden":!0,className:A.asterisk,children:["","*"]})]}):U]}))}),Os=Lse;function Ose(t){return tn("MuiFormGroup",t)}Zt("MuiFormGroup",["root","row","error"]);const kse=["className","row"],Nse=t=>{const{classes:e,row:n,error:r}=t;return an({root:["root",n&&"row",r&&"error"]},Ose,e)},Dse=st("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})(({ownerState:t})=>j({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),Fse=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiFormGroup"}),{className:i,row:o=!1}=r,a=ht(r,kse),s=Lu(),l=ld({props:r,muiFormControl:s,states:["error"]}),c=j({},r,{row:o,error:l.error}),f=Nse(c);return k.jsx(Dse,j({className:gt(f.root,i),ownerState:c,ref:n},a))}),g$=Fse;function Use(t){return tn("MuiFormHelperText",t)}const zse=Zt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),G5=zse;var j5;const Bse=["children","className","component","disabled","error","filled","focused","margin","required","variant"],$se=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${Qe(r)}`,n&&"contained",s&&"focused",a&&"filled",l&&"required"]};return an(c,Use,e)},Hse=st("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Qe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>j({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${G5.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${G5.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Vse=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:a="p"}=r,s=ht(r,Bse),l=Lu(),c=ld({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),f=j({},r,{component:a,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=$se(f);return k.jsx(Hse,j({as:a,ownerState:f,className:gt(p.root,o),ref:n},s,{children:i===" "?j5||(j5=k.jsx("span",{className:"notranslate",children:""})):i}))}),Wse=Vse;function Gse(t){return tn("MuiFormLabel",t)}const jse=Zt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Iy=jse,Xse=["children","className","color","component","disabled","error","filled","focused","required"],qse=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=t,l={root:["root",`color${Qe(n)}`,i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return an(l,Gse,e)},Yse=st("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>j({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>j({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Iy.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Iy.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Iy.error}`]:{color:(t.vars||t).palette.error.main}})),Kse=st("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Iy.error}`]:{color:(t.vars||t).palette.error.main}})),Zse=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:a="label"}=r,s=ht(r,Xse),l=Lu(),c=ld({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),f=j({},r,{color:c.color||"primary",component:a,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=qse(f);return k.jsxs(Yse,j({as:a,ownerState:f,className:gt(p.root,o),ref:n},s,{children:[i,c.required&&k.jsxs(Kse,{ownerState:f,"aria-hidden":!0,className:p.asterisk,children:["","*"]})]}))}),LI=Zse,Qse=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function AR(t){return`scale(${t}, ${t**2})`}const Jse={entering:{opacity:1,transform:AR(1)},entered:{opacity:1,transform:"none"}},XC=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),v$=F.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:a,in:s,onEnter:l,onEntered:c,onEntering:f,onExit:p,onExited:m,onExiting:v,style:x,timeout:_="auto",TransitionComponent:b=xI}=e,y=ht(e,Qse),S=F.useRef(),M=F.useRef(),C=ix(),P=F.useRef(null),A=Ur(P,o.ref,n),R=ne=>ie=>{if(ne){const se=P.current;ie===void 0?ne(se):ne(se,ie)}},U=R(f),O=R((ne,ie)=>{wI(ne);const{duration:se,delay:H,easing:q}=qg({style:x,timeout:_,easing:a},{mode:"enter"});let te;_==="auto"?(te=C.transitions.getAutoHeightDuration(ne.clientHeight),M.current=te):te=se,ne.style.transition=[C.transitions.create("opacity",{duration:te,delay:H}),C.transitions.create("transform",{duration:XC?te:te*.666,delay:H,easing:q})].join(","),l&&l(ne,ie)}),N=R(c),B=R(v),Y=R(ne=>{const{duration:ie,delay:se,easing:H}=qg({style:x,timeout:_,easing:a},{mode:"exit"});let q;_==="auto"?(q=C.transitions.getAutoHeightDuration(ne.clientHeight),M.current=q):q=ie,ne.style.transition=[C.transitions.create("opacity",{duration:q,delay:se}),C.transitions.create("transform",{duration:XC?q:q*.666,delay:XC?se:se||q*.333,easing:H})].join(","),ne.style.opacity=0,ne.style.transform=AR(.75),p&&p(ne)}),J=R(m),G=ne=>{_==="auto"&&(S.current=setTimeout(ne,M.current||0)),r&&r(P.current,ne)};return F.useEffect(()=>()=>{clearTimeout(S.current)},[]),k.jsx(b,j({appear:i,in:s,nodeRef:P,onEnter:O,onEntered:N,onEntering:U,onExit:Y,onExited:J,onExiting:B,addEndListener:G,timeout:_==="auto"?null:_},y,{children:(ne,ie)=>F.cloneElement(o,j({style:j({opacity:0,transform:AR(.75),visibility:ne==="exited"&&!s?"hidden":void 0},Jse[ne],x,o.props.style),ref:A},ie))}))});v$.muiSupportAuto=!0;const ele=v$,tle=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],nle=t=>{const{classes:e,disableUnderline:n}=t,i=an({root:["root",!n&&"underline"],input:["input"]},woe,e);return j({},e,i)},rle=st(yE,{shouldForwardProp:t=>ao(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...gE(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),j({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Af.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Af.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Af.disabled}, .${Af.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Af.disabled}:before`]:{borderBottomStyle:"dotted"}})}),ile=st(xE,{name:"MuiInput",slot:"Input",overridesResolver:vE})({}),y$=F.forwardRef(function(e,n){var r,i,o,a;const s=ln({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:f,fullWidth:p=!1,inputComponent:m="input",multiline:v=!1,slotProps:x,slots:_={},type:b="text"}=s,y=ht(s,tle),S=nle(s),C={root:{ownerState:{disableUnderline:l}}},P=x??f?So(x??f,C):C,A=(r=(i=_.root)!=null?i:c.Root)!=null?r:rle,R=(o=(a=_.input)!=null?a:c.Input)!=null?o:ile;return k.jsx(II,j({slots:{root:A,input:R},slotProps:P,fullWidth:p,inputComponent:m,multiline:v,ref:n,type:b},y,{classes:S}))});y$.muiName="Input";const x$=y$;function ole(t){return tn("MuiInputLabel",t)}Zt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ale=["disableAnimation","margin","shrink","variant","className"],sle=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Qe(r)}`,a],asterisk:[s&&"asterisk"]},c=an(l,ole,e);return j({},e,c)},lle=st(LI,{shouldForwardProp:t=>ao(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Iy.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>j({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&j({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&j({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&j({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),cle=F.forwardRef(function(e,n){const r=ln({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:a}=r,s=ht(r,ale),l=Lu();let c=o;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const f=ld({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),p=j({},r,{disableAnimation:i,formControl:l,shrink:c,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=sle(p);return k.jsx(lle,j({"data-shrink":c,ownerState:p,ref:n,className:gt(m.root,a)},s,{classes:m}))}),dc=cle,ule=F.createContext({}),Ph=ule;function fle(t){return tn("MuiList",t)}Zt("MuiList",["root","padding","dense","subheader"]);const dle=["children","className","component","dense","disablePadding","subheader"],hle=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return an({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},fle,e)},ple=st("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>j({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),mle=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:c}=r,f=ht(r,dle),p=F.useMemo(()=>({dense:s}),[s]),m=j({},r,{component:a,dense:s,disablePadding:l}),v=hle(m);return k.jsx(Ph.Provider,{value:p,children:k.jsxs(ple,j({as:a,className:gt(v.root,o),ref:n,ownerState:m},f,{children:[c,i]}))})}),b$=mle;function gle(t){return tn("MuiListItem",t)}const vle=Zt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Fm=vle,yle=Zt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),xle=yle;function ble(t){return tn("MuiListItemSecondaryAction",t)}Zt("MuiListItemSecondaryAction",["root","disableGutters"]);const _le=["className"],wle=t=>{const{disableGutters:e,classes:n}=t;return an({root:["root",e&&"disableGutters"]},ble,n)},Sle=st("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>j({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),_$=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=ht(r,_le),a=F.useContext(Ph),s=j({},r,{disableGutters:a.disableGutters}),l=wle(s);return k.jsx(Sle,j({className:gt(l.root,i),ownerState:s,ref:n},o))});_$.muiName="ListItemSecondaryAction";const Mle=_$,Ele=["className"],Cle=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Tle=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},Ale=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:o,disableGutters:a,disablePadding:s,divider:l,hasSecondaryAction:c,selected:f}=t;return an({root:["root",i&&"dense",!a&&"gutters",!s&&"padding",l&&"divider",o&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",f&&"selected"],container:["container"]},gle,r)},Rle=st("div",{name:"MuiListItem",slot:"Root",overridesResolver:Tle})(({theme:t,ownerState:e})=>j({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&j({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${xle.root}`]:{paddingRight:48}},{[`&.${Fm.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Fm.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Fm.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Fm.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fm.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),Ple=st("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Ile=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:a=!1,children:s,className:l,component:c,components:f={},componentsProps:p={},ContainerComponent:m="li",ContainerProps:{className:v}={},dense:x=!1,disabled:_=!1,disableGutters:b=!1,disablePadding:y=!1,divider:S=!1,focusVisibleClassName:M,secondaryAction:C,selected:P=!1,slotProps:A={},slots:R={}}=r,U=ht(r.ContainerProps,Ele),O=ht(r,Cle),N=F.useContext(Ph),B=F.useMemo(()=>({dense:x||N.dense||!1,alignItems:i,disableGutters:b}),[i,N.dense,x,b]),Y=F.useRef(null);Ws(()=>{o&&Y.current&&Y.current.focus()},[o]);const J=F.Children.toArray(s),G=J.length&&Ey(J[J.length-1],["ListItemSecondaryAction"]),ne=j({},r,{alignItems:i,autoFocus:o,button:a,dense:B.dense,disabled:_,disableGutters:b,disablePadding:y,divider:S,hasSecondaryAction:G,selected:P}),ie=Ale(ne),se=Ur(Y,n),H=R.root||f.Root||Rle,q=A.root||p.root||{},te=j({className:gt(ie.root,q.className,l),disabled:_},O);let Q=c||"li";return a&&(te.component=c||"div",te.focusVisibleClassName=gt(Fm.focusVisible,M),Q=jh),G?(Q=!te.component&&!c?"div":Q,m==="li"&&(Q==="li"?Q="div":te.component==="li"&&(te.component="div")),k.jsx(Ph.Provider,{value:B,children:k.jsxs(Ple,j({as:m,className:gt(ie.container,v),ref:se,ownerState:ne},U,{children:[k.jsx(H,j({},q,!Yg(H)&&{as:Q,ownerState:j({},ne,q.ownerState)},te,{children:J})),J.pop()]}))})):k.jsx(Ph.Provider,{value:B,children:k.jsxs(H,j({},q,{as:Q,ref:se},!Yg(H)&&{ownerState:j({},ne,q.ownerState)},te,{children:[J,C&&k.jsx(Mle,{children:C})]}))})}),Lle=Ile,Ole=Zt("MuiListItemIcon",["root","alignItemsFlexStart"]),X5=Ole,kle=Zt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),q5=kle,Nle=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function qC(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function Y5(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function w$(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Ov(t,e,n,r,i,o){let a=!1,s=i(t,e,e?n:!1);for(;s;){if(s===t.firstChild){if(a)return!1;a=!0}const l=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!w$(s,o)||l)s=i(t,s,n);else return s.focus(),!0}return!1}const Dle=F.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:f,variant:p="selectedMenu"}=e,m=ht(e,Nle),v=F.useRef(null),x=F.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ws(()=>{i&&v.current.focus()},[i]),F.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(M,C)=>{const P=!v.current.style.width;if(M.clientHeight<v.current.clientHeight&&P){const A=`${hB(Mo(M))}px`;v.current.style[C.direction==="rtl"?"paddingLeft":"paddingRight"]=A,v.current.style.width=`calc(100% + ${A})`}return v.current}}),[]);const _=M=>{const C=v.current,P=M.key,A=Mo(C).activeElement;if(P==="ArrowDown")M.preventDefault(),Ov(C,A,c,l,qC);else if(P==="ArrowUp")M.preventDefault(),Ov(C,A,c,l,Y5);else if(P==="Home")M.preventDefault(),Ov(C,null,c,l,qC);else if(P==="End")M.preventDefault(),Ov(C,null,c,l,Y5);else if(P.length===1){const R=x.current,U=P.toLowerCase(),O=performance.now();R.keys.length>0&&(O-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&U!==R.keys[0]&&(R.repeating=!1)),R.lastTime=O,R.keys.push(U);const N=A&&!R.repeating&&w$(A,R);R.previousKeyMatched&&(N||Ov(C,A,!1,l,qC,R))?M.preventDefault():R.previousKeyMatched=!1}f&&f(M)},b=Ur(v,n);let y=-1;F.Children.forEach(a,(M,C)=>{if(!F.isValidElement(M)){y===C&&(y+=1,y>=a.length&&(y=-1));return}M.props.disabled||(p==="selectedMenu"&&M.props.selected||y===-1)&&(y=C),y===C&&(M.props.disabled||M.props.muiSkipListHighlight||M.type.muiSkipListHighlight)&&(y+=1,y>=a.length&&(y=-1))});const S=F.Children.map(a,(M,C)=>{if(C===y){const P={};return o&&(P.autoFocus=!0),M.props.tabIndex===void 0&&p==="selectedMenu"&&(P.tabIndex=0),F.cloneElement(M,P)}return M});return k.jsx(b$,j({role:"menu",ref:b,className:s,onKeyDown:_,tabIndex:i?0:-1},m,{children:S}))}),Fle=Dle;function Ule(t){return tn("MuiPopover",t)}Zt("MuiPopover",["root","paper"]);const zle=["onEntering"],Ble=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],$le=["slotProps"];function K5(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function Z5(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Q5(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function YC(t){return typeof t=="function"?t():t}const Hle=t=>{const{classes:e}=t;return an({root:["root"],paper:["paper"]},Ule,e)},Vle=st(u$,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),S$=st(ip,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Wle=F.forwardRef(function(e,n){var r,i,o;const a=ln({props:e,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:p="anchorEl",children:m,className:v,container:x,elevation:_=8,marginThreshold:b=16,open:y,PaperProps:S={},slots:M,slotProps:C,transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:A=ele,transitionDuration:R="auto",TransitionProps:{onEntering:U}={},disableScrollLock:O=!1}=a,N=ht(a.TransitionProps,zle),B=ht(a,Ble),Y=(r=C==null?void 0:C.paper)!=null?r:S,J=F.useRef(),G=Ur(J,Y.ref),ne=j({},a,{anchorOrigin:c,anchorReference:p,elevation:_,marginThreshold:b,externalPaperSlotProps:Y,transformOrigin:P,TransitionComponent:A,transitionDuration:R,TransitionProps:N}),ie=Hle(ne),se=F.useCallback(()=>{if(p==="anchorPosition")return f;const Ae=YC(l),ve=(Ae&&Ae.nodeType===1?Ae:Mo(J.current).body).getBoundingClientRect();return{top:ve.top+K5(ve,c.vertical),left:ve.left+Z5(ve,c.horizontal)}},[l,c.horizontal,c.vertical,f,p]),H=F.useCallback(Ae=>({vertical:K5(Ae,P.vertical),horizontal:Z5(Ae,P.horizontal)}),[P.horizontal,P.vertical]),q=F.useCallback(Ae=>{const ge={width:Ae.offsetWidth,height:Ae.offsetHeight},ve=H(ge);if(p==="none")return{top:null,left:null,transformOrigin:Q5(ve)};const Ue=se();let We=Ue.top-ve.vertical,Je=Ue.left-ve.horizontal;const ot=We+ge.height,ft=Je+ge.width,lt=xc(YC(l)),Ht=lt.innerHeight-b,ee=lt.innerWidth-b;if(b!==null&&We<b){const $=We-b;We-=$,ve.vertical+=$}else if(b!==null&&ot>Ht){const $=ot-Ht;We-=$,ve.vertical+=$}if(b!==null&&Je<b){const $=Je-b;Je-=$,ve.horizontal+=$}else if(ft>ee){const $=ft-ee;Je-=$,ve.horizontal+=$}return{top:`${Math.round(We)}px`,left:`${Math.round(Je)}px`,transformOrigin:Q5(ve)}},[l,p,se,H,b]),[te,Q]=F.useState(y),ae=F.useCallback(()=>{const Ae=J.current;if(!Ae)return;const ge=q(Ae);ge.top!==null&&(Ae.style.top=ge.top),ge.left!==null&&(Ae.style.left=ge.left),Ae.style.transformOrigin=ge.transformOrigin,Q(!0)},[q]);F.useEffect(()=>(O&&window.addEventListener("scroll",ae),()=>window.removeEventListener("scroll",ae)),[l,O,ae]);const xe=(Ae,ge)=>{U&&U(Ae,ge),ae()},we=()=>{Q(!1)};F.useEffect(()=>{y&&ae()}),F.useImperativeHandle(s,()=>y?{updatePosition:()=>{ae()}}:null,[y,ae]),F.useEffect(()=>{if(!y)return;const Ae=BM(()=>{ae()}),ge=xc(l);return ge.addEventListener("resize",Ae),()=>{Ae.clear(),ge.removeEventListener("resize",Ae)}},[l,y,ae]);let Te=R;R==="auto"&&!A.muiSupportAuto&&(Te=void 0);const Ve=x||(l?Mo(YC(l)).body:void 0),Ye=(i=M==null?void 0:M.root)!=null?i:Vle,et=(o=M==null?void 0:M.paper)!=null?o:S$,ct=Xh({elementType:et,externalSlotProps:j({},Y,{style:te?Y.style:j({},Y.style,{opacity:0})}),additionalProps:{elevation:_,ref:G},ownerState:ne,className:gt(ie.paper,Y==null?void 0:Y.className)}),Lt=Xh({elementType:Ye,externalSlotProps:(C==null?void 0:C.root)||{},externalForwardedProps:B,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Ve,open:y},ownerState:ne,className:gt(ie.root,v)}),{slotProps:$e}=Lt,oe=ht(Lt,$le);return k.jsx(Ye,j({},oe,!Yg(Ye)&&{slotProps:$e,disableScrollLock:O},{children:k.jsx(A,j({appear:!0,in:y,onEntering:xe,onExited:we,timeout:Te},N,{children:k.jsx(et,j({},ct,{children:m}))}))}))}),M$=Wle;function Gle(t){return tn("MuiMenu",t)}Zt("MuiMenu",["root","paper","list"]);const jle=["onEntering"],Xle=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],qle={vertical:"top",horizontal:"right"},Yle={vertical:"top",horizontal:"left"},Kle=t=>{const{classes:e}=t;return an({root:["root"],paper:["paper"],list:["list"]},Gle,e)},Zle=st(M$,{shouldForwardProp:t=>ao(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Qle=st(S$,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Jle=st(Fle,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),ece=F.forwardRef(function(e,n){var r,i;const o=ln({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:l,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:p,open:m,PaperProps:v={},PopoverClasses:x,transitionDuration:_="auto",TransitionProps:{onEntering:b}={},variant:y="selectedMenu",slots:S={},slotProps:M={}}=o,C=ht(o.TransitionProps,jle),P=ht(o,Xle),A=ix(),R=A.direction==="rtl",U=j({},o,{autoFocus:a,disableAutoFocusItem:c,MenuListProps:f,onEntering:b,PaperProps:v,transitionDuration:_,TransitionProps:C,variant:y}),O=Kle(U),N=a&&!c&&m,B=F.useRef(null),Y=(q,te)=>{B.current&&B.current.adjustStyleForScrollbar(q,A),b&&b(q,te)},J=q=>{q.key==="Tab"&&(q.preventDefault(),p&&p(q,"tabKeyDown"))};let G=-1;F.Children.map(s,(q,te)=>{F.isValidElement(q)&&(q.props.disabled||(y==="selectedMenu"&&q.props.selected||G===-1)&&(G=te))});const ne=(r=S.paper)!=null?r:Qle,ie=(i=M.paper)!=null?i:v,se=Xh({elementType:S.root,externalSlotProps:M.root,ownerState:U,className:[O.root,l]}),H=Xh({elementType:ne,externalSlotProps:ie,ownerState:U,className:O.paper});return k.jsx(Zle,j({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?qle:Yle,slots:{paper:ne,root:S.root},slotProps:{root:se,paper:H},open:m,ref:n,transitionDuration:_,TransitionProps:j({onEntering:Y},C),ownerState:U},P,{classes:x,children:k.jsx(Jle,j({onKeyDown:J,actions:B,autoFocus:a&&(G===-1||c),autoFocusItem:N,variant:y},f,{className:gt(O.list,f.className),children:s}))}))}),tce=ece;function nce(t){return tn("MuiMenuItem",t)}const rce=Zt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),kv=rce,ice=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],oce=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},ace=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:a}=t,l=an({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},nce,a);return j({},a,l)},sce=st(jh,{shouldForwardProp:t=>ao(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:oce})(({theme:t,ownerState:e})=>j({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${kv.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${kv.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${kv.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${kv.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${kv.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${V5.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${V5.inset}`]:{marginLeft:52},[`& .${q5.root}`]:{marginTop:0,marginBottom:0},[`& .${q5.inset}`]:{paddingLeft:36},[`& .${X5.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&j({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${X5.root} svg`]:{fontSize:"1.25rem"}}))),lce=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:a=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:f="menuitem",tabIndex:p,className:m}=r,v=ht(r,ice),x=F.useContext(Ph),_=F.useMemo(()=>({dense:a||x.dense||!1,disableGutters:l}),[x.dense,a,l]),b=F.useRef(null);Ws(()=>{i&&b.current&&b.current.focus()},[i]);const y=j({},r,{dense:_.dense,divider:s,disableGutters:l}),S=ace(r),M=Ur(b,n);let C;return r.disabled||(C=p!==void 0?p:-1),k.jsx(Ph.Provider,{value:_,children:k.jsx(sce,j({ref:M,role:f,tabIndex:C,component:o,focusVisibleClassName:gt(S.focusVisible,c),className:gt(S.root,m)},v,{ownerState:y,classes:S}))})}),$i=lce;function cce(t){return tn("MuiNativeSelect",t)}const uce=Zt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),OI=uce,fce=["className","disabled","error","IconComponent","inputRef","variant"],dce=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:a}=t,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Qe(n)}`,o&&"iconOpen",r&&"disabled"]};return an(s,cce,e)},E$=({ownerState:t,theme:e})=>j({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":j({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${OI.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),hce=st("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ao,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${OI.multiple}`]:e.multiple}]}})(E$),C$=({ownerState:t,theme:e})=>j({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${OI.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),pce=st("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Qe(n.variant)}`],n.open&&e.iconOpen]}})(C$),mce=F.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:a,inputRef:s,variant:l="standard"}=e,c=ht(e,fce),f=j({},e,{disabled:i,variant:l,error:o}),p=dce(f);return k.jsxs(F.Fragment,{children:[k.jsx(hce,j({ownerState:f,className:gt(p.select,r),disabled:i,ref:s||n},c)),e.multiple?null:k.jsx(pce,{as:a,ownerState:f,className:p.icon})]})}),gce=mce;var J5;const vce=["children","classes","className","label","notched"],yce=st("fieldset",{shouldForwardProp:ao})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),xce=st("legend",{shouldForwardProp:ao})(({ownerState:t,theme:e})=>j({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&j({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function bce(t){const{className:e,label:n,notched:r}=t,i=ht(t,vce),o=n!=null&&n!=="",a=j({},t,{notched:r,withLabel:o});return k.jsx(yce,j({"aria-hidden":!0,className:e,ownerState:a},i,{children:k.jsx(xce,{ownerState:a,children:o?k.jsx("span",{children:n}):J5||(J5=k.jsx("span",{className:"notranslate",children:""}))})}))}const _ce=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],wce=t=>{const{classes:e}=t,r=an({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Moe,e);return j({},e,r)},Sce=st(yE,{shouldForwardProp:t=>ao(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:gE})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return j({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ec.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ec.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ec.focused} .${ec.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${ec.error} .${ec.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ec.disabled} .${ec.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&j({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Mce=st(bce,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Ece=st(xE,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:vE})(({theme:t,ownerState:e})=>j({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),T$=F.forwardRef(function(e,n){var r,i,o,a,s;const l=ln({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:f=!1,inputComponent:p="input",label:m,multiline:v=!1,notched:x,slots:_={},type:b="text"}=l,y=ht(l,_ce),S=wce(l),M=Lu(),C=ld({props:l,muiFormControl:M,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),P=j({},l,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:M,fullWidth:f,hiddenLabel:C.hiddenLabel,multiline:v,size:C.size,type:b}),A=(r=(i=_.root)!=null?i:c.Root)!=null?r:Sce,R=(o=(a=_.input)!=null?a:c.Input)!=null?o:Ece;return k.jsx(II,j({slots:{root:A,input:R},renderSuffix:U=>k.jsx(Mce,{ownerState:P,className:S.notchedOutline,label:m!=null&&m!==""&&C.required?s||(s=k.jsxs(F.Fragment,{children:[m,"","*"]})):m,notched:typeof x<"u"?x:!!(U.startAdornment||U.filled||U.focused)}),fullWidth:f,inputComponent:p,multiline:v,ref:n,type:b},y,{classes:j({},S,{notchedOutline:null})}))});T$.muiName="Input";const A$=T$,Cce=Pu(k.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Tce=Pu(k.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Ace=st("span",{shouldForwardProp:ao})({position:"relative",display:"flex"}),Rce=st(Cce)({transform:"scale(1)"}),Pce=st(Tce)(({theme:t,ownerState:e})=>j({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function R$(t){const{checked:e=!1,classes:n={},fontSize:r}=t,i=j({},t,{checked:e});return k.jsxs(Ace,{className:n.root,ownerState:i,children:[k.jsx(Rce,{fontSize:r,className:n.background,ownerState:i}),k.jsx(Pce,{fontSize:r,className:n.dot,ownerState:i})]})}const Ice=F.createContext(void 0),P$=Ice;function Lce(){return F.useContext(P$)}function Oce(t){return tn("MuiRadio",t)}const kce=Zt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),eN=kce,Nce=["checked","checkedIcon","color","icon","name","onChange","size","className"],Dce=t=>{const{classes:e,color:n,size:r}=t,i={root:["root",`color${Qe(n)}`,r!=="medium"&&`size${Qe(r)}`]};return j({},e,an(i,Oce,e))},Fce=st(c$,{shouldForwardProp:t=>ao(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size!=="medium"&&e[`size${Qe(n.size)}`],e[`color${Qe(n.color)}`]]}})(({theme:t,ownerState:e})=>j({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ln(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${eN.checked}`]:{color:(t.vars||t).palette[e.color].main}},{[`&.${eN.disabled}`]:{color:(t.vars||t).palette.action.disabled}}));function Uce(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const tN=k.jsx(R$,{checked:!0}),nN=k.jsx(R$,{}),zce=F.forwardRef(function(e,n){var r,i;const o=ln({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:s=tN,color:l="primary",icon:c=nN,name:f,onChange:p,size:m="medium",className:v}=o,x=ht(o,Nce),_=j({},o,{color:l,size:m}),b=Dce(_),y=Lce();let S=a;const M=ES(p,y&&y.onChange);let C=f;return y&&(typeof S>"u"&&(S=Uce(y.value,o.value)),typeof C>"u"&&(C=y.name)),k.jsx(Fce,j({type:"radio",icon:F.cloneElement(c,{fontSize:(r=nN.props.fontSize)!=null?r:m}),checkedIcon:F.cloneElement(s,{fontSize:(i=tN.props.fontSize)!=null?i:m}),ownerState:_,classes:b,name:C,checked:S,onChange:M,ref:n,className:gt(b.root,v)},x))}),Ig=zce,Bce=["actions","children","defaultValue","name","onChange","value"],$ce=F.forwardRef(function(e,n){const{actions:r,children:i,defaultValue:o,name:a,onChange:s,value:l}=e,c=ht(e,Bce),f=F.useRef(null),[p,m]=Bf({controlled:l,default:o,name:"RadioGroup"});F.useImperativeHandle(r,()=>({focus:()=>{let b=f.current.querySelector("input:not(:disabled):checked");b||(b=f.current.querySelector("input:not(:disabled)")),b&&b.focus()}}),[]);const v=Ur(n,f),x=ex(a),_=F.useMemo(()=>({name:x,onChange(b){m(b.target.value),s&&s(b,b.target.value)},value:p}),[x,s,m,p]);return k.jsx(P$.Provider,{value:_,children:k.jsx(g$,j({role:"radiogroup",ref:v},c,{children:i}))})}),I$=$ce;function Hce(t){return tn("MuiSelect",t)}const Vce=Zt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Nv=Vce;var rN;const Wce=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Gce=st("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Nv.select}`]:e.select},{[`&.${Nv.select}`]:e[n.variant]},{[`&.${Nv.error}`]:e.error},{[`&.${Nv.multiple}`]:e.multiple}]}})(E$,{[`&.${Nv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),jce=st("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Qe(n.variant)}`],n.open&&e.iconOpen]}})(C$),Xce=st("input",{shouldForwardProp:t=>Zte(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function iN(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function qce(t){return t==null||typeof t=="string"&&!t.trim()}const Yce=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:a}=t,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Qe(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return an(s,Hce,e)},Kce=F.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:a,autoWidth:s,children:l,className:c,defaultOpen:f,defaultValue:p,disabled:m,displayEmpty:v,error:x=!1,IconComponent:_,inputRef:b,labelId:y,MenuProps:S={},multiple:M,name:C,onBlur:P,onChange:A,onClose:R,onFocus:U,onOpen:O,open:N,readOnly:B,renderValue:Y,SelectDisplayProps:J={},tabIndex:G,value:ne,variant:ie="standard"}=e,se=ht(e,Wce),[H,q]=Bf({controlled:ne,default:p,name:"Select"}),[te,Q]=Bf({controlled:N,default:f,name:"Select"}),ae=F.useRef(null),xe=F.useRef(null),[we,Te]=F.useState(null),{current:Ve}=F.useRef(N!=null),[Ye,et]=F.useState(),ct=Ur(n,b),Lt=F.useCallback(Ze=>{xe.current=Ze,Ze&&Te(Ze)},[]),$e=we==null?void 0:we.parentNode;F.useImperativeHandle(ct,()=>({focus:()=>{xe.current.focus()},node:ae.current,value:H}),[H]),F.useEffect(()=>{f&&te&&we&&!Ve&&(et(s?null:$e.clientWidth),xe.current.focus())},[we,s]),F.useEffect(()=>{a&&xe.current.focus()},[a]),F.useEffect(()=>{if(!y)return;const Ze=Mo(xe.current).getElementById(y);if(Ze){const Oe=()=>{getSelection().isCollapsed&&xe.current.focus()};return Ze.addEventListener("click",Oe),()=>{Ze.removeEventListener("click",Oe)}}},[y]);const oe=(Ze,Oe)=>{Ze?O&&O(Oe):R&&R(Oe),Ve||(et(s?null:$e.clientWidth),Q(Ze))},Ae=Ze=>{Ze.button===0&&(Ze.preventDefault(),xe.current.focus(),oe(!0,Ze))},ge=Ze=>{oe(!1,Ze)},ve=F.Children.toArray(l),Ue=Ze=>{const Oe=ve.find(Ut=>Ut.props.value===Ze.target.value);Oe!==void 0&&(q(Oe.props.value),A&&A(Ze,Oe))},We=Ze=>Oe=>{let Ut;if(Oe.currentTarget.hasAttribute("tabindex")){if(M){Ut=Array.isArray(H)?H.slice():[];const Et=H.indexOf(Ze.props.value);Et===-1?Ut.push(Ze.props.value):Ut.splice(Et,1)}else Ut=Ze.props.value;if(Ze.props.onClick&&Ze.props.onClick(Oe),H!==Ut&&(q(Ut),A)){const Et=Oe.nativeEvent||Oe,Nt=new Et.constructor(Et.type,Et);Object.defineProperty(Nt,"target",{writable:!0,value:{value:Ut,name:C}}),A(Nt,Ze)}M||oe(!1,Oe)}},Je=Ze=>{B||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ze.key)!==-1&&(Ze.preventDefault(),oe(!0,Ze))},ot=we!==null&&te,ft=Ze=>{!ot&&P&&(Object.defineProperty(Ze,"target",{writable:!0,value:{value:H,name:C}}),P(Ze))};delete se["aria-invalid"];let lt,Ht;const ee=[];let $=!1;(LS({value:H})||v)&&(Y?lt=Y(H):$=!0);const ye=ve.map(Ze=>{if(!F.isValidElement(Ze))return null;let Oe;if(M){if(!Array.isArray(H))throw new Error(Yf(2));Oe=H.some(Ut=>iN(Ut,Ze.props.value)),Oe&&$&&ee.push(Ze.props.children)}else Oe=iN(H,Ze.props.value),Oe&&$&&(Ht=Ze.props.children);return F.cloneElement(Ze,{"aria-selected":Oe?"true":"false",onClick:We(Ze),onKeyUp:Ut=>{Ut.key===" "&&Ut.preventDefault(),Ze.props.onKeyUp&&Ze.props.onKeyUp(Ut)},role:"option",selected:Oe,value:void 0,"data-value":Ze.props.value})});$&&(M?ee.length===0?lt=null:lt=ee.reduce((Ze,Oe,Ut)=>(Ze.push(Oe),Ut<ee.length-1&&Ze.push(", "),Ze),[]):lt=Ht);let Ge=Ye;!s&&Ve&&we&&(Ge=$e.clientWidth);let Le;typeof G<"u"?Le=G:Le=m?null:0;const Me=J.id||(C?`mui-component-select-${C}`:void 0),De=j({},e,{variant:ie,value:H,open:ot,error:x}),je=Yce(De),at=j({},S.PaperProps,(r=S.slotProps)==null?void 0:r.paper),At=ex();return k.jsxs(F.Fragment,{children:[k.jsx(Gce,j({ref:Lt,tabIndex:Le,role:"combobox","aria-controls":At,"aria-disabled":m?"true":void 0,"aria-expanded":ot?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[y,Me].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Je,onMouseDown:m||B?null:Ae,onBlur:ft,onFocus:U},J,{ownerState:De,className:gt(J.className,je.select,c),id:Me,children:qce(lt)?rN||(rN=k.jsx("span",{className:"notranslate",children:""})):lt})),k.jsx(Xce,j({"aria-invalid":x,value:Array.isArray(H)?H.join(","):H,name:C,ref:ae,"aria-hidden":!0,onChange:Ue,tabIndex:-1,disabled:m,className:je.nativeInput,autoFocus:a,ownerState:De},se)),k.jsx(jce,{as:_,className:je.icon,ownerState:De}),k.jsx(tce,j({id:`menu-${C||""}`,anchorEl:$e,open:ot,onClose:ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},S,{MenuListProps:j({"aria-labelledby":y,role:"listbox","aria-multiselectable":M?"true":void 0,disableListWrap:!0,id:At},S.MenuListProps),slotProps:j({},S.slotProps,{paper:j({},at,{style:j({minWidth:Ge},at!=null?at.style:null)})}),children:ye}))]})}),Zce=Kce,Qce=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Jce=["root"],eue=t=>{const{classes:e}=t;return e},kI={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ao(t)&&t!=="variant",slot:"Root"},tue=st(x$,kI)(""),nue=st(A$,kI)(""),rue=st(m$,kI)(""),L$=F.forwardRef(function(e,n){const r=ln({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:f=a$,id:p,input:m,inputProps:v,label:x,labelId:_,MenuProps:b,multiple:y=!1,native:S=!1,onClose:M,onOpen:C,open:P,renderValue:A,SelectDisplayProps:R,variant:U="outlined"}=r,O=ht(r,Qce),N=S?gce:Zce,B=Lu(),Y=ld({props:r,muiFormControl:B,states:["variant","error"]}),J=Y.variant||U,G=j({},r,{variant:J,classes:a}),ne=eue(G),ie=ht(ne,Jce),se=m||{standard:k.jsx(tue,{ownerState:G}),outlined:k.jsx(nue,{label:x,ownerState:G}),filled:k.jsx(rue,{ownerState:G})}[J],H=Ur(n,se.ref);return k.jsx(F.Fragment,{children:F.cloneElement(se,j({inputComponent:N,inputProps:j({children:o,error:Y.error,IconComponent:f,variant:J,type:void 0,multiple:y},S?{id:p}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:_,MenuProps:b,onClose:M,onOpen:C,open:P,renderValue:A,SelectDisplayProps:j({id:p},R)},v,{classes:v?So(ie,v.classes):ie},m?m.props.inputProps:{})},y&&S&&J==="outlined"?{notched:!0}:{},{ref:H,className:gt(se.props.className,s,ne.root)},!m&&{variant:J},O))})});L$.muiName="Select";const hc=L$,iue=F.createContext(),O$=iue;function oue(t){return tn("MuiTable",t)}Zt("MuiTable",["root","stickyHeader"]);const aue=["className","component","padding","size","stickyHeader"],sue=t=>{const{classes:e,stickyHeader:n}=t;return an({root:["root",n&&"stickyHeader"]},oue,e)},lue=st("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>j({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":j({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),oN="table",cue=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiTable"}),{className:i,component:o=oN,padding:a="normal",size:s="medium",stickyHeader:l=!1}=r,c=ht(r,aue),f=j({},r,{component:o,padding:a,size:s,stickyHeader:l}),p=sue(f),m=F.useMemo(()=>({padding:a,size:s,stickyHeader:l}),[a,s,l]);return k.jsx(O$.Provider,{value:m,children:k.jsx(lue,j({as:o,role:o===oN?null:"table",ref:n,className:gt(p.root,i),ownerState:f},c))})}),uue=cue,fue=F.createContext(),wE=fue;function due(t){return tn("MuiTableBody",t)}Zt("MuiTableBody",["root"]);const hue=["className","component"],pue=t=>{const{classes:e}=t;return an({root:["root"]},due,e)},mue=st("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),gue={variant:"body"},aN="tbody",vue=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiTableBody"}),{className:i,component:o=aN}=r,a=ht(r,hue),s=j({},r,{component:o}),l=pue(s);return k.jsx(wE.Provider,{value:gue,children:k.jsx(mue,j({className:gt(l.root,i),as:o,ref:n,role:o===aN?null:"rowgroup",ownerState:s},a))})}),yue=vue;function xue(t){return tn("MuiTableCell",t)}const bue=Zt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),_ue=bue,wue=["align","className","component","padding","scope","size","sortDirection","variant"],Sue=t=>{const{classes:e,variant:n,align:r,padding:i,size:o,stickyHeader:a}=t,s={root:["root",n,a&&"stickyHeader",r!=="inherit"&&`align${Qe(r)}`,i!=="normal"&&`padding${Qe(i)}`,`size${Qe(o)}`]};return an(s,xue,e)},Mue=st("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Qe(n.size)}`],n.padding!=="normal"&&e[`padding${Qe(n.padding)}`],n.align!=="inherit"&&e[`align${Qe(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>j({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?VB(Ln(t.palette.divider,1),.88):HB(Ln(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${_ue.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),Eue=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:a,padding:s,scope:l,size:c,sortDirection:f,variant:p}=r,m=ht(r,wue),v=F.useContext(O$),x=F.useContext(wE),_=x&&x.variant==="head";let b;a?b=a:b=_?"th":"td";let y=l;b==="td"?y=void 0:!y&&_&&(y="col");const S=p||x&&x.variant,M=j({},r,{align:i,component:b,padding:s||(v&&v.padding?v.padding:"normal"),size:c||(v&&v.size?v.size:"medium"),sortDirection:f,stickyHeader:S==="head"&&v&&v.stickyHeader,variant:S}),C=Sue(M);let P=null;return f&&(P=f==="asc"?"ascending":"descending"),k.jsx(Mue,j({as:b,ref:n,className:gt(C.root,o),"aria-sort":P,scope:y,ownerState:M},m))}),vo=Eue;function Cue(t){return tn("MuiTableContainer",t)}Zt("MuiTableContainer",["root"]);const Tue=["className","component"],Aue=t=>{const{classes:e}=t;return an({root:["root"]},Cue,e)},Rue=st("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),Pue=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiTableContainer"}),{className:i,component:o="div"}=r,a=ht(r,Tue),s=j({},r,{component:o}),l=Aue(s);return k.jsx(Rue,j({ref:n,as:o,className:gt(l.root,i),ownerState:s},a))}),Iue=Pue;function Lue(t){return tn("MuiTableHead",t)}Zt("MuiTableHead",["root"]);const Oue=["className","component"],kue=t=>{const{classes:e}=t;return an({root:["root"]},Lue,e)},Nue=st("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),Due={variant:"head"},sN="thead",Fue=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiTableHead"}),{className:i,component:o=sN}=r,a=ht(r,Oue),s=j({},r,{component:o}),l=kue(s);return k.jsx(wE.Provider,{value:Due,children:k.jsx(Nue,j({as:o,className:gt(l.root,i),ref:n,role:o===sN?null:"rowgroup",ownerState:s},a))})}),Uue=Fue;function zue(t){return tn("MuiToolbar",t)}Zt("MuiToolbar",["root","gutters","regular","dense"]);const Bue=["className","component","disableGutters","variant"],$ue=t=>{const{classes:e,disableGutters:n,variant:r}=t;return an({root:["root",!n&&"gutters",r]},zue,e)},Hue=st("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>j({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Vue=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:a=!1,variant:s="regular"}=r,l=ht(r,Bue),c=j({},r,{component:o,disableGutters:a,variant:s}),f=$ue(c);return k.jsx(Hue,j({as:o,className:gt(f.root,i),ref:n,ownerState:c},l))}),Wue=Vue;function Gue(t){return tn("MuiTableRow",t)}const jue=Zt("MuiTableRow",["root","selected","hover","head","footer"]),lN=jue,Xue=["className","component","hover","selected"],que=t=>{const{classes:e,selected:n,hover:r,head:i,footer:o}=t;return an({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},Gue,e)},Yue=st("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${lN.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${lN.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ln(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),cN="tr",Kue=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiTableRow"}),{className:i,component:o=cN,hover:a=!1,selected:s=!1}=r,l=ht(r,Xue),c=F.useContext(wE),f=j({},r,{component:o,hover:a,selected:s,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),p=que(f);return k.jsx(Yue,j({as:o,ref:n,className:gt(p.root,i),role:o===cN?null:"row",ownerState:f},l))}),d_=Kue;function Zue(t){return tn("MuiTextField",t)}Zt("MuiTextField",["root"]);const Que=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Jue={standard:x$,filled:m$,outlined:A$},efe=t=>{const{classes:e}=t;return an({root:["root"]},Zue,e)},tfe=st($s,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),nfe=F.forwardRef(function(e,n){const r=ln({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:a,className:s,color:l="primary",defaultValue:c,disabled:f=!1,error:p=!1,FormHelperTextProps:m,fullWidth:v=!1,helperText:x,id:_,InputLabelProps:b,inputProps:y,InputProps:S,inputRef:M,label:C,maxRows:P,minRows:A,multiline:R=!1,name:U,onBlur:O,onChange:N,onFocus:B,placeholder:Y,required:J=!1,rows:G,select:ne=!1,SelectProps:ie,type:se,value:H,variant:q="outlined"}=r,te=ht(r,Que),Q=j({},r,{autoFocus:o,color:l,disabled:f,error:p,fullWidth:v,multiline:R,required:J,select:ne,variant:q}),ae=efe(Q),xe={};q==="outlined"&&(b&&typeof b.shrink<"u"&&(xe.notched=b.shrink),xe.label=C),ne&&((!ie||!ie.native)&&(xe.id=void 0),xe["aria-describedby"]=void 0);const we=ex(_),Te=x&&we?`${we}-helper-text`:void 0,Ve=C&&we?`${we}-label`:void 0,Ye=Jue[q],et=k.jsx(Ye,j({"aria-describedby":Te,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:v,multiline:R,name:U,rows:G,maxRows:P,minRows:A,type:se,value:H,id:we,inputRef:M,onBlur:O,onChange:N,onFocus:B,placeholder:Y,inputProps:y},xe,S));return k.jsxs(tfe,j({className:gt(ae.root,s),disabled:f,error:p,fullWidth:v,ref:n,required:J,color:l,variant:q,ownerState:Q},te,{children:[C!=null&&C!==""&&k.jsx(dc,j({htmlFor:we,id:Ve},b,{children:C})),ne?k.jsx(hc,j({"aria-describedby":Te,id:we,labelId:Ve,value:H,input:et},ie,{children:a})):et,x&&k.jsx(Wse,j({id:Te},m,{children:x}))]}))}),Ja=nfe,rfe="",k$="";var ii=(t=>(t.millimetre="mm",t[t.micrometre=rfe+"m"]="micrometre",t))(ii||{}),Ls=(t=>(t.electronVolts="eV",t.kiloElectronVolts="keV",t))(Ls||{}),Wn=(t=>(t.nanmometres="nm",t[t.angstroms=k$]="angstroms",t))(Wn||{}),au=(t=>(t.nanmometres="1/nm",t[t.angstroms=`1/${k$}`]="angstroms",t))(au||{}),pl=(t=>(t.radians="rad",t.degrees="deg",t))(pl||{});const N$=299792458,D$=662607015e-42,uN=t=>afe(D$*N$/ofe(t)),fN=t=>ife(D$*N$/sfe(t)),ife=t=>t/1602e-19,ofe=t=>t*1602e-19,afe=t=>t*1e9,sfe=t=>t*1e-9,OS=t=>1e3*t,Ih=t=>t*10,mu=t=>t/10,lfe=t=>t*1e3,KC=t=>t/1e3,wl=t=>{const e=parseFloat(t.trim());return!e&&e!=0?null:e},dN=t=>{let e;const n=new Set,r=(l,c)=>{const f=typeof l=="function"?l(e):l;if(!Object.is(f,e)){const p=e;e=c??typeof f!="object"?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,s={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{n.clear()}};return e=t(r,i,s),s},cfe=t=>t?dN(t):dN;var F$={exports:{}},U$={},z$={exports:{}},B$={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=F;function ufe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ffe=typeof Object.is=="function"?Object.is:ufe,dfe=e0.useState,hfe=e0.useEffect,pfe=e0.useLayoutEffect,mfe=e0.useDebugValue;function gfe(t,e){var n=e(),r=dfe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return pfe(function(){i.value=n,i.getSnapshot=e,ZC(i)&&o({inst:i})},[t,n,e]),hfe(function(){return ZC(i)&&o({inst:i}),t(function(){ZC(i)&&o({inst:i})})},[t]),mfe(n),n}function ZC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ffe(t,n)}catch{return!0}}function vfe(t,e){return e()}var yfe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vfe:gfe;B$.useSyncExternalStore=e0.useSyncExternalStore!==void 0?e0.useSyncExternalStore:yfe;z$.exports=B$;var xfe=z$.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE=F,bfe=xfe;function _fe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wfe=typeof Object.is=="function"?Object.is:_fe,Sfe=bfe.useSyncExternalStore,Mfe=SE.useRef,Efe=SE.useEffect,Cfe=SE.useMemo,Tfe=SE.useDebugValue;U$.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=Mfe(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Cfe(function(){function l(v){if(!c){if(c=!0,f=v,v=r(v),i!==void 0&&a.hasValue){var x=a.value;if(i(x,v))return p=x}return p=v}if(x=p,wfe(f,v))return x;var _=r(v);return i!==void 0&&i(x,_)?x:(f=v,p=_)}var c=!1,f,p,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,i]);var s=Sfe(t,o[0],o[1]);return Efe(function(){a.hasValue=!0,a.value=s},[s]),Tfe(s),s};F$.exports=U$;var Afe=F$.exports;const $$=Au(Afe),{useDebugValue:Rfe}=Z,{useSyncExternalStoreWithSelector:Pfe}=$$;function Ife(t,e=t.getState,n){const r=Pfe(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return Rfe(r),r}const hN=t=>{const e=typeof t=="function"?cfe(t):t,n=(r,i)=>Ife(e,r,i);return Object.assign(n,e),n},p0=t=>t?hN(t):hN,Lfe={"Pilatus P3-2M":{resolution:{width:1475,height:1679},pixelSize:{width:.172,height:.172}},"long boy":{resolution:{width:1475,height:679},pixelSize:{width:.2,height:.2}}},Ofe={"I22 SAXS Isotropic":{detector:"Pilatus P3-2M",beamstop:{centre:{x:738,y:100},diameter:4,clearance:10},cameraTube:{centre:{x:738,y:840},diameter:310},angle:1.57,wavelength:null,cameraLength:1.9,minWavelength:.062,maxWavelength:.335,minCameraLength:1.9,maxCameraLength:9.9,cameraLengthStep:1},"I22 SAXS Anisotropic":{detector:"Pilatus P3-2M",beamstop:{centre:{x:738,y:840},diameter:4,clearance:10},cameraTube:{centre:{x:738,y:840},diameter:310},angle:1.57,wavelength:null,cameraLength:1.9,minWavelength:.062,maxWavelength:.335,minCameraLength:1.9,maxCameraLength:9.9,cameraLengthStep:2}},pN=Lfe,m1=Ofe,la=m1[Object.keys(m1)[0]],tu=p0(t=>({...la.beamstop,clearance:la.beamstop.clearance,diameterUnits:ii.millimetre,updateCentre:e=>t(n=>({centre:{...n.centre,...e}})),updateUnits:e=>t({diameterUnits:e}),updateClearance:e=>t({clearance:e}),updateBeamstop:e=>t(e)})),tc=p0(t=>({name:la.detector,current:pN[la.detector],pixelUnits:ii.millimetre,detectorList:pN,updateDetector:e=>t(n=>({current:n.detectorList[e],name:e})),updateUnits:e=>t({pixelUnits:e})}));function kfe(){const t=tu(v=>v.centre),e=tu(v=>v.updateCentre),n=v=>{e({x:wl(v.target.value)})},r=v=>{e({y:wl(v.target.value)})},i=tu(v=>v.diameterUnits===ii.micrometre?OS(v.diameter):v.diameter),o=tu(v=>v.diameterUnits),a=tu(v=>v.updateUnits),s=tu(v=>v.clearance),l=tu(v=>v.updateClearance),c=v=>{l(wl(v.target.value))},f=tc(v=>v.current),p=()=>{e({x:f.resolution.width/2,y:f.resolution.height/2})},m=()=>{e({x:f.resolution.width/2,y:0})};return k.jsxs(qn,{spacing:1,children:[k.jsx(An,{variant:"h6",children:" Beamstop "}),k.jsxs(qn,{direction:"row",children:[k.jsxs(An,{flexGrow:2,children:[" Diameter: ",i," "]}),k.jsxs($s,{children:[k.jsx(dc,{children:"units "}),k.jsxs(hc,{size:"small",label:"units",value:o,onChange:v=>a(v.target.value),children:[k.jsx($i,{value:ii.millimetre,children:ii.millimetre}),k.jsx($i,{value:ii.micrometre,children:ii.micrometre})]})]})]}),k.jsx(An,{children:"Position:"}),k.jsxs(qn,{direction:"row",spacing:2,children:[k.jsx(An,{flexGrow:2,children:"x: "}),k.jsx(Ja,{type:"number",size:"small",value:t.x,onChange:n}),k.jsxs(An,{flexGrow:2,align:"center",children:[" ","px"]}),k.jsx(H5,{size:"small",variant:"outlined",onClick:p,children:"Centre detector"})]}),k.jsxs(qn,{direction:"row",spacing:1,children:[k.jsx(An,{flexGrow:2,children:"y: "}),k.jsx(Ja,{type:"number",size:"small",value:t.y,onChange:r}),k.jsxs(An,{flexGrow:2,align:"center",children:[" ","px"]}),k.jsx(H5,{size:"small",variant:"outlined",onClick:m,children:"Centre top edge"})]}),k.jsx(qn,{direction:"row",children:k.jsxs(qn,{direction:"row",spacing:1,children:[k.jsx(An,{flexGrow:1,children:"Clearance: "}),k.jsx(Ja,{type:"number",size:"small",value:s,onChange:c}),k.jsx(An,{children:"px"})]})})]})}const ph=p0(t=>({centre:{x:la.cameraTube.centre.x,y:la.cameraTube.centre.y},diameter:la.cameraTube.diameter,diameterUnits:ii.millimetre,updateCentre:e=>t(n=>({centre:{...n.centre,...e}})),updateUnits:e=>t({diameterUnits:e}),updateCameraTube:e=>t(e)}));function Nfe(){const t=ph(s=>s.centre),e=ph(s=>s.updateCentre),n=s=>{e({x:wl(s.target.value)})},r=s=>{e({y:wl(s.target.value)})},i=ph(s=>s.diameterUnits===ii.micrometre?OS(s.diameter):s.diameter),o=ph(s=>s.diameterUnits),a=ph(s=>s.updateUnits);return k.jsxs(a_,{spacing:1,children:[k.jsx(An,{variant:"h6",children:" CameraTube "}),k.jsxs(a_,{direction:"row",children:[k.jsxs(An,{flexGrow:2,children:[" Diameter: ",i," "]}),k.jsxs($s,{children:[k.jsx(dc,{children:"units "}),k.jsxs(hc,{size:"small",label:"units",value:o,onChange:s=>a(s.target.value),children:[k.jsx($i,{value:ii.millimetre,children:ii.millimetre}),k.jsx($i,{value:ii.micrometre,children:ii.micrometre})]})]})]}),k.jsx(An,{children:"Position:"}),k.jsxs(a_,{direction:"row",children:[k.jsx(An,{flexGrow:2,children:"x: "}),k.jsx(Ja,{type:"number",size:"small",value:t.x,onChange:n}),k.jsxs(An,{flexGrow:2,align:"center",children:[" ","px"]})]}),k.jsxs(a_,{direction:"row",children:[k.jsx(An,{flexGrow:2,children:"y: "}),k.jsx(Ja,{type:"number",size:"small",value:t.y,onChange:r}),k.jsxs(An,{flexGrow:2,align:"center",children:[" ","px"]})]})]})}const Lg=p0(t=>({preset:Object.keys(m1)[0],angle:la.angle,cameraLength:la.cameraLength,minWavelength:la.minWavelength,maxWavelength:la.maxWavelength,minCameraLength:la.minCameraLength,maxCameraLength:la.maxCameraLength,cameraLengthStep:la.cameraLengthStep,energy:null,wavelength:null,beamEnergyUnits:Ls.kiloElectronVolts,angleUnits:pl.radians,wavelengthUnits:Wn.nanmometres,update:e=>t({...e})})),yo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let mN=1234567;const H$=Math.PI/180,V$=180/Math.PI;function Dfe(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(yo[t&255]+yo[t>>8&255]+yo[t>>16&255]+yo[t>>24&255]+"-"+yo[e&255]+yo[e>>8&255]+"-"+yo[e>>16&15|64]+yo[e>>24&255]+"-"+yo[n&63|128]+yo[n>>8&255]+"-"+yo[n>>16&255]+yo[n>>24&255]+yo[r&255]+yo[r>>8&255]+yo[r>>16&255]+yo[r>>24&255]).toLowerCase()}function Ffe(t,e,n){return Math.max(e,Math.min(n,t))}function W$(t,e){return(t%e+e)%e}function Ufe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function zfe(t,e,n){return t!==e?(n-t)/(e-t):0}function G$(t,e,n){return(1-n)*t+n*e}function Bfe(t,e,n,r){return G$(t,e,1-Math.exp(-n*r))}function $fe(t,e=1){return e-Math.abs(W$(t,e*2)-e)}function Hfe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Vfe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Wfe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Gfe(t,e){return t+Math.random()*(e-t)}function jfe(t){return t*(.5-Math.random())}function Xfe(t){t!==void 0&&(mN=t);let e=mN+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function qfe(t){return t*H$}function Yfe(t){return t*V$}function Kfe(t){return(t&t-1)===0&&t!==0}function Zfe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Qfe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Jfe(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),f=a((e+r)/2),p=o((e-r)/2),m=a((e-r)/2),v=o((r-e)/2),x=a((r-e)/2);switch(i){case"XYX":t.set(s*f,l*p,l*m,s*c);break;case"YZY":t.set(l*m,s*f,l*p,s*c);break;case"ZXZ":t.set(l*p,l*m,s*f,s*c);break;case"XZX":t.set(s*f,l*x,l*v,s*c);break;case"YXY":t.set(l*v,s*f,l*x,s*c);break;case"ZYZ":t.set(l*x,l*v,s*f,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ede(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function tde(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const gN={DEG2RAD:H$,RAD2DEG:V$,generateUUID:Dfe,clamp:Ffe,euclideanModulo:W$,mapLinear:Ufe,inverseLerp:zfe,lerp:G$,damp:Bfe,pingpong:$fe,smoothstep:Hfe,smootherstep:Vfe,randInt:Wfe,randFloat:Gfe,randFloatSpread:jfe,seededRandom:Xfe,degToRad:qfe,radToDeg:Yfe,isPowerOfTwo:Kfe,ceilPowerOfTwo:Zfe,floorPowerOfTwo:Qfe,setQuaternionFromProperEuler:Jfe,normalize:tde,denormalize:ede};function nde(){const t=Lg(),e=Lg(f=>f.wavelengthUnits===Wn.angstroms?Ih(f.minWavelength):f.minWavelength),n=Lg(f=>f.wavelengthUnits===Wn.angstroms?Ih(f.maxWavelength):f.maxWavelength),r=f=>{const p=f.target.value;let m=t.angle;m!==null&&p===pl.degrees&&t.angleUnits===pl.radians?m=gN.radToDeg(m):m!==null&&p===pl.radians&&t.angleUnits===pl.degrees&&(m=gN.degToRad(m)),t.update({angle:m,angleUnits:p})},i=f=>{t.update({angle:wl(f.target.value)})},o=f=>{const p=wl(f.target.value);let m=null;if(p===null){t.update({energy:m,wavelength:p});return}t.wavelengthUnits===Wn.angstroms?m=fN(mu(p)):m=fN(p),t.beamEnergyUnits===Ls.electronVolts&&(m=KC(m)),t.update({energy:m,wavelength:p})},a=f=>{const p=f.target.value;let m=t.wavelength;m!==null&&p===Wn.angstroms&&t.wavelengthUnits===Wn.nanmometres?m=Ih(m):m!==null&&p===Wn.nanmometres&&t.wavelengthUnits===Wn.angstroms&&(m=mu(m)),t.update({wavelength:m,wavelengthUnits:p})},s=f=>{const p=wl(f.target.value);let m=null;if(p===null){t.update({energy:p,wavelength:m});return}t.beamEnergyUnits===Ls.electronVolts?m=uN(KC(p)):m=uN(p),t.wavelengthUnits===Wn.angstroms&&(m=mu(m)),t.update({energy:p,wavelength:m})},l=f=>{const p=f.target.value;let m=t.energy;m!==null&&p===Ls.electronVolts&&t.beamEnergyUnits===Ls.kiloElectronVolts?m=lfe(m):m!=null&&p===Ls.kiloElectronVolts&&t.beamEnergyUnits===Ls.electronVolts&&(m=KC(m)),t.update({energy:m,beamEnergyUnits:f.target.value})},c=f=>{t.update({cameraLength:wl(f.target.value)})};return k.jsxs(qn,{spacing:2,children:[k.jsx(An,{variant:"h6",children:"Beam properties"}),k.jsxs(qn,{direction:"row",spacing:1,children:[k.jsx(An,{flexGrow:1,children:"Energy: "}),k.jsx(Ja,{type:"number",size:"small",value:t.energy,onChange:s}),k.jsxs($s,{children:[k.jsx(dc,{children:"units"}),k.jsxs(hc,{size:"small",label:"units",value:t.beamEnergyUnits,onChange:l,children:[k.jsx($i,{value:Ls.electronVolts,children:Ls.electronVolts}),k.jsx($i,{value:Ls.kiloElectronVolts,children:Ls.kiloElectronVolts})]})]})]}),k.jsxs(qn,{direction:"row",spacing:1,children:[k.jsx(An,{flexGrow:1,children:"Wavelength: "}),k.jsx(Ja,{type:"number",size:"small",value:t.wavelength,onChange:o}),k.jsxs($s,{children:[k.jsx(dc,{children:"units"}),k.jsxs(hc,{size:"small",label:"units",value:t.wavelengthUnits,onChange:a,children:[k.jsx($i,{value:Wn.nanmometres,children:Wn.nanmometres}),k.jsx($i,{value:Wn.angstroms,children:Wn.angstroms})]})]})]}),k.jsxs(An,{children:["Minimum allowed wavelength: ",e," ",t.wavelengthUnits," "]}),k.jsxs(An,{children:["Maximum allowed wavelength: ",n," ",t.wavelengthUnits]}),k.jsxs(qn,{direction:"row",spacing:1,children:[k.jsx(An,{children:"Camera Length: "}),k.jsx(Ja,{type:"number",size:"small",value:t.cameraLength,InputProps:{inputProps:{max:t.maxCameraLength,min:t.minCameraLength,step:t.cameraLengthStep}},onChange:c}),k.jsx(An,{children:"m"})]}),k.jsxs(qn,{direction:"row",spacing:1,children:[k.jsx(An,{flexGrow:2,children:"Angle:"}),k.jsx(Ja,{type:"number",size:"small",defaultValue:"",value:t.angle??"",onChange:i}),k.jsxs($s,{children:[k.jsx(dc,{children:"units"}),k.jsxs(hc,{size:"small",label:"units",value:t.angleUnits,onChange:r,children:[k.jsx($i,{value:pl.radians,children:pl.radians}),k.jsx($i,{value:pl.degrees,children:pl.degrees})]})]})]})]})}function rde(){const t=tc(s=>s.name),e=tc(s=>s.current.resolution),n=tc(s=>s.pixelUnits===ii.micrometre?{height:OS(s.current.pixelSize.height),width:OS(s.current.pixelSize.width)}:s.current.pixelSize),r=tc(s=>s.detectorList),i=tc(s=>s.pixelUnits),o=tc(s=>s.updateUnits),a=tc(s=>s.updateDetector);return k.jsx(bE,{sx:{height:1},children:k.jsx(_E,{children:k.jsxs(qn,{spacing:1,children:[k.jsx(An,{variant:"h6",children:"Detector"}),k.jsx(s$,{size:"small",disablePortal:!0,id:"combo-box-demo",options:Object.keys(r),sx:{width:300},renderInput:s=>k.jsx(Ja,{...s,label:"choose detector type"}),value:t,onChange:(s,l)=>{l&&a(l)}}),k.jsxs(An,{children:["Resolution (hxw): ",e.height," x ",e.width]}),k.jsxs(qn,{direction:"row",children:[k.jsxs(An,{flexGrow:2,children:["Pixel size: ",n.height," x ",n.width," "]}),k.jsxs($s,{children:[k.jsx(dc,{children:"units"}),k.jsxs(hc,{size:"small",label:"units",value:i,onChange:s=>o(s.target.value),children:[k.jsxs($i,{value:ii.millimetre,children:[ii.millimetre," x ",ii.millimetre]}),k.jsxs($i,{value:ii.micrometre,children:[ii.micrometre," x ",ii.micrometre]})]})]})]}),k.jsx(Pg,{}),k.jsx(kfe,{}),k.jsx(Pg,{}),k.jsx(Nfe,{}),k.jsx(Pg,{}),k.jsx(nde,{})]})})})}function qa(t){const e=F.useRef(t);return e.current=t,F.useMemo(()=>Object.freeze({get current(){return e.current}}),[])}function j$(t){const e=qa(t);F.useEffect(()=>()=>{e.current()},[])}const RR=typeof window<"u"&&typeof navigator<"u"&&typeof document<"u";function ide(t){const e=qa(t),n=F.useRef(0),r=F.useCallback(()=>{RR&&n.current&&(cancelAnimationFrame(n.current),n.current=0)},[]);return j$(r),[F.useMemo(()=>{const i=(...o)=>{RR&&(r(),n.current=requestAnimationFrame(()=>{e.current(...o),n.current=0}))};return Object.defineProperties(i,{length:{value:t.length},name:{value:`${t.name||"anonymous"}__raf`}}),i},[]),r]}function ode(t,...e){var n;(n=t==null?void 0:t.addEventListener)==null||n.call(t,...e)}function ade(t,...e){var n;(n=t==null?void 0:t.removeEventListener)==null||n.call(t,...e)}const sde=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),lde=()=>!0,cde=()=>!1;function ude(t=!1){const e=F.useRef(t),n=F.useCallback(()=>e.current,[]);return F.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),n}const fde=t=>(t+1)%Number.MAX_SAFE_INTEGER;function dde(){const[,t]=F.useState(0);return F.useCallback(()=>{t(fde)},[])}function hde(t,e){return typeof t=="function"?t(e):t}function vN(t){const e=F.useRef();return F.useEffect(()=>{e.current=t}),e.current}function pde(t){const[e,n]=F.useState(t),[r,i]=ide(n);return j$(i),[e,r]}function mde(t=!1,e=!0){const[n,r]=F.useState(t),i=qa(e);return[n,F.useCallback(o=>{r(a=>o===void 0||i.current&&typeof o=="object"&&(o.constructor.name==="SyntheticBaseEvent"||typeof o._reactName=="string")?!a:!!hde(o,a))},[])]}function Lh(t,...e){const n=ude(),r=qa(e[1]),i=F.useMemo(()=>function(...o){n()&&(typeof r.current=="function"?r.current.apply(this,o):typeof r.current.handleEvent=="function"&&r.current.handleEvent.apply(this,o))},[]);F.useEffect(()=>{const o=t&&sde(t,"current")?t.current:t;if(!o)return;const a=e.slice(2);return ode(o,e[0],i,...a),()=>{ade(o,e[0],i,...a)}},[t,e[0]])}const gde=t=>typeof t=="function"?t:typeof t=="string"?e=>e.key===t:t?lde:cde,vde=RR?window:null;function yde(t,e,n,r={}){const{event:i="keydown",target:o=vde,eventOptions:a}=r,s=qa(e),l=F.useMemo(()=>{const c=gde(t);return function(f){c(f)&&s.current.call(this,f)}},n);Lh(o,i,l,a)}var kS={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */kS.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,f="__lodash_placeholder__",p=1,m=2,v=4,x=1,_=2,b=1,y=2,S=4,M=8,C=16,P=32,A=64,R=128,U=256,O=512,N=30,B="...",Y=800,J=16,G=1,ne=2,ie=3,se=1/0,H=9007199254740991,q=17976931348623157e292,te=0/0,Q=4294967295,ae=Q-1,xe=Q>>>1,we=[["ary",R],["bind",b],["bindKey",y],["curry",M],["curryRight",C],["flip",O],["partial",P],["partialRight",A],["rearg",U]],Te="[object Arguments]",Ve="[object Array]",Ye="[object AsyncFunction]",et="[object Boolean]",ct="[object Date]",Lt="[object DOMException]",$e="[object Error]",oe="[object Function]",Ae="[object GeneratorFunction]",ge="[object Map]",ve="[object Number]",Ue="[object Null]",We="[object Object]",Je="[object Promise]",ot="[object Proxy]",ft="[object RegExp]",lt="[object Set]",Ht="[object String]",ee="[object Symbol]",$="[object Undefined]",ye="[object WeakMap]",Ge="[object WeakSet]",Le="[object ArrayBuffer]",Me="[object DataView]",De="[object Float32Array]",je="[object Float64Array]",at="[object Int8Array]",At="[object Int16Array]",Ze="[object Int32Array]",Oe="[object Uint8Array]",Ut="[object Uint8ClampedArray]",Et="[object Uint16Array]",Nt="[object Uint32Array]",Ct=/\b__p \+= '';/g,dt=/\b(__p \+=) '' \+/g,Qt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,de=/&(?:amp|lt|gt|quot|#39);/g,ut=/[&<>"']/g,rt=RegExp(de.source),Ne=RegExp(ut.source),it=/<%-([\s\S]+?)%>/g,zt=/<%([\s\S]+?)%>/g,yn=/<%=([\s\S]+?)%>/g,Zn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ar=/^\w*$/,nn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sn=/[\\^$.*+?()[\]{}|]/g,ur=RegExp(Sn.source),ds=/^\s+/,hs=/\s/,Ks=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ko=/\{\n\/\* \[wrapped with (.+)\] \*/,Sa=/,? & /,Zo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ma=/[()=,{}\[\]\/\s]/,Fe=/\\(\\)?/g,Ie=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ke=/\w*$/,V=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,be=/^\[object .+?Constructor\]$/,Se=/^0o[0-7]+$/i,Ee=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tt=/($^)/,Gt=/['\n\r\u2028\u2029\\]/g,Bt="\\ud800-\\udfff",rn="\\u0300-\\u036f",en="\\ufe20-\\ufe2f",on="\\u20d0-\\u20ff",fr=rn+en+on,si="\\u2700-\\u27bf",tr="a-z\\xdf-\\xf6\\xf8-\\xff",li="\\xac\\xb1\\xd7\\xf7",Xt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Mt="\\u2000-\\u206f",Qo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mn="A-Z\\xc0-\\xd6\\xd8-\\xde",vr="\\ufe0e\\ufe0f",Ea=li+Xt+Mt+Qo,co="[']",ci="["+Bt+"]",Rr="["+Ea+"]",To="["+fr+"]",Ac="\\d+",ui="["+si+"]",Rc="["+tr+"]",uo="[^"+Bt+Ea+Ac+si+tr+Mn+"]",Fu="\\ud83c[\\udffb-\\udfff]",A2="(?:"+To+"|"+Fu+")",kx="[^"+Bt+"]",Uu="(?:\\ud83c[\\udde6-\\uddff]){2}",zu="[\\ud800-\\udbff][\\udc00-\\udfff]",ps="["+Mn+"]",gd="\\u200d",Nx="(?:"+Rc+"|"+uo+")",R2="(?:"+ps+"|"+uo+")",yp="(?:"+co+"(?:d|ll|m|re|s|t|ve))?",xp="(?:"+co+"(?:D|LL|M|RE|S|T|VE))?",Bu=A2+"?",Dx="["+vr+"]?",L0="(?:"+gd+"(?:"+[kx,Uu,zu].join("|")+")"+Dx+Bu+")*",Dn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bp=Dx+Bu+L0,Ux="(?:"+[ui,Uu,zu].join("|")+")"+bp,P2="(?:"+[kx+To+"?",To,Uu,zu,ci].join("|")+")",I2=RegExp(co,"g"),fi=RegExp(To,"g"),vd=RegExp(Fu+"(?="+Fu+")|"+P2+bp,"g"),L2=RegExp([ps+"?"+Rc+"+"+yp+"(?="+[Rr,ps,"$"].join("|")+")",R2+"+"+xp+"(?="+[Rr,ps+Nx,"$"].join("|")+")",ps+"?"+Nx+"+"+yp,ps+"+"+xp,Fx,Dn,Ac,Ux].join("|"),"g"),O0=RegExp("["+gd+Bt+fr+vr+"]"),O2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_p=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ms=-1,ir={};ir[De]=ir[je]=ir[at]=ir[At]=ir[Ze]=ir[Oe]=ir[Ut]=ir[Et]=ir[Nt]=!0,ir[Te]=ir[Ve]=ir[Le]=ir[et]=ir[Me]=ir[ct]=ir[$e]=ir[oe]=ir[ge]=ir[ve]=ir[We]=ir[ft]=ir[lt]=ir[Ht]=ir[ye]=!1;var nr={};nr[Te]=nr[Ve]=nr[Le]=nr[Me]=nr[et]=nr[ct]=nr[De]=nr[je]=nr[at]=nr[At]=nr[Ze]=nr[ge]=nr[ve]=nr[We]=nr[ft]=nr[lt]=nr[Ht]=nr[ee]=nr[Oe]=nr[Ut]=nr[Et]=nr[Nt]=!0,nr[$e]=nr[oe]=nr[ye]=!1;var gs={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Zs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},k0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zx=parseFloat,k2=parseInt,Ca=typeof iu=="object"&&iu&&iu.Object===Object&&iu,N2=typeof self=="object"&&self&&self.Object===Object&&self,zr=Ca||N2||Function("return this")(),N0=e&&!e.nodeType&&e,yi=N0&&!0&&t&&!t.nodeType&&t,yd=yi&&yi.exports===N0,$u=yd&&Ca.process,xi=function(){try{var ue=yi&&yi.require&&yi.require("util").types;return ue||$u&&$u.binding&&$u.binding("util")}catch{}}(),Sp=xi&&xi.isArrayBuffer,Mp=xi&&xi.isDate,D0=xi&&xi.isMap,Ep=xi&&xi.isRegExp,Cp=xi&&xi.isSet,Pc=xi&&xi.isTypedArray;function dr(ue,ke,Ce){switch(Ce.length){case 0:return ue.call(ke);case 1:return ue.call(ke,Ce[0]);case 2:return ue.call(ke,Ce[0],Ce[1]);case 3:return ue.call(ke,Ce[0],Ce[1],Ce[2])}return ue.apply(ke,Ce)}function vs(ue,ke,Ce,bt){for(var Jt=-1,fn=ue==null?0:ue.length;++Jt<fn;){var hr=ue[Jt];ke(bt,hr,Ce(hr),ue)}return bt}function Zr(ue,ke){for(var Ce=-1,bt=ue==null?0:ue.length;++Ce<bt&&ke(ue[Ce],Ce,ue)!==!1;);return ue}function F0(ue,ke){for(var Ce=ue==null?0:ue.length;Ce--&&ke(ue[Ce],Ce,ue)!==!1;);return ue}function U0(ue,ke){for(var Ce=-1,bt=ue==null?0:ue.length;++Ce<bt;)if(!ke(ue[Ce],Ce,ue))return!1;return!0}function Ai(ue,ke){for(var Ce=-1,bt=ue==null?0:ue.length,Jt=0,fn=[];++Ce<bt;){var hr=ue[Ce];ke(hr,Ce,ue)&&(fn[Jt++]=hr)}return fn}function Ta(ue,ke){var Ce=ue==null?0:ue.length;return!!Ce&&Ra(ue,ke,0)>-1}function Hu(ue,ke,Ce){for(var bt=-1,Jt=ue==null?0:ue.length;++bt<Jt;)if(Ce(ke,ue[bt]))return!0;return!1}function or(ue,ke){for(var Ce=-1,bt=ue==null?0:ue.length,Jt=Array(bt);++Ce<bt;)Jt[Ce]=ke(ue[Ce],Ce,ue);return Jt}function Aa(ue,ke){for(var Ce=-1,bt=ke.length,Jt=ue.length;++Ce<bt;)ue[Jt+Ce]=ke[Ce];return ue}function Tp(ue,ke,Ce,bt){var Jt=-1,fn=ue==null?0:ue.length;for(bt&&fn&&(Ce=ue[++Jt]);++Jt<fn;)Ce=ke(Ce,ue[Jt],Jt,ue);return Ce}function Bx(ue,ke,Ce,bt){var Jt=ue==null?0:ue.length;for(bt&&Jt&&(Ce=ue[--Jt]);Jt--;)Ce=ke(Ce,ue[Jt],Jt,ue);return Ce}function xd(ue,ke){for(var Ce=-1,bt=ue==null?0:ue.length;++Ce<bt;)if(ke(ue[Ce],Ce,ue))return!0;return!1}var Ap=fo("length");function $x(ue){return ue.split("")}function Hx(ue){return ue.match(Zo)||[]}function z0(ue,ke,Ce){var bt;return Ce(ue,function(Jt,fn,hr){if(ke(Jt,fn,hr))return bt=fn,!1}),bt}function Vu(ue,ke,Ce,bt){for(var Jt=ue.length,fn=Ce+(bt?1:-1);bt?fn--:++fn<Jt;)if(ke(ue[fn],fn,ue))return fn;return-1}function Ra(ue,ke,Ce){return ke===ke?qu(ue,ke,Ce):Vu(ue,bd,Ce)}function Wu(ue,ke,Ce,bt){for(var Jt=Ce-1,fn=ue.length;++Jt<fn;)if(bt(ue[Jt],ke))return Jt;return-1}function bd(ue){return ue!==ue}function _d(ue,ke){var Ce=ue==null?0:ue.length;return Ce?Pa(ue,ke)/Ce:te}function fo(ue){return function(ke){return ke==null?n:ke[ue]}}function ho(ue){return function(ke){return ue==null?n:ue[ke]}}function Nl(ue,ke,Ce,bt,Jt){return Jt(ue,function(fn,hr,qt){Ce=bt?(bt=!1,fn):ke(Ce,fn,hr,qt)}),Ce}function Qs(ue,ke){var Ce=ue.length;for(ue.sort(ke);Ce--;)ue[Ce]=ue[Ce].value;return ue}function Pa(ue,ke){for(var Ce,bt=-1,Jt=ue.length;++bt<Jt;){var fn=ke(ue[bt]);fn!==n&&(Ce=Ce===n?fn:Ce+fn)}return Ce}function Js(ue,ke){for(var Ce=-1,bt=Array(ue);++Ce<ue;)bt[Ce]=ke(Ce);return bt}function Vx(ue,ke){return or(ke,function(Ce){return[Ce,ue[Ce]]})}function Rp(ue){return ue&&ue.slice(0,Yu(ue)+1).replace(ds,"")}function Yi(ue){return function(ke){return ue(ke)}}function Ki(ue,ke){return or(ke,function(Ce){return ue[Ce]})}function bi(ue,ke){return ue.has(ke)}function ar(ue,ke){for(var Ce=-1,bt=ue.length;++Ce<bt&&Ra(ke,ue[Ce],0)>-1;);return Ce}function Gu(ue,ke){for(var Ce=ue.length;Ce--&&Ra(ke,ue[Ce],0)>-1;);return Ce}function Ia(ue,ke){for(var Ce=ue.length,bt=0;Ce--;)ue[Ce]===ke&&++bt;return bt}var Wx=ho(gs),Gx=ho(Zs);function B0(ue){return"\\"+k0[ue]}function $0(ue,ke){return ue==null?n:ue[ke]}function Ic(ue){return O0.test(ue)}function wd(ue){return O2.test(ue)}function ju(ue){for(var ke,Ce=[];!(ke=ue.next()).done;)Ce.push(ke.value);return Ce}function Sd(ue){var ke=-1,Ce=Array(ue.size);return ue.forEach(function(bt,Jt){Ce[++ke]=[Jt,bt]}),Ce}function Xu(ue,ke){return function(Ce){return ue(ke(Ce))}}function La(ue,ke){for(var Ce=-1,bt=ue.length,Jt=0,fn=[];++Ce<bt;){var hr=ue[Ce];(hr===ke||hr===f)&&(ue[Ce]=f,fn[Jt++]=Ce)}return fn}function Md(ue){var ke=-1,Ce=Array(ue.size);return ue.forEach(function(bt){Ce[++ke]=bt}),Ce}function jx(ue){var ke=-1,Ce=Array(ue.size);return ue.forEach(function(bt){Ce[++ke]=[bt,bt]}),Ce}function qu(ue,ke,Ce){for(var bt=Ce-1,Jt=ue.length;++bt<Jt;)if(ue[bt]===ke)return bt;return-1}function Xx(ue,ke,Ce){for(var bt=Ce+1;bt--;)if(ue[bt]===ke)return bt;return bt}function ys(ue){return Ic(ue)?xs(ue):Ap(ue)}function wr(ue){return Ic(ue)?H0(ue):$x(ue)}function Yu(ue){for(var ke=ue.length;ke--&&hs.test(ue.charAt(ke)););return ke}var Ku=ho(wp);function xs(ue){for(var ke=vd.lastIndex=0;vd.test(ue);)++ke;return ke}function H0(ue){return ue.match(vd)||[]}function Zu(ue){return ue.match(L2)||[]}var qx=function ue(ke){ke=ke==null?zr:Dl.defaults(zr.Object(),ke,Dl.pick(zr,_p));var Ce=ke.Array,bt=ke.Date,Jt=ke.Error,fn=ke.Function,hr=ke.Math,qt=ke.Object,di=ke.RegExp,hi=ke.String,Zi=ke.TypeError,Fl=Ce.prototype,Ed=fn.prototype,Qu=qt.prototype,Qr=ke["__core-js_shared__"],Ju=Ed.toString,Fn=Qu.hasOwnProperty,V0=0,bs=function(){var u=/[^.]+$/.exec(Qr&&Qr.keys&&Qr.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Ao=Qu.toString,Lc=Ju.call(qt),Pp=zr._,Ip=di("^"+Ju.call(Fn).replace(Sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cd=yd?ke.Buffer:n,el=ke.Symbol,Td=ke.Uint8Array,W0=Cd?Cd.allocUnsafe:n,Ad=Xu(qt.getPrototypeOf,qt),G0=qt.create,Lp=Qu.propertyIsEnumerable,Ul=Fl.splice,j0=el?el.isConcatSpreadable:n,zl=el?el.iterator:n,_s=el?el.toStringTag:n,ef=function(){try{var u=Xd(qt,"defineProperty");return u({},"",{}),u}catch{}}(),Rd=ke.clearTimeout!==zr.clearTimeout&&ke.clearTimeout,Yx=bt&&bt.now!==zr.Date.now&&bt.now,Kx=ke.setTimeout!==zr.setTimeout&&ke.setTimeout,Pd=hr.ceil,Id=hr.floor,Ld=qt.getOwnPropertySymbols,Zx=Cd?Cd.isBuffer:n,X0=ke.isFinite,D2=Fl.join,Qx=Xu(qt.keys,qt),Jr=hr.max,Ri=hr.min,Jx=bt.now,eb=ke.parseInt,q0=hr.random,tb=Fl.reverse,tf=Xd(ke,"DataView"),Od=Xd(ke,"Map"),Y0=Xd(ke,"Promise"),nf=Xd(ke,"Set"),Oc=Xd(ke,"WeakMap"),kc=Xd(qt,"create"),Op=Oc&&new Oc,Nc={},nb=qd(tf),rb=qd(Od),ib=qd(Y0),ob=qd(nf),ws=qd(Oc),kd=el?el.prototype:n,tl=kd?kd.valueOf:n,rf=kd?kd.toString:n;function W(u){if(Vr(u)&&!hn(u)&&!(u instanceof Vt)){if(u instanceof Pi)return u;if(Fn.call(u,"__wrapped__"))return n4(u)}return new Pi(u)}var nl=function(){function u(){}return function(g){if(!Or(g))return{};if(G0)return G0(g);u.prototype=g;var E=new u;return u.prototype=n,E}}();function Nd(){}function Pi(u,g){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}W.templateSettings={escape:it,evaluate:zt,interpolate:yn,variable:"",imports:{_:W}},W.prototype=Nd.prototype,W.prototype.constructor=W,Pi.prototype=nl(Nd.prototype),Pi.prototype.constructor=Pi;function Vt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function F2(){var u=new Vt(this.__wrapped__);return u.__actions__=Ni(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Ni(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Ni(this.__views__),u}function U2(){if(this.__filtered__){var u=new Vt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Ro(){var u=this.__wrapped__.value(),g=this.__dir__,E=hn(u),L=g<0,z=E?u.length:0,X=yG(0,z,this.__views__),le=X.start,ce=X.end,me=ce-le,Be=L?ce:le-1,He=this.__iteratees__,Xe=He.length,vt=0,Ot=Ri(me,this.__takeCount__);if(!E||!L&&z==me&&Ot==me)return Gl(u,this.__actions__);var Yt=[];e:for(;me--&&vt<Ot;){Be+=g;for(var En=-1,Kt=u[Be];++En<Xe;){var Rn=He[En],kn=Rn.iteratee,za=Rn.type,Do=kn(Kt);if(za==ne)Kt=Do;else if(!Do){if(za==G)continue e;break e}}Yt[vt++]=Kt}return Yt}Vt.prototype=nl(Nd.prototype),Vt.prototype.constructor=Vt;function Pr(u){var g=-1,E=u==null?0:u.length;for(this.clear();++g<E;){var L=u[g];this.set(L[0],L[1])}}function ab(){this.__data__=kc?kc(null):{},this.size=0}function sb(u){var g=this.has(u)&&delete this.__data__[u];return this.size-=g?1:0,g}function lb(u){var g=this.__data__;if(kc){var E=g[u];return E===l?n:E}return Fn.call(g,u)?g[u]:n}function cb(u){var g=this.__data__;return kc?g[u]!==n:Fn.call(g,u)}function ub(u,g){var E=this.__data__;return this.size+=this.has(u)?0:1,E[u]=kc&&g===n?l:g,this}Pr.prototype.clear=ab,Pr.prototype.delete=sb,Pr.prototype.get=lb,Pr.prototype.has=cb,Pr.prototype.set=ub;function Oa(u){var g=-1,E=u==null?0:u.length;for(this.clear();++g<E;){var L=u[g];this.set(L[0],L[1])}}function fb(){this.__data__=[],this.size=0}function K0(u){var g=this.__data__,E=$l(g,u);if(E<0)return!1;var L=g.length-1;return E==L?g.pop():Ul.call(g,E,1),--this.size,!0}function db(u){var g=this.__data__,E=$l(g,u);return E<0?n:g[E][1]}function hb(u){return $l(this.__data__,u)>-1}function kp(u,g){var E=this.__data__,L=$l(E,u);return L<0?(++this.size,E.push([u,g])):E[L][1]=g,this}Oa.prototype.clear=fb,Oa.prototype.delete=K0,Oa.prototype.get=db,Oa.prototype.has=hb,Oa.prototype.set=kp;function Jo(u){var g=-1,E=u==null?0:u.length;for(this.clear();++g<E;){var L=u[g];this.set(L[0],L[1])}}function pb(){this.size=0,this.__data__={hash:new Pr,map:new(Od||Oa),string:new Pr}}function Z0(u){var g=Ib(this,u).delete(u);return this.size-=g?1:0,g}function mb(u){return Ib(this,u).get(u)}function gb(u){return Ib(this,u).has(u)}function Np(u,g){var E=Ib(this,u),L=E.size;return E.set(u,g),this.size+=E.size==L?0:1,this}Jo.prototype.clear=pb,Jo.prototype.delete=Z0,Jo.prototype.get=mb,Jo.prototype.has=gb,Jo.prototype.set=Np;function Bl(u){var g=-1,E=u==null?0:u.length;for(this.__data__=new Jo;++g<E;)this.add(u[g])}function Q0(u){return this.__data__.set(u,l),this}function vb(u){return this.__data__.has(u)}Bl.prototype.add=Bl.prototype.push=Q0,Bl.prototype.has=vb;function ei(u){var g=this.__data__=new Oa(u);this.size=g.size}function z2(){this.__data__=new Oa,this.size=0}function B2(u){var g=this.__data__,E=g.delete(u);return this.size=g.size,E}function Dp(u){return this.__data__.get(u)}function Dc(u){return this.__data__.has(u)}function $2(u,g){var E=this.__data__;if(E instanceof Oa){var L=E.__data__;if(!Od||L.length<i-1)return L.push([u,g]),this.size=++E.size,this;E=this.__data__=new Jo(L)}return E.set(u,g),this.size=E.size,this}ei.prototype.clear=z2,ei.prototype.delete=B2,ei.prototype.get=Dp,ei.prototype.has=Dc,ei.prototype.set=$2;function mt(u,g){var E=hn(u),L=!E&&Yd(u),z=!E&&!L&&pf(u),X=!E&&!L&&!z&&Jp(u),le=E||L||z||X,ce=le?Js(u.length,hi):[],me=ce.length;for(var Be in u)(g||Fn.call(u,Be))&&!(le&&(Be=="length"||z&&(Be=="offset"||Be=="parent")||X&&(Be=="buffer"||Be=="byteLength"||Be=="byteOffset")||Hc(Be,me)))&&ce.push(Be);return ce}function Dd(u){var g=u.length;return g?u[Ms(0,g-1)]:n}function J0(u,g){return Lb(Ni(u),Hl(g,0,u.length))}function yb(u){return Lb(Ni(u))}function ev(u,g,E){(E!==n&&!ol(u[g],E)||E===n&&!(g in u))&&Ss(u,g,E)}function ka(u,g,E){var L=u[g];(!(Fn.call(u,g)&&ol(L,E))||E===n&&!(g in u))&&Ss(u,g,E)}function $l(u,g){for(var E=u.length;E--;)if(ol(u[E][0],g))return E;return-1}function tv(u,g,E,L){return Na(u,function(z,X,le){g(L,z,E(z),le)}),L}function nv(u,g){return u&&na(g,Fi(g),u)}function xb(u,g){return u&&na(g,ia(g),u)}function Ss(u,g,E){g=="__proto__"&&ef?ef(u,g,{configurable:!0,enumerable:!0,value:E,writable:!0}):u[g]=E}function Fp(u,g){for(var E=-1,L=g.length,z=Ce(L),X=u==null;++E<L;)z[E]=X?n:oC(u,g[E]);return z}function Hl(u,g,E){return u===u&&(E!==n&&(u=u<=E?u:E),g!==n&&(u=u>=g?u:g)),u}function Po(u,g,E,L,z,X){var le,ce=g&p,me=g&m,Be=g&v;if(E&&(le=z?E(u,L,z,X):E(u)),le!==n)return le;if(!Or(u))return u;var He=hn(u);if(He){if(le=bG(u),!ce)return Ni(u,le)}else{var Xe=po(u),vt=Xe==oe||Xe==Ae;if(pf(u))return gv(u,ce);if(Xe==We||Xe==Te||vt&&!z){if(le=me||vt?{}:XO(u),!ce)return me?Rb(u,xb(le,u)):G2(u,nv(le,u))}else{if(!nr[Xe])return z?u:{};le=_G(u,Xe,ce)}}X||(X=new ei);var Ot=X.get(u);if(Ot)return Ot;X.set(u,le),w4(u)?u.forEach(function(Kt){le.add(Po(Kt,g,E,Kt,u,X))}):b4(u)&&u.forEach(function(Kt,Rn){le.set(Rn,Po(Kt,g,E,Rn,u,X))});var Yt=Be?me?In:Hr:me?ia:Fi,En=He?n:Yt(u);return Zr(En||u,function(Kt,Rn){En&&(Rn=Kt,Kt=u[Rn]),ka(le,Rn,Po(Kt,g,E,Rn,u,X))}),le}function rv(u){var g=Fi(u);return function(E){return Up(E,u,g)}}function Up(u,g,E){var L=E.length;if(u==null)return!L;for(u=qt(u);L--;){var z=E[L],X=g[z],le=u[z];if(le===n&&!(z in u)||!X(le))return!1}return!0}function iv(u,g,E){if(typeof u!="function")throw new Zi(a);return bv(function(){u.apply(n,E)},g)}function Fc(u,g,E,L){var z=-1,X=Ta,le=!0,ce=u.length,me=[],Be=g.length;if(!ce)return me;E&&(g=or(g,Yi(E))),L?(X=Hu,le=!1):g.length>=i&&(X=bi,le=!1,g=new Bl(g));e:for(;++z<ce;){var He=u[z],Xe=E==null?He:E(He);if(He=L||He!==0?He:0,le&&Xe===Xe){for(var vt=Be;vt--;)if(g[vt]===Xe)continue e;me.push(He)}else X(g,Xe,L)||me.push(He)}return me}var Na=yv(Io),bb=yv(af,!0);function H2(u,g){var E=!0;return Na(u,function(L,z,X){return E=!!g(L,z,X),E}),E}function Fd(u,g,E){for(var L=-1,z=u.length;++L<z;){var X=u[L],le=g(X);if(le!=null&&(ce===n?le===le&&!Ua(le):E(le,ce)))var ce=le,me=X}return me}function _b(u,g,E,L){var z=u.length;for(E=xn(E),E<0&&(E=-E>z?0:z+E),L=L===n||L>z?z:xn(L),L<0&&(L+=z),L=E>L?0:M4(L);E<L;)u[E++]=g;return u}function ov(u,g){var E=[];return Na(u,function(L,z,X){g(L,z,X)&&E.push(L)}),E}function pi(u,g,E,L,z){var X=-1,le=u.length;for(E||(E=SG),z||(z=[]);++X<le;){var ce=u[X];g>0&&E(ce)?g>1?pi(ce,g-1,E,L,z):Aa(z,ce):L||(z[z.length]=ce)}return z}var of=Kp(),Ud=Kp(!0);function Io(u,g){return u&&of(u,g,Fi)}function af(u,g){return u&&Ud(u,g,Fi)}function Uc(u,g){return Ai(g,function(E){return Vc(u[E])})}function Da(u,g){g=Xl(g,u);for(var E=0,L=g.length;u!=null&&E<L;)u=u[Kl(g[E++])];return E&&E==L?u:n}function zp(u,g,E){var L=g(u);return hn(u)?L:Aa(L,E(u))}function _i(u){return u==null?u===n?$:Ue:_s&&_s in qt(u)?vG(u):PG(u)}function zd(u,g){return u>g}function wb(u,g){return u!=null&&Fn.call(u,g)}function av(u,g){return u!=null&&g in qt(u)}function V2(u,g,E){return u>=Ri(g,E)&&u<Jr(g,E)}function sf(u,g,E){for(var L=E?Hu:Ta,z=u[0].length,X=u.length,le=X,ce=Ce(X),me=1/0,Be=[];le--;){var He=u[le];le&&g&&(He=or(He,Yi(g))),me=Ri(He.length,me),ce[le]=!E&&(g||z>=120&&He.length>=120)?new Bl(le&&He):n}He=u[0];var Xe=-1,vt=ce[0];e:for(;++Xe<z&&Be.length<me;){var Ot=He[Xe],Yt=g?g(Ot):Ot;if(Ot=E||Ot!==0?Ot:0,!(vt?bi(vt,Yt):L(Be,Yt,E))){for(le=X;--le;){var En=ce[le];if(!(En?bi(En,Yt):L(u[le],Yt,E)))continue e}vt&&vt.push(Yt),Be.push(Ot)}}return Be}function sv(u,g,E,L){return Io(u,function(z,X,le){g(L,E(z),X,le)}),L}function sr(u,g,E){g=Xl(g,u),u=ZO(u,g);var L=u==null?u:u[Kl(Ts(g))];return L==null?n:dr(L,u,E)}function mn(u){return Vr(u)&&_i(u)==Te}function Br(u){return Vr(u)&&_i(u)==Le}function $r(u){return Vr(u)&&_i(u)==ct}function Ir(u,g,E,L,z){return u===g?!0:u==null||g==null||!Vr(u)&&!Vr(g)?u!==u&&g!==g:Lo(u,g,E,L,Ir,z)}function Lo(u,g,E,L,z,X){var le=hn(u),ce=hn(g),me=le?Ve:po(u),Be=ce?Ve:po(g);me=me==Te?We:me,Be=Be==Te?We:Be;var He=me==We,Xe=Be==We,vt=me==Be;if(vt&&pf(u)){if(!pf(g))return!1;le=!0,He=!1}if(vt&&!He)return X||(X=new ei),le||Jp(u)?Pt(u,g,E,L,z,X):gn(u,g,me,E,L,z,X);if(!(E&x)){var Ot=He&&Fn.call(u,"__wrapped__"),Yt=Xe&&Fn.call(g,"__wrapped__");if(Ot||Yt){var En=Ot?u.value():u,Kt=Yt?g.value():g;return X||(X=new ei),z(En,Kt,E,L,X)}}return vt?(X||(X=new ei),un(u,g,E,L,z,X)):!1}function lf(u){return Vr(u)&&po(u)==ge}function Lr(u,g,E,L){var z=E.length,X=z,le=!L;if(u==null)return!X;for(u=qt(u);z--;){var ce=E[z];if(le&&ce[2]?ce[1]!==u[ce[0]]:!(ce[0]in u))return!1}for(;++z<X;){ce=E[z];var me=ce[0],Be=u[me],He=ce[1];if(le&&ce[2]){if(Be===n&&!(me in u))return!1}else{var Xe=new ei;if(L)var vt=L(Be,He,me,u,g,Xe);if(!(vt===n?Ir(He,Be,x|_,L,Xe):vt))return!1}}return!0}function cf(u){if(!Or(u)||EG(u))return!1;var g=Vc(u)?Ip:be;return g.test(qd(u))}function uf(u){return Vr(u)&&_i(u)==ft}function Bp(u){return Vr(u)&&po(u)==lt}function lv(u){return Vr(u)&&Ub(u.length)&&!!ir[_i(u)]}function ff(u){return typeof u=="function"?u:u==null?oa:typeof u=="object"?hn(u)?$p(u[0],u[1]):$d(u):N4(u)}function Ii(u){if(!xv(u))return Qx(u);var g=[];for(var E in qt(u))Fn.call(u,E)&&E!="constructor"&&g.push(E);return g}function cv(u){if(!Or(u))return RG(u);var g=xv(u),E=[];for(var L in u)L=="constructor"&&(g||!Fn.call(u,L))||E.push(L);return E}function Bd(u,g){return u<g}function zc(u,g){var E=-1,L=ra(u)?Ce(u.length):[];return Na(u,function(z,X,le){L[++E]=g(z,X,le)}),L}function $d(u){var g=X2(u);return g.length==1&&g[0][2]?YO(g[0][0],g[0][1]):function(E){return E===u||Lr(E,u,g)}}function $p(u,g){return Y2(u)&&qO(g)?YO(Kl(u),g):function(E){var L=oC(E,u);return L===n&&L===g?aC(E,u):Ir(g,L,x|_)}}function Fa(u,g,E,L,z){u!==g&&of(g,function(X,le){if(z||(z=new ei),Or(X))Hp(u,g,le,E,Fa,L,z);else{var ce=L?L(Z2(u,le),X,le+"",u,g,z):n;ce===n&&(ce=X),ev(u,le,ce)}},ia)}function Hp(u,g,E,L,z,X,le){var ce=Z2(u,E),me=Z2(g,E),Be=le.get(me);if(Be){ev(u,E,Be);return}var He=X?X(ce,me,E+"",u,g,le):n,Xe=He===n;if(Xe){var vt=hn(me),Ot=!vt&&pf(me),Yt=!vt&&!Ot&&Jp(me);He=me,vt||Ot||Yt?hn(ce)?He=ce:ti(ce)?He=Ni(ce):Ot?(Xe=!1,He=gv(me,!0)):Yt?(Xe=!1,He=Ab(me,!0)):He=[]:_v(me)||Yd(me)?(He=ce,Yd(ce)?He=E4(ce):(!Or(ce)||Vc(ce))&&(He=XO(me))):Xe=!1}Xe&&(le.set(me,He),z(He,me,L,X,le),le.delete(me)),ev(u,E,He)}function rl(u,g){var E=u.length;if(E)return g+=g<0?E:0,Hc(g,E)?u[g]:n}function Hd(u,g,E){g.length?g=or(g,function(X){return hn(X)?function(le){return Da(le,X.length===1?X[0]:X)}:X}):g=[oa];var L=-1;g=or(g,Yi(jt()));var z=zc(u,function(X,le,ce){var me=or(g,function(Be){return Be(X)});return{criteria:me,index:++L,value:X}});return Qs(z,function(X,le){return Yp(X,le,E)})}function Vd(u,g){return Vp(u,g,function(E,L){return aC(u,L)})}function Vp(u,g,E){for(var L=-1,z=g.length,X={};++L<z;){var le=g[L],ce=Da(u,le);E(ce,le)&&Bc(X,Xl(le,u),ce)}return X}function Wp(u){return function(g){return Da(g,u)}}function df(u,g,E,L){var z=L?Wu:Ra,X=-1,le=g.length,ce=u;for(u===g&&(g=Ni(g)),E&&(ce=or(u,Yi(E)));++X<le;)for(var me=0,Be=g[X],He=E?E(Be):Be;(me=z(ce,He,me,L))>-1;)ce!==u&&Ul.call(ce,me,1),Ul.call(u,me,1);return u}function Li(u,g){for(var E=u?g.length:0,L=E-1;E--;){var z=g[E];if(E==L||z!==X){var X=z;Hc(z)?Ul.call(u,z,1):hv(u,z)}}return u}function Ms(u,g){return u+Id(q0()*(g-u+1))}function ea(u,g,E,L){for(var z=-1,X=Jr(Pd((g-u)/(E||1)),0),le=Ce(X);X--;)le[L?X:++z]=u,u+=E;return le}function hf(u,g){var E="";if(!u||g<1||g>H)return E;do g%2&&(E+=u),g=Id(g/2),g&&(u+=u);while(g);return E}function $t(u,g){return Q2(KO(u,g,oa),u+"")}function Sb(u){return Dd(em(u))}function uv(u,g){var E=em(u);return Lb(E,Hl(g,0,E.length))}function Bc(u,g,E,L){if(!Or(u))return u;g=Xl(g,u);for(var z=-1,X=g.length,le=X-1,ce=u;ce!=null&&++z<X;){var me=Kl(g[z]),Be=E;if(me==="__proto__"||me==="constructor"||me==="prototype")return u;if(z!=le){var He=ce[me];Be=L?L(He,me,ce):n,Be===n&&(Be=Or(He)?He:Hc(g[z+1])?[]:{})}ka(ce,me,Be),ce=ce[me]}return u}var Mb=Op?function(u,g){return Op.set(u,g),u}:oa,Vl=ef?function(u,g){return ef(u,"toString",{configurable:!0,enumerable:!1,value:lC(g),writable:!0})}:oa;function Eb(u){return Lb(em(u))}function Oo(u,g,E){var L=-1,z=u.length;g<0&&(g=-g>z?0:z+g),E=E>z?z:E,E<0&&(E+=z),z=g>E?0:E-g>>>0,g>>>=0;for(var X=Ce(z);++L<z;)X[L]=u[L+g];return X}function fv(u,g){var E;return Na(u,function(L,z,X){return E=g(L,z,X),!E}),!!E}function Es(u,g,E){var L=0,z=u==null?L:u.length;if(typeof g=="number"&&g===g&&z<=xe){for(;L<z;){var X=L+z>>>1,le=u[X];le!==null&&!Ua(le)&&(E?le<=g:le<g)?L=X+1:z=X}return z}return Gp(u,g,oa,E)}function Gp(u,g,E,L){var z=0,X=u==null?0:u.length;if(X===0)return 0;g=E(g);for(var le=g!==g,ce=g===null,me=Ua(g),Be=g===n;z<X;){var He=Id((z+X)/2),Xe=E(u[He]),vt=Xe!==n,Ot=Xe===null,Yt=Xe===Xe,En=Ua(Xe);if(le)var Kt=L||Yt;else Be?Kt=Yt&&(L||vt):ce?Kt=Yt&&vt&&(L||!Ot):me?Kt=Yt&&vt&&!Ot&&(L||!En):Ot||En?Kt=!1:Kt=L?Xe<=g:Xe<g;Kt?z=He+1:X=He}return Ri(X,ae)}function dv(u,g){for(var E=-1,L=u.length,z=0,X=[];++E<L;){var le=u[E],ce=g?g(le):le;if(!E||!ol(ce,me)){var me=ce;X[z++]=le===0?0:le}}return X}function jp(u){return typeof u=="number"?u:Ua(u)?te:+u}function Oi(u){if(typeof u=="string")return u;if(hn(u))return or(u,Oi)+"";if(Ua(u))return rf?rf.call(u):"";var g=u+"";return g=="0"&&1/u==-se?"-0":g}function Wl(u,g,E){var L=-1,z=Ta,X=u.length,le=!0,ce=[],me=ce;if(E)le=!1,z=Hu;else if(X>=i){var Be=g?null:Di(u);if(Be)return Md(Be);le=!1,z=bi,me=new Bl}else me=g?[]:ce;e:for(;++L<X;){var He=u[L],Xe=g?g(He):He;if(He=E||He!==0?He:0,le&&Xe===Xe){for(var vt=me.length;vt--;)if(me[vt]===Xe)continue e;g&&me.push(Xe),ce.push(He)}else z(me,Xe,E)||(me!==ce&&me.push(Xe),ce.push(He))}return ce}function hv(u,g){return g=Xl(g,u),u=ZO(u,g),u==null||delete u[Kl(Ts(g))]}function pv(u,g,E,L){return Bc(u,g,E(Da(u,g)),L)}function Wd(u,g,E,L){for(var z=u.length,X=L?z:-1;(L?X--:++X<z)&&g(u[X],X,u););return E?Oo(u,L?0:X,L?X+1:z):Oo(u,L?X+1:0,L?z:X)}function Gl(u,g){var E=u;return E instanceof Vt&&(E=E.value()),Tp(g,function(L,z){return z.func.apply(z.thisArg,Aa([L],z.args))},E)}function mv(u,g,E){var L=u.length;if(L<2)return L?Wl(u[0]):[];for(var z=-1,X=Ce(L);++z<L;)for(var le=u[z],ce=-1;++ce<L;)ce!=z&&(X[z]=Fc(X[z]||le,u[ce],g,E));return Wl(pi(X,1),g,E)}function jl(u,g,E){for(var L=-1,z=u.length,X=g.length,le={};++L<z;){var ce=L<X?g[L]:n;E(le,u[L],ce)}return le}function Xp(u){return ti(u)?u:[]}function ki(u){return typeof u=="function"?u:oa}function Xl(u,g){return hn(u)?u:Y2(u,g)?[u]:t4(Xn(u))}var Cb=$t;function ql(u,g,E){var L=u.length;return E=E===n?L:E,!g&&E>=L?u:Oo(u,g,E)}var Tb=Rd||function(u){return zr.clearTimeout(u)};function gv(u,g){if(g)return u.slice();var E=u.length,L=W0?W0(E):new u.constructor(E);return u.copy(L),L}function qp(u){var g=new u.constructor(u.byteLength);return new Td(g).set(new Td(u)),g}function W2(u,g){var E=g?qp(u.buffer):u.buffer;return new u.constructor(E,u.byteOffset,u.byteLength)}function ta(u){var g=new u.constructor(u.source,Ke.exec(u));return g.lastIndex=u.lastIndex,g}function vv(u){return tl?qt(tl.call(u)):{}}function Ab(u,g){var E=g?qp(u.buffer):u.buffer;return new u.constructor(E,u.byteOffset,u.length)}function il(u,g){if(u!==g){var E=u!==n,L=u===null,z=u===u,X=Ua(u),le=g!==n,ce=g===null,me=g===g,Be=Ua(g);if(!ce&&!Be&&!X&&u>g||X&&le&&me&&!ce&&!Be||L&&le&&me||!E&&me||!z)return 1;if(!L&&!X&&!Be&&u<g||Be&&E&&z&&!L&&!X||ce&&E&&z||!le&&z||!me)return-1}return 0}function Yp(u,g,E){for(var L=-1,z=u.criteria,X=g.criteria,le=z.length,ce=E.length;++L<le;){var me=il(z[L],X[L]);if(me){if(L>=ce)return me;var Be=E[L];return me*(Be=="desc"?-1:1)}}return u.index-g.index}function Yl(u,g,E,L){for(var z=-1,X=u.length,le=E.length,ce=-1,me=g.length,Be=Jr(X-le,0),He=Ce(me+Be),Xe=!L;++ce<me;)He[ce]=g[ce];for(;++z<le;)(Xe||z<X)&&(He[E[z]]=u[z]);for(;Be--;)He[ce++]=u[z++];return He}function Gd(u,g,E,L){for(var z=-1,X=u.length,le=-1,ce=E.length,me=-1,Be=g.length,He=Jr(X-ce,0),Xe=Ce(He+Be),vt=!L;++z<He;)Xe[z]=u[z];for(var Ot=z;++me<Be;)Xe[Ot+me]=g[me];for(;++le<ce;)(vt||z<X)&&(Xe[Ot+E[le]]=u[z++]);return Xe}function Ni(u,g){var E=-1,L=u.length;for(g||(g=Ce(L));++E<L;)g[E]=u[E];return g}function na(u,g,E,L){var z=!E;E||(E={});for(var X=-1,le=g.length;++X<le;){var ce=g[X],me=L?L(E[ce],u[ce],ce,E,u):n;me===n&&(me=u[ce]),z?Ss(E,ce,me):ka(E,ce,me)}return E}function G2(u,g){return na(u,q2(u),g)}function Rb(u,g){return na(u,GO(u),g)}function jd(u,g){return function(E,L){var z=hn(E)?vs:tv,X=g?g():{};return z(E,u,jt(L,2),X)}}function $c(u){return $t(function(g,E){var L=-1,z=E.length,X=z>1?E[z-1]:n,le=z>2?E[2]:n;for(X=u.length>3&&typeof X=="function"?(z--,X):n,le&&No(E[0],E[1],le)&&(X=z<3?n:X,z=1),g=qt(g);++L<z;){var ce=E[L];ce&&u(g,ce,L,X)}return g})}function yv(u,g){return function(E,L){if(E==null)return E;if(!ra(E))return u(E,L);for(var z=E.length,X=g?z:-1,le=qt(E);(g?X--:++X<z)&&L(le[X],X,le)!==!1;);return E}}function Kp(u){return function(g,E,L){for(var z=-1,X=qt(g),le=L(g),ce=le.length;ce--;){var me=le[u?ce:++z];if(E(X[me],me,X)===!1)break}return g}}function j2(u,g,E){var L=g&b,z=h(u);function X(){var le=this&&this!==zr&&this instanceof X?z:u;return le.apply(L?E:this,arguments)}return X}function Pb(u){return function(g){g=Xn(g);var E=Ic(g)?wr(g):n,L=E?E[0]:g.charAt(0),z=E?ql(E,1).join(""):g.slice(1);return L[u]()+z}}function d(u){return function(g){return Tp(O4(L4(g).replace(I2,"")),u,"")}}function h(u){return function(){var g=arguments;switch(g.length){case 0:return new u;case 1:return new u(g[0]);case 2:return new u(g[0],g[1]);case 3:return new u(g[0],g[1],g[2]);case 4:return new u(g[0],g[1],g[2],g[3]);case 5:return new u(g[0],g[1],g[2],g[3],g[4]);case 6:return new u(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new u(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var E=nl(u.prototype),L=u.apply(E,g);return Or(L)?L:E}}function w(u,g,E){var L=h(u);function z(){for(var X=arguments.length,le=Ce(X),ce=X,me=Qp(z);ce--;)le[ce]=arguments[ce];var Be=X<3&&le[0]!==me&&le[X-1]!==me?[]:La(le,me);if(X-=Be.length,X<E)return jn(u,g,D,z.placeholder,n,le,Be,n,n,E-X);var He=this&&this!==zr&&this instanceof z?L:u;return dr(He,this,le)}return z}function T(u){return function(g,E,L){var z=qt(g);if(!ra(g)){var X=jt(E,3);g=Fi(g),E=function(ce){return X(z[ce],ce,z)}}var le=u(g,E,L);return le>-1?z[X?g[le]:le]:n}}function I(u){return vn(function(g){var E=g.length,L=E,z=Pi.prototype.thru;for(u&&g.reverse();L--;){var X=g[L];if(typeof X!="function")throw new Zi(a);if(z&&!le&&Zp(X)=="wrapper")var le=new Pi([],!0)}for(L=le?L:E;++L<E;){X=g[L];var ce=Zp(X),me=ce=="wrapper"?Cs(X):n;me&&K2(me[0])&&me[1]==(R|M|P|U)&&!me[4].length&&me[9]==1?le=le[Zp(me[0])].apply(le,me[3]):le=X.length==1&&K2(X)?le[ce]():le.thru(X)}return function(){var Be=arguments,He=Be[0];if(le&&Be.length==1&&hn(He))return le.plant(He).value();for(var Xe=0,vt=E?g[Xe].apply(this,Be):He;++Xe<E;)vt=g[Xe].call(this,vt);return vt}})}function D(u,g,E,L,z,X,le,ce,me,Be){var He=g&R,Xe=g&b,vt=g&y,Ot=g&(M|C),Yt=g&O,En=vt?n:h(u);function Kt(){for(var Rn=arguments.length,kn=Ce(Rn),za=Rn;za--;)kn[za]=arguments[za];if(Ot)var Do=Qp(Kt),Ba=Ia(kn,Do);if(L&&(kn=Yl(kn,L,z,Ot)),X&&(kn=Gd(kn,X,le,Ot)),Rn-=Ba,Ot&&Rn<Be){var ni=La(kn,Do);return jn(u,g,D,Kt.placeholder,E,kn,ni,ce,me,Be-Rn)}var al=Xe?E:this,Gc=vt?al[u]:u;return Rn=kn.length,ce?kn=IG(kn,ce):Yt&&Rn>1&&kn.reverse(),He&&me<Rn&&(kn.length=me),this&&this!==zr&&this instanceof Kt&&(Gc=En||h(Gc)),Gc.apply(al,kn)}return Kt}function re(u,g){return function(E,L){return sv(E,u,g(L),{})}}function he(u,g){return function(E,L){var z;if(E===n&&L===n)return g;if(E!==n&&(z=E),L!==n){if(z===n)return L;typeof E=="string"||typeof L=="string"?(E=Oi(E),L=Oi(L)):(E=jp(E),L=jp(L)),z=u(E,L)}return z}}function Pe(u){return vn(function(g){return g=or(g,Yi(jt())),$t(function(E){var L=this;return u(g,function(z){return dr(z,L,E)})})})}function tt(u,g){g=g===n?" ":Oi(g);var E=g.length;if(E<2)return E?hf(g,u):g;var L=hf(g,Pd(u/ys(g)));return Ic(g)?ql(wr(L),0,u).join(""):L.slice(0,u)}function wt(u,g,E,L){var z=g&b,X=h(u);function le(){for(var ce=-1,me=arguments.length,Be=-1,He=L.length,Xe=Ce(He+me),vt=this&&this!==zr&&this instanceof le?X:u;++Be<He;)Xe[Be]=L[Be];for(;me--;)Xe[Be++]=arguments[++ce];return dr(vt,z?E:this,Xe)}return le}function sn(u){return function(g,E,L){return L&&typeof L!="number"&&No(g,E,L)&&(E=L=n),g=Wc(g),E===n?(E=g,g=0):E=Wc(E),L=L===n?g<E?1:-1:Wc(L),ea(g,E,L,u)}}function Ft(u){return function(g,E){return typeof g=="string"&&typeof E=="string"||(g=As(g),E=As(E)),u(g,E)}}function jn(u,g,E,L,z,X,le,ce,me,Be){var He=g&M,Xe=He?le:n,vt=He?n:le,Ot=He?X:n,Yt=He?n:X;g|=He?P:A,g&=~(He?A:P),g&S||(g&=~(b|y));var En=[u,g,z,Ot,Xe,Yt,vt,ce,me,Be],Kt=E.apply(n,En);return K2(u)&&QO(Kt,En),Kt.placeholder=L,JO(Kt,u,g)}function Rt(u){var g=hr[u];return function(E,L){if(E=As(E),L=L==null?0:Ri(xn(L),292),L&&X0(E)){var z=(Xn(E)+"e").split("e"),X=g(z[0]+"e"+(+z[1]+L));return z=(Xn(X)+"e").split("e"),+(z[0]+"e"+(+z[1]-L))}return g(E)}}var Di=nf&&1/Md(new nf([,-0]))[1]==se?function(u){return new nf(u)}:fC;function ko(u){return function(g){var E=po(g);return E==ge?Sd(g):E==lt?jx(g):Vx(g,u(g))}}function _e(u,g,E,L,z,X,le,ce){var me=g&y;if(!me&&typeof u!="function")throw new Zi(a);var Be=L?L.length:0;if(Be||(g&=~(P|A),L=z=n),le=le===n?le:Jr(xn(le),0),ce=ce===n?ce:xn(ce),Be-=z?z.length:0,g&A){var He=L,Xe=z;L=z=n}var vt=me?n:Cs(u),Ot=[u,g,E,L,z,He,Xe,X,le,ce];if(vt&&AG(Ot,vt),u=Ot[0],g=Ot[1],E=Ot[2],L=Ot[3],z=Ot[4],ce=Ot[9]=Ot[9]===n?me?0:u.length:Jr(Ot[9]-Be,0),!ce&&g&(M|C)&&(g&=~(M|C)),!g||g==b)var Yt=j2(u,g,E);else g==M||g==C?Yt=w(u,g,ce):(g==P||g==(b|P))&&!z.length?Yt=wt(u,g,E,L):Yt=D.apply(n,Ot);var En=vt?Mb:QO;return JO(En(Yt,Ot),u,g)}function pe(u,g,E,L){return u===n||ol(u,Qu[E])&&!Fn.call(L,E)?g:u}function Re(u,g,E,L,z,X){return Or(u)&&Or(g)&&(X.set(g,u),Fa(u,g,n,Re,X),X.delete(g)),u}function xt(u){return _v(u)?n:u}function Pt(u,g,E,L,z,X){var le=E&x,ce=u.length,me=g.length;if(ce!=me&&!(le&&me>ce))return!1;var Be=X.get(u),He=X.get(g);if(Be&&He)return Be==g&&He==u;var Xe=-1,vt=!0,Ot=E&_?new Bl:n;for(X.set(u,g),X.set(g,u);++Xe<ce;){var Yt=u[Xe],En=g[Xe];if(L)var Kt=le?L(En,Yt,Xe,g,u,X):L(Yt,En,Xe,u,g,X);if(Kt!==n){if(Kt)continue;vt=!1;break}if(Ot){if(!xd(g,function(Rn,kn){if(!bi(Ot,kn)&&(Yt===Rn||z(Yt,Rn,E,L,X)))return Ot.push(kn)})){vt=!1;break}}else if(!(Yt===En||z(Yt,En,E,L,X))){vt=!1;break}}return X.delete(u),X.delete(g),vt}function gn(u,g,E,L,z,X,le){switch(E){case Me:if(u.byteLength!=g.byteLength||u.byteOffset!=g.byteOffset)return!1;u=u.buffer,g=g.buffer;case Le:return!(u.byteLength!=g.byteLength||!X(new Td(u),new Td(g)));case et:case ct:case ve:return ol(+u,+g);case $e:return u.name==g.name&&u.message==g.message;case ft:case Ht:return u==g+"";case ge:var ce=Sd;case lt:var me=L&x;if(ce||(ce=Md),u.size!=g.size&&!me)return!1;var Be=le.get(u);if(Be)return Be==g;L|=_,le.set(u,g);var He=Pt(ce(u),ce(g),L,z,X,le);return le.delete(u),He;case ee:if(tl)return tl.call(u)==tl.call(g)}return!1}function un(u,g,E,L,z,X){var le=E&x,ce=Hr(u),me=ce.length,Be=Hr(g),He=Be.length;if(me!=He&&!le)return!1;for(var Xe=me;Xe--;){var vt=ce[Xe];if(!(le?vt in g:Fn.call(g,vt)))return!1}var Ot=X.get(u),Yt=X.get(g);if(Ot&&Yt)return Ot==g&&Yt==u;var En=!0;X.set(u,g),X.set(g,u);for(var Kt=le;++Xe<me;){vt=ce[Xe];var Rn=u[vt],kn=g[vt];if(L)var za=le?L(kn,Rn,vt,g,u,X):L(Rn,kn,vt,u,g,X);if(!(za===n?Rn===kn||z(Rn,kn,E,L,X):za)){En=!1;break}Kt||(Kt=vt=="constructor")}if(En&&!Kt){var Do=u.constructor,Ba=g.constructor;Do!=Ba&&"constructor"in u&&"constructor"in g&&!(typeof Do=="function"&&Do instanceof Do&&typeof Ba=="function"&&Ba instanceof Ba)&&(En=!1)}return X.delete(u),X.delete(g),En}function vn(u){return Q2(KO(u,n,o4),u+"")}function Hr(u){return zp(u,Fi,q2)}function In(u){return zp(u,ia,GO)}var Cs=Op?function(u){return Op.get(u)}:fC;function Zp(u){for(var g=u.name+"",E=Nc[g],L=Fn.call(Nc,g)?E.length:0;L--;){var z=E[L],X=z.func;if(X==null||X==u)return z.name}return g}function Qp(u){var g=Fn.call(W,"placeholder")?W:u;return g.placeholder}function jt(){var u=W.iteratee||cC;return u=u===cC?ff:u,arguments.length?u(arguments[0],arguments[1]):u}function Ib(u,g){var E=u.__data__;return MG(g)?E[typeof g=="string"?"string":"hash"]:E.map}function X2(u){for(var g=Fi(u),E=g.length;E--;){var L=g[E],z=u[L];g[E]=[L,z,qO(z)]}return g}function Xd(u,g){var E=$0(u,g);return cf(E)?E:n}function vG(u){var g=Fn.call(u,_s),E=u[_s];try{u[_s]=n;var L=!0}catch{}var z=Ao.call(u);return L&&(g?u[_s]=E:delete u[_s]),z}var q2=Ld?function(u){return u==null?[]:(u=qt(u),Ai(Ld(u),function(g){return Lp.call(u,g)}))}:dC,GO=Ld?function(u){for(var g=[];u;)Aa(g,q2(u)),u=Ad(u);return g}:dC,po=_i;(tf&&po(new tf(new ArrayBuffer(1)))!=Me||Od&&po(new Od)!=ge||Y0&&po(Y0.resolve())!=Je||nf&&po(new nf)!=lt||Oc&&po(new Oc)!=ye)&&(po=function(u){var g=_i(u),E=g==We?u.constructor:n,L=E?qd(E):"";if(L)switch(L){case nb:return Me;case rb:return ge;case ib:return Je;case ob:return lt;case ws:return ye}return g});function yG(u,g,E){for(var L=-1,z=E.length;++L<z;){var X=E[L],le=X.size;switch(X.type){case"drop":u+=le;break;case"dropRight":g-=le;break;case"take":g=Ri(g,u+le);break;case"takeRight":u=Jr(u,g-le);break}}return{start:u,end:g}}function xG(u){var g=u.match(Ko);return g?g[1].split(Sa):[]}function jO(u,g,E){g=Xl(g,u);for(var L=-1,z=g.length,X=!1;++L<z;){var le=Kl(g[L]);if(!(X=u!=null&&E(u,le)))break;u=u[le]}return X||++L!=z?X:(z=u==null?0:u.length,!!z&&Ub(z)&&Hc(le,z)&&(hn(u)||Yd(u)))}function bG(u){var g=u.length,E=new u.constructor(g);return g&&typeof u[0]=="string"&&Fn.call(u,"index")&&(E.index=u.index,E.input=u.input),E}function XO(u){return typeof u.constructor=="function"&&!xv(u)?nl(Ad(u)):{}}function _G(u,g,E){var L=u.constructor;switch(g){case Le:return qp(u);case et:case ct:return new L(+u);case Me:return W2(u,E);case De:case je:case at:case At:case Ze:case Oe:case Ut:case Et:case Nt:return Ab(u,E);case ge:return new L;case ve:case Ht:return new L(u);case ft:return ta(u);case lt:return new L;case ee:return vv(u)}}function wG(u,g){var E=g.length;if(!E)return u;var L=E-1;return g[L]=(E>1?"& ":"")+g[L],g=g.join(E>2?", ":" "),u.replace(Ks,`{
/* [wrapped with `+g+`] */
`)}function SG(u){return hn(u)||Yd(u)||!!(j0&&u&&u[j0])}function Hc(u,g){var E=typeof u;return g=g??H,!!g&&(E=="number"||E!="symbol"&&Ee.test(u))&&u>-1&&u%1==0&&u<g}function No(u,g,E){if(!Or(E))return!1;var L=typeof g;return(L=="number"?ra(E)&&Hc(g,E.length):L=="string"&&g in E)?ol(E[g],u):!1}function Y2(u,g){if(hn(u))return!1;var E=typeof u;return E=="number"||E=="symbol"||E=="boolean"||u==null||Ua(u)?!0:Ar.test(u)||!Zn.test(u)||g!=null&&u in qt(g)}function MG(u){var g=typeof u;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?u!=="__proto__":u===null}function K2(u){var g=Zp(u),E=W[g];if(typeof E!="function"||!(g in Vt.prototype))return!1;if(u===E)return!0;var L=Cs(E);return!!L&&u===L[0]}function EG(u){return!!bs&&bs in u}var CG=Qr?Vc:hC;function xv(u){var g=u&&u.constructor,E=typeof g=="function"&&g.prototype||Qu;return u===E}function qO(u){return u===u&&!Or(u)}function YO(u,g){return function(E){return E==null?!1:E[u]===g&&(g!==n||u in qt(E))}}function TG(u){var g=Db(u,function(L){return E.size===c&&E.clear(),L}),E=g.cache;return g}function AG(u,g){var E=u[1],L=g[1],z=E|L,X=z<(b|y|R),le=L==R&&E==M||L==R&&E==U&&u[7].length<=g[8]||L==(R|U)&&g[7].length<=g[8]&&E==M;if(!(X||le))return u;L&b&&(u[2]=g[2],z|=E&b?0:S);var ce=g[3];if(ce){var me=u[3];u[3]=me?Yl(me,ce,g[4]):ce,u[4]=me?La(u[3],f):g[4]}return ce=g[5],ce&&(me=u[5],u[5]=me?Gd(me,ce,g[6]):ce,u[6]=me?La(u[5],f):g[6]),ce=g[7],ce&&(u[7]=ce),L&R&&(u[8]=u[8]==null?g[8]:Ri(u[8],g[8])),u[9]==null&&(u[9]=g[9]),u[0]=g[0],u[1]=z,u}function RG(u){var g=[];if(u!=null)for(var E in qt(u))g.push(E);return g}function PG(u){return Ao.call(u)}function KO(u,g,E){return g=Jr(g===n?u.length-1:g,0),function(){for(var L=arguments,z=-1,X=Jr(L.length-g,0),le=Ce(X);++z<X;)le[z]=L[g+z];z=-1;for(var ce=Ce(g+1);++z<g;)ce[z]=L[z];return ce[g]=E(le),dr(u,this,ce)}}function ZO(u,g){return g.length<2?u:Da(u,Oo(g,0,-1))}function IG(u,g){for(var E=u.length,L=Ri(g.length,E),z=Ni(u);L--;){var X=g[L];u[L]=Hc(X,E)?z[X]:n}return u}function Z2(u,g){if(!(g==="constructor"&&typeof u[g]=="function")&&g!="__proto__")return u[g]}var QO=e4(Mb),bv=Kx||function(u,g){return zr.setTimeout(u,g)},Q2=e4(Vl);function JO(u,g,E){var L=g+"";return Q2(u,wG(L,LG(xG(L),E)))}function e4(u){var g=0,E=0;return function(){var L=Jx(),z=J-(L-E);if(E=L,z>0){if(++g>=Y)return arguments[0]}else g=0;return u.apply(n,arguments)}}function Lb(u,g){var E=-1,L=u.length,z=L-1;for(g=g===n?L:g;++E<g;){var X=Ms(E,z),le=u[X];u[X]=u[E],u[E]=le}return u.length=g,u}var t4=TG(function(u){var g=[];return u.charCodeAt(0)===46&&g.push(""),u.replace(nn,function(E,L,z,X){g.push(z?X.replace(Fe,"$1"):L||E)}),g});function Kl(u){if(typeof u=="string"||Ua(u))return u;var g=u+"";return g=="0"&&1/u==-se?"-0":g}function qd(u){if(u!=null){try{return Ju.call(u)}catch{}try{return u+""}catch{}}return""}function LG(u,g){return Zr(we,function(E){var L="_."+E[0];g&E[1]&&!Ta(u,L)&&u.push(L)}),u.sort()}function n4(u){if(u instanceof Vt)return u.clone();var g=new Pi(u.__wrapped__,u.__chain__);return g.__actions__=Ni(u.__actions__),g.__index__=u.__index__,g.__values__=u.__values__,g}function OG(u,g,E){(E?No(u,g,E):g===n)?g=1:g=Jr(xn(g),0);var L=u==null?0:u.length;if(!L||g<1)return[];for(var z=0,X=0,le=Ce(Pd(L/g));z<L;)le[X++]=Oo(u,z,z+=g);return le}function kG(u){for(var g=-1,E=u==null?0:u.length,L=0,z=[];++g<E;){var X=u[g];X&&(z[L++]=X)}return z}function NG(){var u=arguments.length;if(!u)return[];for(var g=Ce(u-1),E=arguments[0],L=u;L--;)g[L-1]=arguments[L];return Aa(hn(E)?Ni(E):[E],pi(g,1))}var DG=$t(function(u,g){return ti(u)?Fc(u,pi(g,1,ti,!0)):[]}),FG=$t(function(u,g){var E=Ts(g);return ti(E)&&(E=n),ti(u)?Fc(u,pi(g,1,ti,!0),jt(E,2)):[]}),UG=$t(function(u,g){var E=Ts(g);return ti(E)&&(E=n),ti(u)?Fc(u,pi(g,1,ti,!0),n,E):[]});function zG(u,g,E){var L=u==null?0:u.length;return L?(g=E||g===n?1:xn(g),Oo(u,g<0?0:g,L)):[]}function BG(u,g,E){var L=u==null?0:u.length;return L?(g=E||g===n?1:xn(g),g=L-g,Oo(u,0,g<0?0:g)):[]}function $G(u,g){return u&&u.length?Wd(u,jt(g,3),!0,!0):[]}function HG(u,g){return u&&u.length?Wd(u,jt(g,3),!0):[]}function VG(u,g,E,L){var z=u==null?0:u.length;return z?(E&&typeof E!="number"&&No(u,g,E)&&(E=0,L=z),_b(u,g,E,L)):[]}function r4(u,g,E){var L=u==null?0:u.length;if(!L)return-1;var z=E==null?0:xn(E);return z<0&&(z=Jr(L+z,0)),Vu(u,jt(g,3),z)}function i4(u,g,E){var L=u==null?0:u.length;if(!L)return-1;var z=L-1;return E!==n&&(z=xn(E),z=E<0?Jr(L+z,0):Ri(z,L-1)),Vu(u,jt(g,3),z,!0)}function o4(u){var g=u==null?0:u.length;return g?pi(u,1):[]}function WG(u){var g=u==null?0:u.length;return g?pi(u,se):[]}function GG(u,g){var E=u==null?0:u.length;return E?(g=g===n?1:xn(g),pi(u,g)):[]}function jG(u){for(var g=-1,E=u==null?0:u.length,L={};++g<E;){var z=u[g];L[z[0]]=z[1]}return L}function a4(u){return u&&u.length?u[0]:n}function XG(u,g,E){var L=u==null?0:u.length;if(!L)return-1;var z=E==null?0:xn(E);return z<0&&(z=Jr(L+z,0)),Ra(u,g,z)}function qG(u){var g=u==null?0:u.length;return g?Oo(u,0,-1):[]}var YG=$t(function(u){var g=or(u,Xp);return g.length&&g[0]===u[0]?sf(g):[]}),KG=$t(function(u){var g=Ts(u),E=or(u,Xp);return g===Ts(E)?g=n:E.pop(),E.length&&E[0]===u[0]?sf(E,jt(g,2)):[]}),ZG=$t(function(u){var g=Ts(u),E=or(u,Xp);return g=typeof g=="function"?g:n,g&&E.pop(),E.length&&E[0]===u[0]?sf(E,n,g):[]});function QG(u,g){return u==null?"":D2.call(u,g)}function Ts(u){var g=u==null?0:u.length;return g?u[g-1]:n}function JG(u,g,E){var L=u==null?0:u.length;if(!L)return-1;var z=L;return E!==n&&(z=xn(E),z=z<0?Jr(L+z,0):Ri(z,L-1)),g===g?Xx(u,g,z):Vu(u,bd,z,!0)}function ej(u,g){return u&&u.length?rl(u,xn(g)):n}var tj=$t(s4);function s4(u,g){return u&&u.length&&g&&g.length?df(u,g):u}function nj(u,g,E){return u&&u.length&&g&&g.length?df(u,g,jt(E,2)):u}function rj(u,g,E){return u&&u.length&&g&&g.length?df(u,g,n,E):u}var ij=vn(function(u,g){var E=u==null?0:u.length,L=Fp(u,g);return Li(u,or(g,function(z){return Hc(z,E)?+z:z}).sort(il)),L});function oj(u,g){var E=[];if(!(u&&u.length))return E;var L=-1,z=[],X=u.length;for(g=jt(g,3);++L<X;){var le=u[L];g(le,L,u)&&(E.push(le),z.push(L))}return Li(u,z),E}function J2(u){return u==null?u:tb.call(u)}function aj(u,g,E){var L=u==null?0:u.length;return L?(E&&typeof E!="number"&&No(u,g,E)?(g=0,E=L):(g=g==null?0:xn(g),E=E===n?L:xn(E)),Oo(u,g,E)):[]}function sj(u,g){return Es(u,g)}function lj(u,g,E){return Gp(u,g,jt(E,2))}function cj(u,g){var E=u==null?0:u.length;if(E){var L=Es(u,g);if(L<E&&ol(u[L],g))return L}return-1}function uj(u,g){return Es(u,g,!0)}function fj(u,g,E){return Gp(u,g,jt(E,2),!0)}function dj(u,g){var E=u==null?0:u.length;if(E){var L=Es(u,g,!0)-1;if(ol(u[L],g))return L}return-1}function hj(u){return u&&u.length?dv(u):[]}function pj(u,g){return u&&u.length?dv(u,jt(g,2)):[]}function mj(u){var g=u==null?0:u.length;return g?Oo(u,1,g):[]}function gj(u,g,E){return u&&u.length?(g=E||g===n?1:xn(g),Oo(u,0,g<0?0:g)):[]}function vj(u,g,E){var L=u==null?0:u.length;return L?(g=E||g===n?1:xn(g),g=L-g,Oo(u,g<0?0:g,L)):[]}function yj(u,g){return u&&u.length?Wd(u,jt(g,3),!1,!0):[]}function xj(u,g){return u&&u.length?Wd(u,jt(g,3)):[]}var bj=$t(function(u){return Wl(pi(u,1,ti,!0))}),_j=$t(function(u){var g=Ts(u);return ti(g)&&(g=n),Wl(pi(u,1,ti,!0),jt(g,2))}),wj=$t(function(u){var g=Ts(u);return g=typeof g=="function"?g:n,Wl(pi(u,1,ti,!0),n,g)});function Sj(u){return u&&u.length?Wl(u):[]}function Mj(u,g){return u&&u.length?Wl(u,jt(g,2)):[]}function Ej(u,g){return g=typeof g=="function"?g:n,u&&u.length?Wl(u,n,g):[]}function eC(u){if(!(u&&u.length))return[];var g=0;return u=Ai(u,function(E){if(ti(E))return g=Jr(E.length,g),!0}),Js(g,function(E){return or(u,fo(E))})}function l4(u,g){if(!(u&&u.length))return[];var E=eC(u);return g==null?E:or(E,function(L){return dr(g,n,L)})}var Cj=$t(function(u,g){return ti(u)?Fc(u,g):[]}),Tj=$t(function(u){return mv(Ai(u,ti))}),Aj=$t(function(u){var g=Ts(u);return ti(g)&&(g=n),mv(Ai(u,ti),jt(g,2))}),Rj=$t(function(u){var g=Ts(u);return g=typeof g=="function"?g:n,mv(Ai(u,ti),n,g)}),Pj=$t(eC);function Ij(u,g){return jl(u||[],g||[],ka)}function Lj(u,g){return jl(u||[],g||[],Bc)}var Oj=$t(function(u){var g=u.length,E=g>1?u[g-1]:n;return E=typeof E=="function"?(u.pop(),E):n,l4(u,E)});function c4(u){var g=W(u);return g.__chain__=!0,g}function kj(u,g){return g(u),u}function Ob(u,g){return g(u)}var Nj=vn(function(u){var g=u.length,E=g?u[0]:0,L=this.__wrapped__,z=function(X){return Fp(X,u)};return g>1||this.__actions__.length||!(L instanceof Vt)||!Hc(E)?this.thru(z):(L=L.slice(E,+E+(g?1:0)),L.__actions__.push({func:Ob,args:[z],thisArg:n}),new Pi(L,this.__chain__).thru(function(X){return g&&!X.length&&X.push(n),X}))});function Dj(){return c4(this)}function Fj(){return new Pi(this.value(),this.__chain__)}function Uj(){this.__values__===n&&(this.__values__=S4(this.value()));var u=this.__index__>=this.__values__.length,g=u?n:this.__values__[this.__index__++];return{done:u,value:g}}function zj(){return this}function Bj(u){for(var g,E=this;E instanceof Nd;){var L=n4(E);L.__index__=0,L.__values__=n,g?z.__wrapped__=L:g=L;var z=L;E=E.__wrapped__}return z.__wrapped__=u,g}function $j(){var u=this.__wrapped__;if(u instanceof Vt){var g=u;return this.__actions__.length&&(g=new Vt(this)),g=g.reverse(),g.__actions__.push({func:Ob,args:[J2],thisArg:n}),new Pi(g,this.__chain__)}return this.thru(J2)}function Hj(){return Gl(this.__wrapped__,this.__actions__)}var Vj=jd(function(u,g,E){Fn.call(u,E)?++u[E]:Ss(u,E,1)});function Wj(u,g,E){var L=hn(u)?U0:H2;return E&&No(u,g,E)&&(g=n),L(u,jt(g,3))}function Gj(u,g){var E=hn(u)?Ai:ov;return E(u,jt(g,3))}var jj=T(r4),Xj=T(i4);function qj(u,g){return pi(kb(u,g),1)}function Yj(u,g){return pi(kb(u,g),se)}function Kj(u,g,E){return E=E===n?1:xn(E),pi(kb(u,g),E)}function u4(u,g){var E=hn(u)?Zr:Na;return E(u,jt(g,3))}function f4(u,g){var E=hn(u)?F0:bb;return E(u,jt(g,3))}var Zj=jd(function(u,g,E){Fn.call(u,E)?u[E].push(g):Ss(u,E,[g])});function Qj(u,g,E,L){u=ra(u)?u:em(u),E=E&&!L?xn(E):0;var z=u.length;return E<0&&(E=Jr(z+E,0)),zb(u)?E<=z&&u.indexOf(g,E)>-1:!!z&&Ra(u,g,E)>-1}var Jj=$t(function(u,g,E){var L=-1,z=typeof g=="function",X=ra(u)?Ce(u.length):[];return Na(u,function(le){X[++L]=z?dr(g,le,E):sr(le,g,E)}),X}),eX=jd(function(u,g,E){Ss(u,E,g)});function kb(u,g){var E=hn(u)?or:zc;return E(u,jt(g,3))}function tX(u,g,E,L){return u==null?[]:(hn(g)||(g=g==null?[]:[g]),E=L?n:E,hn(E)||(E=E==null?[]:[E]),Hd(u,g,E))}var nX=jd(function(u,g,E){u[E?0:1].push(g)},function(){return[[],[]]});function rX(u,g,E){var L=hn(u)?Tp:Nl,z=arguments.length<3;return L(u,jt(g,4),E,z,Na)}function iX(u,g,E){var L=hn(u)?Bx:Nl,z=arguments.length<3;return L(u,jt(g,4),E,z,bb)}function oX(u,g){var E=hn(u)?Ai:ov;return E(u,Fb(jt(g,3)))}function aX(u){var g=hn(u)?Dd:Sb;return g(u)}function sX(u,g,E){(E?No(u,g,E):g===n)?g=1:g=xn(g);var L=hn(u)?J0:uv;return L(u,g)}function lX(u){var g=hn(u)?yb:Eb;return g(u)}function cX(u){if(u==null)return 0;if(ra(u))return zb(u)?ys(u):u.length;var g=po(u);return g==ge||g==lt?u.size:Ii(u).length}function uX(u,g,E){var L=hn(u)?xd:fv;return E&&No(u,g,E)&&(g=n),L(u,jt(g,3))}var fX=$t(function(u,g){if(u==null)return[];var E=g.length;return E>1&&No(u,g[0],g[1])?g=[]:E>2&&No(g[0],g[1],g[2])&&(g=[g[0]]),Hd(u,pi(g,1),[])}),Nb=Yx||function(){return zr.Date.now()};function dX(u,g){if(typeof g!="function")throw new Zi(a);return u=xn(u),function(){if(--u<1)return g.apply(this,arguments)}}function d4(u,g,E){return g=E?n:g,g=u&&g==null?u.length:g,_e(u,R,n,n,n,n,g)}function h4(u,g){var E;if(typeof g!="function")throw new Zi(a);return u=xn(u),function(){return--u>0&&(E=g.apply(this,arguments)),u<=1&&(g=n),E}}var tC=$t(function(u,g,E){var L=b;if(E.length){var z=La(E,Qp(tC));L|=P}return _e(u,L,g,E,z)}),p4=$t(function(u,g,E){var L=b|y;if(E.length){var z=La(E,Qp(p4));L|=P}return _e(g,L,u,E,z)});function m4(u,g,E){g=E?n:g;var L=_e(u,M,n,n,n,n,n,g);return L.placeholder=m4.placeholder,L}function g4(u,g,E){g=E?n:g;var L=_e(u,C,n,n,n,n,n,g);return L.placeholder=g4.placeholder,L}function v4(u,g,E){var L,z,X,le,ce,me,Be=0,He=!1,Xe=!1,vt=!0;if(typeof u!="function")throw new Zi(a);g=As(g)||0,Or(E)&&(He=!!E.leading,Xe="maxWait"in E,X=Xe?Jr(As(E.maxWait)||0,g):X,vt="trailing"in E?!!E.trailing:vt);function Ot(ni){var al=L,Gc=z;return L=z=n,Be=ni,le=u.apply(Gc,al),le}function Yt(ni){return Be=ni,ce=bv(Rn,g),He?Ot(ni):le}function En(ni){var al=ni-me,Gc=ni-Be,D4=g-al;return Xe?Ri(D4,X-Gc):D4}function Kt(ni){var al=ni-me,Gc=ni-Be;return me===n||al>=g||al<0||Xe&&Gc>=X}function Rn(){var ni=Nb();if(Kt(ni))return kn(ni);ce=bv(Rn,En(ni))}function kn(ni){return ce=n,vt&&L?Ot(ni):(L=z=n,le)}function za(){ce!==n&&Tb(ce),Be=0,L=me=z=ce=n}function Do(){return ce===n?le:kn(Nb())}function Ba(){var ni=Nb(),al=Kt(ni);if(L=arguments,z=this,me=ni,al){if(ce===n)return Yt(me);if(Xe)return Tb(ce),ce=bv(Rn,g),Ot(me)}return ce===n&&(ce=bv(Rn,g)),le}return Ba.cancel=za,Ba.flush=Do,Ba}var hX=$t(function(u,g){return iv(u,1,g)}),pX=$t(function(u,g,E){return iv(u,As(g)||0,E)});function mX(u){return _e(u,O)}function Db(u,g){if(typeof u!="function"||g!=null&&typeof g!="function")throw new Zi(a);var E=function(){var L=arguments,z=g?g.apply(this,L):L[0],X=E.cache;if(X.has(z))return X.get(z);var le=u.apply(this,L);return E.cache=X.set(z,le)||X,le};return E.cache=new(Db.Cache||Jo),E}Db.Cache=Jo;function Fb(u){if(typeof u!="function")throw new Zi(a);return function(){var g=arguments;switch(g.length){case 0:return!u.call(this);case 1:return!u.call(this,g[0]);case 2:return!u.call(this,g[0],g[1]);case 3:return!u.call(this,g[0],g[1],g[2])}return!u.apply(this,g)}}function gX(u){return h4(2,u)}var vX=Cb(function(u,g){g=g.length==1&&hn(g[0])?or(g[0],Yi(jt())):or(pi(g,1),Yi(jt()));var E=g.length;return $t(function(L){for(var z=-1,X=Ri(L.length,E);++z<X;)L[z]=g[z].call(this,L[z]);return dr(u,this,L)})}),nC=$t(function(u,g){var E=La(g,Qp(nC));return _e(u,P,n,g,E)}),y4=$t(function(u,g){var E=La(g,Qp(y4));return _e(u,A,n,g,E)}),yX=vn(function(u,g){return _e(u,U,n,n,n,g)});function xX(u,g){if(typeof u!="function")throw new Zi(a);return g=g===n?g:xn(g),$t(u,g)}function bX(u,g){if(typeof u!="function")throw new Zi(a);return g=g==null?0:Jr(xn(g),0),$t(function(E){var L=E[g],z=ql(E,0,g);return L&&Aa(z,L),dr(u,this,z)})}function _X(u,g,E){var L=!0,z=!0;if(typeof u!="function")throw new Zi(a);return Or(E)&&(L="leading"in E?!!E.leading:L,z="trailing"in E?!!E.trailing:z),v4(u,g,{leading:L,maxWait:g,trailing:z})}function wX(u){return d4(u,1)}function SX(u,g){return nC(ki(g),u)}function MX(){if(!arguments.length)return[];var u=arguments[0];return hn(u)?u:[u]}function EX(u){return Po(u,v)}function CX(u,g){return g=typeof g=="function"?g:n,Po(u,v,g)}function TX(u){return Po(u,p|v)}function AX(u,g){return g=typeof g=="function"?g:n,Po(u,p|v,g)}function RX(u,g){return g==null||Up(u,g,Fi(g))}function ol(u,g){return u===g||u!==u&&g!==g}var PX=Ft(zd),IX=Ft(function(u,g){return u>=g}),Yd=mn(function(){return arguments}())?mn:function(u){return Vr(u)&&Fn.call(u,"callee")&&!Lp.call(u,"callee")},hn=Ce.isArray,LX=Sp?Yi(Sp):Br;function ra(u){return u!=null&&Ub(u.length)&&!Vc(u)}function ti(u){return Vr(u)&&ra(u)}function OX(u){return u===!0||u===!1||Vr(u)&&_i(u)==et}var pf=Zx||hC,kX=Mp?Yi(Mp):$r;function NX(u){return Vr(u)&&u.nodeType===1&&!_v(u)}function DX(u){if(u==null)return!0;if(ra(u)&&(hn(u)||typeof u=="string"||typeof u.splice=="function"||pf(u)||Jp(u)||Yd(u)))return!u.length;var g=po(u);if(g==ge||g==lt)return!u.size;if(xv(u))return!Ii(u).length;for(var E in u)if(Fn.call(u,E))return!1;return!0}function FX(u,g){return Ir(u,g)}function UX(u,g,E){E=typeof E=="function"?E:n;var L=E?E(u,g):n;return L===n?Ir(u,g,n,E):!!L}function rC(u){if(!Vr(u))return!1;var g=_i(u);return g==$e||g==Lt||typeof u.message=="string"&&typeof u.name=="string"&&!_v(u)}function zX(u){return typeof u=="number"&&X0(u)}function Vc(u){if(!Or(u))return!1;var g=_i(u);return g==oe||g==Ae||g==Ye||g==ot}function x4(u){return typeof u=="number"&&u==xn(u)}function Ub(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=H}function Or(u){var g=typeof u;return u!=null&&(g=="object"||g=="function")}function Vr(u){return u!=null&&typeof u=="object"}var b4=D0?Yi(D0):lf;function BX(u,g){return u===g||Lr(u,g,X2(g))}function $X(u,g,E){return E=typeof E=="function"?E:n,Lr(u,g,X2(g),E)}function HX(u){return _4(u)&&u!=+u}function VX(u){if(CG(u))throw new Jt(o);return cf(u)}function WX(u){return u===null}function GX(u){return u==null}function _4(u){return typeof u=="number"||Vr(u)&&_i(u)==ve}function _v(u){if(!Vr(u)||_i(u)!=We)return!1;var g=Ad(u);if(g===null)return!0;var E=Fn.call(g,"constructor")&&g.constructor;return typeof E=="function"&&E instanceof E&&Ju.call(E)==Lc}var iC=Ep?Yi(Ep):uf;function jX(u){return x4(u)&&u>=-H&&u<=H}var w4=Cp?Yi(Cp):Bp;function zb(u){return typeof u=="string"||!hn(u)&&Vr(u)&&_i(u)==Ht}function Ua(u){return typeof u=="symbol"||Vr(u)&&_i(u)==ee}var Jp=Pc?Yi(Pc):lv;function XX(u){return u===n}function qX(u){return Vr(u)&&po(u)==ye}function YX(u){return Vr(u)&&_i(u)==Ge}var KX=Ft(Bd),ZX=Ft(function(u,g){return u<=g});function S4(u){if(!u)return[];if(ra(u))return zb(u)?wr(u):Ni(u);if(zl&&u[zl])return ju(u[zl]());var g=po(u),E=g==ge?Sd:g==lt?Md:em;return E(u)}function Wc(u){if(!u)return u===0?u:0;if(u=As(u),u===se||u===-se){var g=u<0?-1:1;return g*q}return u===u?u:0}function xn(u){var g=Wc(u),E=g%1;return g===g?E?g-E:g:0}function M4(u){return u?Hl(xn(u),0,Q):0}function As(u){if(typeof u=="number")return u;if(Ua(u))return te;if(Or(u)){var g=typeof u.valueOf=="function"?u.valueOf():u;u=Or(g)?g+"":g}if(typeof u!="string")return u===0?u:+u;u=Rp(u);var E=fe.test(u);return E||Se.test(u)?k2(u.slice(2),E?2:8):V.test(u)?te:+u}function E4(u){return na(u,ia(u))}function QX(u){return u?Hl(xn(u),-H,H):u===0?u:0}function Xn(u){return u==null?"":Oi(u)}var JX=$c(function(u,g){if(xv(g)||ra(g)){na(g,Fi(g),u);return}for(var E in g)Fn.call(g,E)&&ka(u,E,g[E])}),C4=$c(function(u,g){na(g,ia(g),u)}),Bb=$c(function(u,g,E,L){na(g,ia(g),u,L)}),eq=$c(function(u,g,E,L){na(g,Fi(g),u,L)}),tq=vn(Fp);function nq(u,g){var E=nl(u);return g==null?E:nv(E,g)}var rq=$t(function(u,g){u=qt(u);var E=-1,L=g.length,z=L>2?g[2]:n;for(z&&No(g[0],g[1],z)&&(L=1);++E<L;)for(var X=g[E],le=ia(X),ce=-1,me=le.length;++ce<me;){var Be=le[ce],He=u[Be];(He===n||ol(He,Qu[Be])&&!Fn.call(u,Be))&&(u[Be]=X[Be])}return u}),iq=$t(function(u){return u.push(n,Re),dr(T4,n,u)});function oq(u,g){return z0(u,jt(g,3),Io)}function aq(u,g){return z0(u,jt(g,3),af)}function sq(u,g){return u==null?u:of(u,jt(g,3),ia)}function lq(u,g){return u==null?u:Ud(u,jt(g,3),ia)}function cq(u,g){return u&&Io(u,jt(g,3))}function uq(u,g){return u&&af(u,jt(g,3))}function fq(u){return u==null?[]:Uc(u,Fi(u))}function dq(u){return u==null?[]:Uc(u,ia(u))}function oC(u,g,E){var L=u==null?n:Da(u,g);return L===n?E:L}function hq(u,g){return u!=null&&jO(u,g,wb)}function aC(u,g){return u!=null&&jO(u,g,av)}var pq=re(function(u,g,E){g!=null&&typeof g.toString!="function"&&(g=Ao.call(g)),u[g]=E},lC(oa)),mq=re(function(u,g,E){g!=null&&typeof g.toString!="function"&&(g=Ao.call(g)),Fn.call(u,g)?u[g].push(E):u[g]=[E]},jt),gq=$t(sr);function Fi(u){return ra(u)?mt(u):Ii(u)}function ia(u){return ra(u)?mt(u,!0):cv(u)}function vq(u,g){var E={};return g=jt(g,3),Io(u,function(L,z,X){Ss(E,g(L,z,X),L)}),E}function yq(u,g){var E={};return g=jt(g,3),Io(u,function(L,z,X){Ss(E,z,g(L,z,X))}),E}var xq=$c(function(u,g,E){Fa(u,g,E)}),T4=$c(function(u,g,E,L){Fa(u,g,E,L)}),bq=vn(function(u,g){var E={};if(u==null)return E;var L=!1;g=or(g,function(X){return X=Xl(X,u),L||(L=X.length>1),X}),na(u,In(u),E),L&&(E=Po(E,p|m|v,xt));for(var z=g.length;z--;)hv(E,g[z]);return E});function _q(u,g){return A4(u,Fb(jt(g)))}var wq=vn(function(u,g){return u==null?{}:Vd(u,g)});function A4(u,g){if(u==null)return{};var E=or(In(u),function(L){return[L]});return g=jt(g),Vp(u,E,function(L,z){return g(L,z[0])})}function Sq(u,g,E){g=Xl(g,u);var L=-1,z=g.length;for(z||(z=1,u=n);++L<z;){var X=u==null?n:u[Kl(g[L])];X===n&&(L=z,X=E),u=Vc(X)?X.call(u):X}return u}function Mq(u,g,E){return u==null?u:Bc(u,g,E)}function Eq(u,g,E,L){return L=typeof L=="function"?L:n,u==null?u:Bc(u,g,E,L)}var R4=ko(Fi),P4=ko(ia);function Cq(u,g,E){var L=hn(u),z=L||pf(u)||Jp(u);if(g=jt(g,4),E==null){var X=u&&u.constructor;z?E=L?new X:[]:Or(u)?E=Vc(X)?nl(Ad(u)):{}:E={}}return(z?Zr:Io)(u,function(le,ce,me){return g(E,le,ce,me)}),E}function Tq(u,g){return u==null?!0:hv(u,g)}function Aq(u,g,E){return u==null?u:pv(u,g,ki(E))}function Rq(u,g,E,L){return L=typeof L=="function"?L:n,u==null?u:pv(u,g,ki(E),L)}function em(u){return u==null?[]:Ki(u,Fi(u))}function Pq(u){return u==null?[]:Ki(u,ia(u))}function Iq(u,g,E){return E===n&&(E=g,g=n),E!==n&&(E=As(E),E=E===E?E:0),g!==n&&(g=As(g),g=g===g?g:0),Hl(As(u),g,E)}function Lq(u,g,E){return g=Wc(g),E===n?(E=g,g=0):E=Wc(E),u=As(u),V2(u,g,E)}function Oq(u,g,E){if(E&&typeof E!="boolean"&&No(u,g,E)&&(g=E=n),E===n&&(typeof g=="boolean"?(E=g,g=n):typeof u=="boolean"&&(E=u,u=n)),u===n&&g===n?(u=0,g=1):(u=Wc(u),g===n?(g=u,u=0):g=Wc(g)),u>g){var L=u;u=g,g=L}if(E||u%1||g%1){var z=q0();return Ri(u+z*(g-u+zx("1e-"+((z+"").length-1))),g)}return Ms(u,g)}var kq=d(function(u,g,E){return g=g.toLowerCase(),u+(E?I4(g):g)});function I4(u){return sC(Xn(u).toLowerCase())}function L4(u){return u=Xn(u),u&&u.replace(yt,Wx).replace(fi,"")}function Nq(u,g,E){u=Xn(u),g=Oi(g);var L=u.length;E=E===n?L:Hl(xn(E),0,L);var z=E;return E-=g.length,E>=0&&u.slice(E,z)==g}function Dq(u){return u=Xn(u),u&&Ne.test(u)?u.replace(ut,Gx):u}function Fq(u){return u=Xn(u),u&&ur.test(u)?u.replace(Sn,"\\$&"):u}var Uq=d(function(u,g,E){return u+(E?"-":"")+g.toLowerCase()}),zq=d(function(u,g,E){return u+(E?" ":"")+g.toLowerCase()}),Bq=Pb("toLowerCase");function $q(u,g,E){u=Xn(u),g=xn(g);var L=g?ys(u):0;if(!g||L>=g)return u;var z=(g-L)/2;return tt(Id(z),E)+u+tt(Pd(z),E)}function Hq(u,g,E){u=Xn(u),g=xn(g);var L=g?ys(u):0;return g&&L<g?u+tt(g-L,E):u}function Vq(u,g,E){u=Xn(u),g=xn(g);var L=g?ys(u):0;return g&&L<g?tt(g-L,E)+u:u}function Wq(u,g,E){return E||g==null?g=0:g&&(g=+g),eb(Xn(u).replace(ds,""),g||0)}function Gq(u,g,E){return(E?No(u,g,E):g===n)?g=1:g=xn(g),hf(Xn(u),g)}function jq(){var u=arguments,g=Xn(u[0]);return u.length<3?g:g.replace(u[1],u[2])}var Xq=d(function(u,g,E){return u+(E?"_":"")+g.toLowerCase()});function qq(u,g,E){return E&&typeof E!="number"&&No(u,g,E)&&(g=E=n),E=E===n?Q:E>>>0,E?(u=Xn(u),u&&(typeof g=="string"||g!=null&&!iC(g))&&(g=Oi(g),!g&&Ic(u))?ql(wr(u),0,E):u.split(g,E)):[]}var Yq=d(function(u,g,E){return u+(E?" ":"")+sC(g)});function Kq(u,g,E){return u=Xn(u),E=E==null?0:Hl(xn(E),0,u.length),g=Oi(g),u.slice(E,E+g.length)==g}function Zq(u,g,E){var L=W.templateSettings;E&&No(u,g,E)&&(g=n),u=Xn(u),g=Bb({},g,L,pe);var z=Bb({},g.imports,L.imports,pe),X=Fi(z),le=Ki(z,X),ce,me,Be=0,He=g.interpolate||Tt,Xe="__p += '",vt=di((g.escape||Tt).source+"|"+He.source+"|"+(He===yn?Ie:Tt).source+"|"+(g.evaluate||Tt).source+"|$","g"),Ot="//# sourceURL="+(Fn.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ms+"]")+`
`;u.replace(vt,function(Kt,Rn,kn,za,Do,Ba){return kn||(kn=za),Xe+=u.slice(Be,Ba).replace(Gt,B0),Rn&&(ce=!0,Xe+=`' +
__e(`+Rn+`) +
'`),Do&&(me=!0,Xe+=`';
`+Do+`;
__p += '`),kn&&(Xe+=`' +
((__t = (`+kn+`)) == null ? '' : __t) +
'`),Be=Ba+Kt.length,Kt}),Xe+=`';
`;var Yt=Fn.call(g,"variable")&&g.variable;if(!Yt)Xe=`with (obj) {
`+Xe+`
}
`;else if(Ma.test(Yt))throw new Jt(s);Xe=(me?Xe.replace(Ct,""):Xe).replace(dt,"$1").replace(Qt,"$1;"),Xe="function("+(Yt||"obj")+`) {
`+(Yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ce?", __e = _.escape":"")+(me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Xe+`return __p
}`;var En=k4(function(){return fn(X,Ot+"return "+Xe).apply(n,le)});if(En.source=Xe,rC(En))throw En;return En}function Qq(u){return Xn(u).toLowerCase()}function Jq(u){return Xn(u).toUpperCase()}function eY(u,g,E){if(u=Xn(u),u&&(E||g===n))return Rp(u);if(!u||!(g=Oi(g)))return u;var L=wr(u),z=wr(g),X=ar(L,z),le=Gu(L,z)+1;return ql(L,X,le).join("")}function tY(u,g,E){if(u=Xn(u),u&&(E||g===n))return u.slice(0,Yu(u)+1);if(!u||!(g=Oi(g)))return u;var L=wr(u),z=Gu(L,wr(g))+1;return ql(L,0,z).join("")}function nY(u,g,E){if(u=Xn(u),u&&(E||g===n))return u.replace(ds,"");if(!u||!(g=Oi(g)))return u;var L=wr(u),z=ar(L,wr(g));return ql(L,z).join("")}function rY(u,g){var E=N,L=B;if(Or(g)){var z="separator"in g?g.separator:z;E="length"in g?xn(g.length):E,L="omission"in g?Oi(g.omission):L}u=Xn(u);var X=u.length;if(Ic(u)){var le=wr(u);X=le.length}if(E>=X)return u;var ce=E-ys(L);if(ce<1)return L;var me=le?ql(le,0,ce).join(""):u.slice(0,ce);if(z===n)return me+L;if(le&&(ce+=me.length-ce),iC(z)){if(u.slice(ce).search(z)){var Be,He=me;for(z.global||(z=di(z.source,Xn(Ke.exec(z))+"g")),z.lastIndex=0;Be=z.exec(He);)var Xe=Be.index;me=me.slice(0,Xe===n?ce:Xe)}}else if(u.indexOf(Oi(z),ce)!=ce){var vt=me.lastIndexOf(z);vt>-1&&(me=me.slice(0,vt))}return me+L}function iY(u){return u=Xn(u),u&&rt.test(u)?u.replace(de,Ku):u}var oY=d(function(u,g,E){return u+(E?" ":"")+g.toUpperCase()}),sC=Pb("toUpperCase");function O4(u,g,E){return u=Xn(u),g=E?n:g,g===n?wd(u)?Zu(u):Hx(u):u.match(g)||[]}var k4=$t(function(u,g){try{return dr(u,n,g)}catch(E){return rC(E)?E:new Jt(E)}}),aY=vn(function(u,g){return Zr(g,function(E){E=Kl(E),Ss(u,E,tC(u[E],u))}),u});function sY(u){var g=u==null?0:u.length,E=jt();return u=g?or(u,function(L){if(typeof L[1]!="function")throw new Zi(a);return[E(L[0]),L[1]]}):[],$t(function(L){for(var z=-1;++z<g;){var X=u[z];if(dr(X[0],this,L))return dr(X[1],this,L)}})}function lY(u){return rv(Po(u,p))}function lC(u){return function(){return u}}function cY(u,g){return u==null||u!==u?g:u}var uY=I(),fY=I(!0);function oa(u){return u}function cC(u){return ff(typeof u=="function"?u:Po(u,p))}function dY(u){return $d(Po(u,p))}function hY(u,g){return $p(u,Po(g,p))}var pY=$t(function(u,g){return function(E){return sr(E,u,g)}}),mY=$t(function(u,g){return function(E){return sr(u,E,g)}});function uC(u,g,E){var L=Fi(g),z=Uc(g,L);E==null&&!(Or(g)&&(z.length||!L.length))&&(E=g,g=u,u=this,z=Uc(g,Fi(g)));var X=!(Or(E)&&"chain"in E)||!!E.chain,le=Vc(u);return Zr(z,function(ce){var me=g[ce];u[ce]=me,le&&(u.prototype[ce]=function(){var Be=this.__chain__;if(X||Be){var He=u(this.__wrapped__),Xe=He.__actions__=Ni(this.__actions__);return Xe.push({func:me,args:arguments,thisArg:u}),He.__chain__=Be,He}return me.apply(u,Aa([this.value()],arguments))})}),u}function gY(){return zr._===this&&(zr._=Pp),this}function fC(){}function vY(u){return u=xn(u),$t(function(g){return rl(g,u)})}var yY=Pe(or),xY=Pe(U0),bY=Pe(xd);function N4(u){return Y2(u)?fo(Kl(u)):Wp(u)}function _Y(u){return function(g){return u==null?n:Da(u,g)}}var wY=sn(),SY=sn(!0);function dC(){return[]}function hC(){return!1}function MY(){return{}}function EY(){return""}function CY(){return!0}function TY(u,g){if(u=xn(u),u<1||u>H)return[];var E=Q,L=Ri(u,Q);g=jt(g),u-=Q;for(var z=Js(L,g);++E<u;)g(E);return z}function AY(u){return hn(u)?or(u,Kl):Ua(u)?[u]:Ni(t4(Xn(u)))}function RY(u){var g=++V0;return Xn(u)+g}var PY=he(function(u,g){return u+g},0),IY=Rt("ceil"),LY=he(function(u,g){return u/g},1),OY=Rt("floor");function kY(u){return u&&u.length?Fd(u,oa,zd):n}function NY(u,g){return u&&u.length?Fd(u,jt(g,2),zd):n}function DY(u){return _d(u,oa)}function FY(u,g){return _d(u,jt(g,2))}function UY(u){return u&&u.length?Fd(u,oa,Bd):n}function zY(u,g){return u&&u.length?Fd(u,jt(g,2),Bd):n}var BY=he(function(u,g){return u*g},1),$Y=Rt("round"),HY=he(function(u,g){return u-g},0);function VY(u){return u&&u.length?Pa(u,oa):0}function WY(u,g){return u&&u.length?Pa(u,jt(g,2)):0}return W.after=dX,W.ary=d4,W.assign=JX,W.assignIn=C4,W.assignInWith=Bb,W.assignWith=eq,W.at=tq,W.before=h4,W.bind=tC,W.bindAll=aY,W.bindKey=p4,W.castArray=MX,W.chain=c4,W.chunk=OG,W.compact=kG,W.concat=NG,W.cond=sY,W.conforms=lY,W.constant=lC,W.countBy=Vj,W.create=nq,W.curry=m4,W.curryRight=g4,W.debounce=v4,W.defaults=rq,W.defaultsDeep=iq,W.defer=hX,W.delay=pX,W.difference=DG,W.differenceBy=FG,W.differenceWith=UG,W.drop=zG,W.dropRight=BG,W.dropRightWhile=$G,W.dropWhile=HG,W.fill=VG,W.filter=Gj,W.flatMap=qj,W.flatMapDeep=Yj,W.flatMapDepth=Kj,W.flatten=o4,W.flattenDeep=WG,W.flattenDepth=GG,W.flip=mX,W.flow=uY,W.flowRight=fY,W.fromPairs=jG,W.functions=fq,W.functionsIn=dq,W.groupBy=Zj,W.initial=qG,W.intersection=YG,W.intersectionBy=KG,W.intersectionWith=ZG,W.invert=pq,W.invertBy=mq,W.invokeMap=Jj,W.iteratee=cC,W.keyBy=eX,W.keys=Fi,W.keysIn=ia,W.map=kb,W.mapKeys=vq,W.mapValues=yq,W.matches=dY,W.matchesProperty=hY,W.memoize=Db,W.merge=xq,W.mergeWith=T4,W.method=pY,W.methodOf=mY,W.mixin=uC,W.negate=Fb,W.nthArg=vY,W.omit=bq,W.omitBy=_q,W.once=gX,W.orderBy=tX,W.over=yY,W.overArgs=vX,W.overEvery=xY,W.overSome=bY,W.partial=nC,W.partialRight=y4,W.partition=nX,W.pick=wq,W.pickBy=A4,W.property=N4,W.propertyOf=_Y,W.pull=tj,W.pullAll=s4,W.pullAllBy=nj,W.pullAllWith=rj,W.pullAt=ij,W.range=wY,W.rangeRight=SY,W.rearg=yX,W.reject=oX,W.remove=oj,W.rest=xX,W.reverse=J2,W.sampleSize=sX,W.set=Mq,W.setWith=Eq,W.shuffle=lX,W.slice=aj,W.sortBy=fX,W.sortedUniq=hj,W.sortedUniqBy=pj,W.split=qq,W.spread=bX,W.tail=mj,W.take=gj,W.takeRight=vj,W.takeRightWhile=yj,W.takeWhile=xj,W.tap=kj,W.throttle=_X,W.thru=Ob,W.toArray=S4,W.toPairs=R4,W.toPairsIn=P4,W.toPath=AY,W.toPlainObject=E4,W.transform=Cq,W.unary=wX,W.union=bj,W.unionBy=_j,W.unionWith=wj,W.uniq=Sj,W.uniqBy=Mj,W.uniqWith=Ej,W.unset=Tq,W.unzip=eC,W.unzipWith=l4,W.update=Aq,W.updateWith=Rq,W.values=em,W.valuesIn=Pq,W.without=Cj,W.words=O4,W.wrap=SX,W.xor=Tj,W.xorBy=Aj,W.xorWith=Rj,W.zip=Pj,W.zipObject=Ij,W.zipObjectDeep=Lj,W.zipWith=Oj,W.entries=R4,W.entriesIn=P4,W.extend=C4,W.extendWith=Bb,uC(W,W),W.add=PY,W.attempt=k4,W.camelCase=kq,W.capitalize=I4,W.ceil=IY,W.clamp=Iq,W.clone=EX,W.cloneDeep=TX,W.cloneDeepWith=AX,W.cloneWith=CX,W.conformsTo=RX,W.deburr=L4,W.defaultTo=cY,W.divide=LY,W.endsWith=Nq,W.eq=ol,W.escape=Dq,W.escapeRegExp=Fq,W.every=Wj,W.find=jj,W.findIndex=r4,W.findKey=oq,W.findLast=Xj,W.findLastIndex=i4,W.findLastKey=aq,W.floor=OY,W.forEach=u4,W.forEachRight=f4,W.forIn=sq,W.forInRight=lq,W.forOwn=cq,W.forOwnRight=uq,W.get=oC,W.gt=PX,W.gte=IX,W.has=hq,W.hasIn=aC,W.head=a4,W.identity=oa,W.includes=Qj,W.indexOf=XG,W.inRange=Lq,W.invoke=gq,W.isArguments=Yd,W.isArray=hn,W.isArrayBuffer=LX,W.isArrayLike=ra,W.isArrayLikeObject=ti,W.isBoolean=OX,W.isBuffer=pf,W.isDate=kX,W.isElement=NX,W.isEmpty=DX,W.isEqual=FX,W.isEqualWith=UX,W.isError=rC,W.isFinite=zX,W.isFunction=Vc,W.isInteger=x4,W.isLength=Ub,W.isMap=b4,W.isMatch=BX,W.isMatchWith=$X,W.isNaN=HX,W.isNative=VX,W.isNil=GX,W.isNull=WX,W.isNumber=_4,W.isObject=Or,W.isObjectLike=Vr,W.isPlainObject=_v,W.isRegExp=iC,W.isSafeInteger=jX,W.isSet=w4,W.isString=zb,W.isSymbol=Ua,W.isTypedArray=Jp,W.isUndefined=XX,W.isWeakMap=qX,W.isWeakSet=YX,W.join=QG,W.kebabCase=Uq,W.last=Ts,W.lastIndexOf=JG,W.lowerCase=zq,W.lowerFirst=Bq,W.lt=KX,W.lte=ZX,W.max=kY,W.maxBy=NY,W.mean=DY,W.meanBy=FY,W.min=UY,W.minBy=zY,W.stubArray=dC,W.stubFalse=hC,W.stubObject=MY,W.stubString=EY,W.stubTrue=CY,W.multiply=BY,W.nth=ej,W.noConflict=gY,W.noop=fC,W.now=Nb,W.pad=$q,W.padEnd=Hq,W.padStart=Vq,W.parseInt=Wq,W.random=Oq,W.reduce=rX,W.reduceRight=iX,W.repeat=Gq,W.replace=jq,W.result=Sq,W.round=$Y,W.runInContext=ue,W.sample=aX,W.size=cX,W.snakeCase=Xq,W.some=uX,W.sortedIndex=sj,W.sortedIndexBy=lj,W.sortedIndexOf=cj,W.sortedLastIndex=uj,W.sortedLastIndexBy=fj,W.sortedLastIndexOf=dj,W.startCase=Yq,W.startsWith=Kq,W.subtract=HY,W.sum=VY,W.sumBy=WY,W.template=Zq,W.times=TY,W.toFinite=Wc,W.toInteger=xn,W.toLength=M4,W.toLower=Qq,W.toNumber=As,W.toSafeInteger=QX,W.toString=Xn,W.toUpper=Jq,W.trim=eY,W.trimEnd=tY,W.trimStart=nY,W.truncate=rY,W.unescape=iY,W.uniqueId=RY,W.upperCase=oY,W.upperFirst=sC,W.each=u4,W.eachRight=f4,W.first=a4,uC(W,function(){var u={};return Io(W,function(g,E){Fn.call(W.prototype,E)||(u[E]=g)}),u}(),{chain:!1}),W.VERSION=r,Zr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){W[u].placeholder=W}),Zr(["drop","take"],function(u,g){Vt.prototype[u]=function(E){E=E===n?1:Jr(xn(E),0);var L=this.__filtered__&&!g?new Vt(this):this.clone();return L.__filtered__?L.__takeCount__=Ri(E,L.__takeCount__):L.__views__.push({size:Ri(E,Q),type:u+(L.__dir__<0?"Right":"")}),L},Vt.prototype[u+"Right"]=function(E){return this.reverse()[u](E).reverse()}}),Zr(["filter","map","takeWhile"],function(u,g){var E=g+1,L=E==G||E==ie;Vt.prototype[u]=function(z){var X=this.clone();return X.__iteratees__.push({iteratee:jt(z,3),type:E}),X.__filtered__=X.__filtered__||L,X}}),Zr(["head","last"],function(u,g){var E="take"+(g?"Right":"");Vt.prototype[u]=function(){return this[E](1).value()[0]}}),Zr(["initial","tail"],function(u,g){var E="drop"+(g?"":"Right");Vt.prototype[u]=function(){return this.__filtered__?new Vt(this):this[E](1)}}),Vt.prototype.compact=function(){return this.filter(oa)},Vt.prototype.find=function(u){return this.filter(u).head()},Vt.prototype.findLast=function(u){return this.reverse().find(u)},Vt.prototype.invokeMap=$t(function(u,g){return typeof u=="function"?new Vt(this):this.map(function(E){return sr(E,u,g)})}),Vt.prototype.reject=function(u){return this.filter(Fb(jt(u)))},Vt.prototype.slice=function(u,g){u=xn(u);var E=this;return E.__filtered__&&(u>0||g<0)?new Vt(E):(u<0?E=E.takeRight(-u):u&&(E=E.drop(u)),g!==n&&(g=xn(g),E=g<0?E.dropRight(-g):E.take(g-u)),E)},Vt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Vt.prototype.toArray=function(){return this.take(Q)},Io(Vt.prototype,function(u,g){var E=/^(?:filter|find|map|reject)|While$/.test(g),L=/^(?:head|last)$/.test(g),z=W[L?"take"+(g=="last"?"Right":""):g],X=L||/^find/.test(g);z&&(W.prototype[g]=function(){var le=this.__wrapped__,ce=L?[1]:arguments,me=le instanceof Vt,Be=ce[0],He=me||hn(le),Xe=function(Rn){var kn=z.apply(W,Aa([Rn],ce));return L&&vt?kn[0]:kn};He&&E&&typeof Be=="function"&&Be.length!=1&&(me=He=!1);var vt=this.__chain__,Ot=!!this.__actions__.length,Yt=X&&!vt,En=me&&!Ot;if(!X&&He){le=En?le:new Vt(this);var Kt=u.apply(le,ce);return Kt.__actions__.push({func:Ob,args:[Xe],thisArg:n}),new Pi(Kt,vt)}return Yt&&En?u.apply(this,ce):(Kt=this.thru(Xe),Yt?L?Kt.value()[0]:Kt.value():Kt)})}),Zr(["pop","push","shift","sort","splice","unshift"],function(u){var g=Fl[u],E=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",L=/^(?:pop|shift)$/.test(u);W.prototype[u]=function(){var z=arguments;if(L&&!this.__chain__){var X=this.value();return g.apply(hn(X)?X:[],z)}return this[E](function(le){return g.apply(hn(le)?le:[],z)})}}),Io(Vt.prototype,function(u,g){var E=W[g];if(E){var L=E.name+"";Fn.call(Nc,L)||(Nc[L]=[]),Nc[L].push({name:g,func:E})}}),Nc[D(n,y).name]=[{name:"wrapper",func:n}],Vt.prototype.clone=F2,Vt.prototype.reverse=U2,Vt.prototype.value=Ro,W.prototype.at=Nj,W.prototype.chain=Dj,W.prototype.commit=Fj,W.prototype.next=Uj,W.prototype.plant=Bj,W.prototype.reverse=$j,W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Hj,W.prototype.first=W.prototype.head,zl&&(W.prototype[zl]=zj),W},Dl=qx();yi?((yi.exports=Dl)._=Dl,N0._=Dl):zr._=Dl}).call(iu)})(kS,kS.exports);var Co=kS.exports;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ME="158",xde={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},bde={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},X$=0,PR=1,q$=2,_de=3,Y$=0,EE=1,Ly=2,ml=3,Mu=0,jo=1,xl=2,wde=2,gu=0,Oh=1,IR=2,LR=3,OR=4,K$=5,Rf=100,Z$=101,Q$=102,kR=103,NR=104,J$=200,e7=201,t7=202,n7=203,NS=204,DS=205,r7=206,i7=207,o7=208,a7=209,s7=210,l7=211,c7=212,u7=213,f7=214,d7=0,h7=1,p7=2,g1=3,m7=4,g7=5,v7=6,y7=7,sx=0,x7=1,b7=2,pc=0,_7=1,w7=2,S7=3,NI=4,M7=5,DR="attached",E7="detached",lx=300,Eu=301,Kf=302,v1=303,y1=304,m0=306,x1=1e3,Vi=1001,b1=1002,qr=1003,FS=1004,Sde=1004,Oy=1005,Mde=1005,ai=1006,DI=1007,Ede=1007,Zf=1008,Cde=1008,is=1009,C7=1010,T7=1011,CE=1012,FI=1013,fu=1014,Sl=1015,Yh=1016,UI=1017,zI=1018,$f=1020,A7=1021,Wo=1023,R7=1024,P7=1025,Hf=1026,Kh=1027,BI=1028,$I=1029,I7=1030,HI=1031,VI=1033,$w=33776,Hw=33777,Vw=33778,Ww=33779,FR=35840,UR=35841,zR=35842,BR=35843,L7=36196,$R=37492,HR=37496,VR=37808,WR=37809,GR=37810,jR=37811,XR=37812,qR=37813,YR=37814,KR=37815,ZR=37816,QR=37817,JR=37818,e3=37819,t3=37820,n3=37821,Gw=36492,r3=36494,i3=36495,O7=36283,o3=36284,a3=36285,s3=36286,k7=2200,N7=2201,D7=2202,_1=2300,w1=2301,jw=2302,_h=2400,wh=2401,S1=2402,TE=2500,WI=2501,Tde=0,Ade=1,Rde=2,GI=3e3,Vf=3001,F7=3200,U7=3201,cd=0,z7=1,Ka="",Mi="srgb",_c="srgb-linear",AE="display-p3",cx="display-p3-linear",M1="linear",mr="srgb",E1="rec709",C1="p3",Pde=0,ch=7680,Ide=7681,Lde=7682,Ode=7683,kde=34055,Nde=34056,Dde=5386,Fde=512,Ude=513,zde=514,Bde=515,$de=516,Hde=517,Vde=518,l3=519,B7=512,$7=513,H7=514,V7=515,W7=516,G7=517,j7=518,X7=519,T1=35044,Wde=35048,Gde=35040,jde=35045,Xde=35049,qde=35041,Yde=35046,Kde=35050,Zde=35042,Qde="100",c3="300 es",US=1035,ac=2e3,A1=2001;class Ou{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}const xo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let yN=1234567;const kh=Math.PI/180,t0=180/Math.PI;function os(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(xo[t&255]+xo[t>>8&255]+xo[t>>16&255]+xo[t>>24&255]+"-"+xo[e&255]+xo[e>>8&255]+"-"+xo[e>>16&15|64]+xo[e>>24&255]+"-"+xo[n&63|128]+xo[n>>8&255]+"-"+xo[n>>16&255]+xo[n>>24&255]+xo[r&255]+xo[r>>8&255]+xo[r>>16&255]+xo[r>>24&255]).toLowerCase()}function Yr(t,e,n){return Math.max(e,Math.min(n,t))}function jI(t,e){return(t%e+e)%e}function Jde(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function ehe(t,e,n){return t!==e?(n-t)/(e-t):0}function ky(t,e,n){return(1-n)*t+n*e}function the(t,e,n,r){return ky(t,e,1-Math.exp(-n*r))}function nhe(t,e=1){return e-Math.abs(jI(t,e*2)-e)}function rhe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function ihe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function ohe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function ahe(t,e){return t+Math.random()*(e-t)}function she(t){return t*(.5-Math.random())}function lhe(t){t!==void 0&&(yN=t);let e=yN+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function che(t){return t*kh}function uhe(t){return t*t0}function u3(t){return(t&t-1)===0&&t!==0}function q7(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function zS(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function fhe(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),f=a((e+r)/2),p=o((e-r)/2),m=a((e-r)/2),v=o((r-e)/2),x=a((r-e)/2);switch(i){case"XYX":t.set(s*f,l*p,l*m,s*c);break;case"YZY":t.set(l*m,s*f,l*p,s*c);break;case"ZXZ":t.set(l*p,l*m,s*f,s*c);break;case"XZX":t.set(s*f,l*x,l*v,s*c);break;case"YXY":t.set(l*v,s*f,l*x,s*c);break;case"ZYZ":t.set(l*x,l*v,s*f,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function fa(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function _n(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Y7={DEG2RAD:kh,RAD2DEG:t0,generateUUID:os,clamp:Yr,euclideanModulo:jI,mapLinear:Jde,inverseLerp:ehe,lerp:ky,damp:the,pingpong:nhe,smoothstep:rhe,smootherstep:ihe,randInt:ohe,randFloat:ahe,randFloatSpread:she,seededRandom:lhe,degToRad:che,radToDeg:uhe,isPowerOfTwo:u3,ceilPowerOfTwo:q7,floorPowerOfTwo:zS,setQuaternionFromProperEuler:fhe,normalize:_n,denormalize:fa};class ze{constructor(e=0,n=0){ze.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Yr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Cn{constructor(e,n,r,i,o,a,s,l,c){Cn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c)}set(e,n,r,i,o,a,s,l,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=s,f[3]=n,f[4]=o,f[5]=l,f[6]=r,f[7]=a,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],c=r[1],f=r[4],p=r[7],m=r[2],v=r[5],x=r[8],_=i[0],b=i[3],y=i[6],S=i[1],M=i[4],C=i[7],P=i[2],A=i[5],R=i[8];return o[0]=a*_+s*S+l*P,o[3]=a*b+s*M+l*A,o[6]=a*y+s*C+l*R,o[1]=c*_+f*S+p*P,o[4]=c*b+f*M+p*A,o[7]=c*y+f*C+p*R,o[2]=m*_+v*S+x*P,o[5]=m*b+v*M+x*A,o[8]=m*y+v*C+x*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],f=e[8];return n*a*f-n*s*c-r*o*f+r*s*l+i*o*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],f=e[8],p=f*a-s*c,m=s*l-f*o,v=c*o-a*l,x=n*p+r*m+i*v;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/x;return e[0]=p*_,e[1]=(i*c-f*r)*_,e[2]=(s*r-i*a)*_,e[3]=m*_,e[4]=(f*n-i*l)*_,e[5]=(i*o-s*n)*_,e[6]=v*_,e[7]=(r*l-c*n)*_,e[8]=(a*n-r*o)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*a+c*s)+a+e,-i*c,i*l,-i*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(QC.makeScale(e,n)),this}rotate(e){return this.premultiply(QC.makeRotation(-e)),this}translate(e,n){return this.premultiply(QC.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const QC=new Cn;function K7(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const dhe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function mg(t,e){return new dhe[t](e)}function R1(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Z7(){const t=R1("canvas");return t.style.display="block",t}const xN={};function Ny(t){t in xN||(xN[t]=!0,console.warn(t))}const bN=new Cn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),_N=new Cn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),h_={[_c]:{transfer:M1,primaries:E1,toReference:t=>t,fromReference:t=>t},[Mi]:{transfer:mr,primaries:E1,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[cx]:{transfer:M1,primaries:C1,toReference:t=>t.applyMatrix3(_N),fromReference:t=>t.applyMatrix3(bN)},[AE]:{transfer:mr,primaries:C1,toReference:t=>t.convertSRGBToLinear().applyMatrix3(_N),fromReference:t=>t.applyMatrix3(bN).convertLinearToSRGB()}},hhe=new Set([_c,cx]),Qn={enabled:!0,_workingColorSpace:_c,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!hhe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=h_[e].toReference,i=h_[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return h_[t].primaries},getTransfer:function(t){return t===Ka?M1:h_[t].transfer}};function Og(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function JC(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let cm;class XI{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{cm===void 0&&(cm=R1("canvas")),cm.width=e.width,cm.height=e.height;const r=cm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=cm}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=R1("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=Og(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Og(n[r]/255)*255):n[r]=Og(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let phe=0;class Sh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:phe++}),this.uuid=os(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(eT(i[a].image)):o.push(eT(i[a]))}else o=eT(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function eT(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?XI.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let mhe=0;class Kr extends Ou{constructor(e=Kr.DEFAULT_IMAGE,n=Kr.DEFAULT_MAPPING,r=Vi,i=Vi,o=ai,a=Zf,s=Wo,l=is,c=Kr.DEFAULT_ANISOTROPY,f=Ka){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mhe++}),this.uuid=os(),this.name="",this.source=new Sh(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new ze(0,0),this.repeat=new ze(1,1),this.center=new ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Cn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof f=="string"?this.colorSpace=f:(Ny("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===Vf?Mi:Ka),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==lx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case x1:e.x=e.x-Math.floor(e.x);break;case Vi:e.x=e.x<0?0:1;break;case b1:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case x1:e.y=e.y-Math.floor(e.y);break;case Vi:e.y=e.y<0?0:1;break;case b1:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Ny("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Mi?Vf:GI}set encoding(e){Ny("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Vf?Mi:Ka}}Kr.DEFAULT_IMAGE=null;Kr.DEFAULT_MAPPING=lx;Kr.DEFAULT_ANISOTROPY=1;class Yn{constructor(e=0,n=0,r=0,i=1){Yn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],f=l[4],p=l[8],m=l[1],v=l[5],x=l[9],_=l[2],b=l[6],y=l[10];if(Math.abs(f-m)<.01&&Math.abs(p-_)<.01&&Math.abs(x-b)<.01){if(Math.abs(f+m)<.1&&Math.abs(p+_)<.1&&Math.abs(x+b)<.1&&Math.abs(c+v+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const M=(c+1)/2,C=(v+1)/2,P=(y+1)/2,A=(f+m)/4,R=(p+_)/4,U=(x+b)/4;return M>C&&M>P?M<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(M),i=A/r,o=R/r):C>P?C<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(C),r=A/i,o=U/i):P<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(P),r=R/o,i=U/o),this.set(r,i,o,n),this}let S=Math.sqrt((b-x)*(b-x)+(p-_)*(p-_)+(m-f)*(m-f));return Math.abs(S)<.001&&(S=1),this.x=(b-x)/S,this.y=(p-_)/S,this.z=(m-f)/S,this.w=Math.acos((c+v+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Q7 extends Ou{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Yn(0,0,e,n),this.scissorTest=!1,this.viewport=new Yn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Ny("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Vf?Mi:Ka),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ai,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Kr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Sh(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Rl extends Q7{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class RE extends Kr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=qr,this.minFilter=qr,this.wrapR=Vi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ghe extends Rl{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new RE(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class qI extends Kr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=qr,this.minFilter=qr,this.wrapR=Vi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class vhe extends Rl{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new qI(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class yhe extends Rl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class ya{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],c=r[i+1],f=r[i+2],p=r[i+3];const m=o[a+0],v=o[a+1],x=o[a+2],_=o[a+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=f,e[n+3]=p;return}if(s===1){e[n+0]=m,e[n+1]=v,e[n+2]=x,e[n+3]=_;return}if(p!==_||l!==m||c!==v||f!==x){let b=1-s;const y=l*m+c*v+f*x+p*_,S=y>=0?1:-1,M=1-y*y;if(M>Number.EPSILON){const P=Math.sqrt(M),A=Math.atan2(P,y*S);b=Math.sin(b*A)/P,s=Math.sin(s*A)/P}const C=s*S;if(l=l*b+m*C,c=c*b+v*C,f=f*b+x*C,p=p*b+_*C,b===1-s){const P=1/Math.sqrt(l*l+c*c+f*f+p*p);l*=P,c*=P,f*=P,p*=P}}e[n]=l,e[n+1]=c,e[n+2]=f,e[n+3]=p}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],c=r[i+2],f=r[i+3],p=o[a],m=o[a+1],v=o[a+2],x=o[a+3];return e[n]=s*x+f*p+l*v-c*m,e[n+1]=l*x+f*m+c*p-s*v,e[n+2]=c*x+f*v+s*m-l*p,e[n+3]=f*x-s*p-l*m-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(r/2),f=s(i/2),p=s(o/2),m=l(r/2),v=l(i/2),x=l(o/2);switch(a){case"XYZ":this._x=m*f*p+c*v*x,this._y=c*v*p-m*f*x,this._z=c*f*x+m*v*p,this._w=c*f*p-m*v*x;break;case"YXZ":this._x=m*f*p+c*v*x,this._y=c*v*p-m*f*x,this._z=c*f*x-m*v*p,this._w=c*f*p+m*v*x;break;case"ZXY":this._x=m*f*p-c*v*x,this._y=c*v*p+m*f*x,this._z=c*f*x+m*v*p,this._w=c*f*p-m*v*x;break;case"ZYX":this._x=m*f*p-c*v*x,this._y=c*v*p+m*f*x,this._z=c*f*x-m*v*p,this._w=c*f*p+m*v*x;break;case"YZX":this._x=m*f*p+c*v*x,this._y=c*v*p+m*f*x,this._z=c*f*x-m*v*p,this._w=c*f*p-m*v*x;break;case"XZY":this._x=m*f*p-c*v*x,this._y=c*v*p-m*f*x,this._z=c*f*x+m*v*p,this._w=c*f*p+m*v*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],f=n[6],p=n[10],m=r+s+p;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(f-l)*v,this._y=(o-c)*v,this._z=(a-i)*v}else if(r>s&&r>p){const v=2*Math.sqrt(1+r-s-p);this._w=(f-l)/v,this._x=.25*v,this._y=(i+a)/v,this._z=(o+c)/v}else if(s>p){const v=2*Math.sqrt(1+s-r-p);this._w=(o-c)/v,this._x=(i+a)/v,this._y=.25*v,this._z=(l+f)/v}else{const v=2*Math.sqrt(1+p-r-s);this._w=(a-i)/v,this._x=(o+c)/v,this._y=(l+f)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Yr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,f=n._w;return this._x=r*f+a*s+i*c-o*l,this._y=i*f+a*l+o*s-r*c,this._z=o*f+a*c+r*l-i*s,this._w=a*f-r*s-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const v=1-n;return this._w=v*a+n*this._w,this._x=v*r+n*this._x,this._y=v*i+n*this._y,this._z=v*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),f=Math.atan2(c,s),p=Math.sin((1-n)*f)/c,m=Math.sin(n*f)/c;return this._w=a*p+this._w*m,this._x=r*p+this._x*m,this._y=i*p+this._y*m,this._z=o*p+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,n=0,r=0){K.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(wN.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(wN.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*i-s*r),f=2*(s*n-o*i),p=2*(o*r-a*n);return this.x=n+l*c+a*p-s*f,this.y=r+l*f+s*c-o*p,this.z=i+l*p+o*f-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return tT.copy(this).projectOnVector(e),this.sub(tT)}reflect(e){return this.sub(tT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Yr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const tT=new K,wN=new ya;class Ys{constructor(e=new K(1/0,1/0,1/0),n=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ll.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ll.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ll.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,ll):ll.fromBufferAttribute(o,a),ll.applyMatrix4(e.matrixWorld),this.expandByPoint(ll);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),p_.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),p_.copy(r.boundingBox)),p_.applyMatrix4(e.matrixWorld),this.union(p_)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ll),ll.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Dv),m_.subVectors(this.max,Dv),um.subVectors(e.a,Dv),fm.subVectors(e.b,Dv),dm.subVectors(e.c,Dv),gf.subVectors(fm,um),vf.subVectors(dm,fm),Kd.subVectors(um,dm);let n=[0,-gf.z,gf.y,0,-vf.z,vf.y,0,-Kd.z,Kd.y,gf.z,0,-gf.x,vf.z,0,-vf.x,Kd.z,0,-Kd.x,-gf.y,gf.x,0,-vf.y,vf.x,0,-Kd.y,Kd.x,0];return!nT(n,um,fm,dm,m_)||(n=[1,0,0,0,1,0,0,0,1],!nT(n,um,fm,dm,m_))?!1:(g_.crossVectors(gf,vf),n=[g_.x,g_.y,g_.z],nT(n,um,fm,dm,m_))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ll).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ll).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Xc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Xc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Xc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Xc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Xc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Xc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Xc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Xc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Xc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Xc=[new K,new K,new K,new K,new K,new K,new K,new K],ll=new K,p_=new Ys,um=new K,fm=new K,dm=new K,gf=new K,vf=new K,Kd=new K,Dv=new K,m_=new K,g_=new K,Zd=new K;function nT(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){Zd.fromArray(t,o);const s=i.x*Math.abs(Zd.x)+i.y*Math.abs(Zd.y)+i.z*Math.abs(Zd.z),l=e.dot(Zd),c=n.dot(Zd),f=r.dot(Zd);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>s)return!1}return!0}const xhe=new Ys,Fv=new K,rT=new K;class Pl{constructor(e=new K,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):xhe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Fv.subVectors(e,this.center);const n=Fv.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Fv,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(rT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Fv.copy(e.center).add(rT)),this.expandByPoint(Fv.copy(e.center).sub(rT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const qc=new K,iT=new K,v_=new K,yf=new K,oT=new K,y_=new K,aT=new K;let g0=class{constructor(e=new K,n=new K(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,qc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=qc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(qc.copy(this.origin).addScaledVector(this.direction,n),qc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){iT.copy(e).add(n).multiplyScalar(.5),v_.copy(n).sub(e).normalize(),yf.copy(this.origin).sub(iT);const o=e.distanceTo(n)*.5,a=-this.direction.dot(v_),s=yf.dot(this.direction),l=-yf.dot(v_),c=yf.lengthSq(),f=Math.abs(1-a*a);let p,m,v,x;if(f>0)if(p=a*l-s,m=a*s-l,x=o*f,p>=0)if(m>=-x)if(m<=x){const _=1/f;p*=_,m*=_,v=p*(p+a*m+2*s)+m*(a*p+m+2*l)+c}else m=o,p=Math.max(0,-(a*m+s)),v=-p*p+m*(m+2*l)+c;else m=-o,p=Math.max(0,-(a*m+s)),v=-p*p+m*(m+2*l)+c;else m<=-x?(p=Math.max(0,-(-a*o+s)),m=p>0?-o:Math.min(Math.max(-o,-l),o),v=-p*p+m*(m+2*l)+c):m<=x?(p=0,m=Math.min(Math.max(-o,-l),o),v=m*(m+2*l)+c):(p=Math.max(0,-(a*o+s)),m=p>0?o:Math.min(Math.max(-o,-l),o),v=-p*p+m*(m+2*l)+c);else m=a>0?-o:o,p=Math.max(0,-(a*m+s)),v=-p*p+m*(m+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(iT).addScaledVector(v_,m),v}intersectSphere(e,n){qc.subVectors(e.center,this.origin);const r=qc.dot(this.direction),i=qc.dot(qc)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const c=1/this.direction.x,f=1/this.direction.y,p=1/this.direction.z,m=this.origin;return c>=0?(r=(e.min.x-m.x)*c,i=(e.max.x-m.x)*c):(r=(e.max.x-m.x)*c,i=(e.min.x-m.x)*c),f>=0?(o=(e.min.y-m.y)*f,a=(e.max.y-m.y)*f):(o=(e.max.y-m.y)*f,a=(e.min.y-m.y)*f),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),p>=0?(s=(e.min.z-m.z)*p,l=(e.max.z-m.z)*p):(s=(e.max.z-m.z)*p,l=(e.min.z-m.z)*p),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,qc)!==null}intersectTriangle(e,n,r,i,o){oT.subVectors(n,e),y_.subVectors(r,e),aT.crossVectors(oT,y_);let a=this.direction.dot(aT),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;yf.subVectors(this.origin,e);const l=s*this.direction.dot(y_.crossVectors(yf,y_));if(l<0)return null;const c=s*this.direction.dot(oT.cross(yf));if(c<0||l+c>a)return null;const f=-s*yf.dot(aT);return f<0?null:this.at(f/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}};class dn{constructor(e,n,r,i,o,a,s,l,c,f,p,m,v,x,_,b){dn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c,f,p,m,v,x,_,b)}set(e,n,r,i,o,a,s,l,c,f,p,m,v,x,_,b){const y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=o,y[5]=a,y[9]=s,y[13]=l,y[2]=c,y[6]=f,y[10]=p,y[14]=m,y[3]=v,y[7]=x,y[11]=_,y[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/hm.setFromMatrixColumn(e,0).length(),o=1/hm.setFromMatrixColumn(e,1).length(),a=1/hm.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),f=Math.cos(o),p=Math.sin(o);if(e.order==="XYZ"){const m=a*f,v=a*p,x=s*f,_=s*p;n[0]=l*f,n[4]=-l*p,n[8]=c,n[1]=v+x*c,n[5]=m-_*c,n[9]=-s*l,n[2]=_-m*c,n[6]=x+v*c,n[10]=a*l}else if(e.order==="YXZ"){const m=l*f,v=l*p,x=c*f,_=c*p;n[0]=m+_*s,n[4]=x*s-v,n[8]=a*c,n[1]=a*p,n[5]=a*f,n[9]=-s,n[2]=v*s-x,n[6]=_+m*s,n[10]=a*l}else if(e.order==="ZXY"){const m=l*f,v=l*p,x=c*f,_=c*p;n[0]=m-_*s,n[4]=-a*p,n[8]=x+v*s,n[1]=v+x*s,n[5]=a*f,n[9]=_-m*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const m=a*f,v=a*p,x=s*f,_=s*p;n[0]=l*f,n[4]=x*c-v,n[8]=m*c+_,n[1]=l*p,n[5]=_*c+m,n[9]=v*c-x,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const m=a*l,v=a*c,x=s*l,_=s*c;n[0]=l*f,n[4]=_-m*p,n[8]=x*p+v,n[1]=p,n[5]=a*f,n[9]=-s*f,n[2]=-c*f,n[6]=v*p+x,n[10]=m-_*p}else if(e.order==="XZY"){const m=a*l,v=a*c,x=s*l,_=s*c;n[0]=l*f,n[4]=-p,n[8]=c*f,n[1]=m*p+_,n[5]=a*f,n[9]=v*p-x,n[2]=x*p-v,n[6]=s*f,n[10]=_*p+m}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(bhe,e,_he)}lookAt(e,n,r){const i=this.elements;return $a.subVectors(e,n),$a.lengthSq()===0&&($a.z=1),$a.normalize(),xf.crossVectors(r,$a),xf.lengthSq()===0&&(Math.abs(r.z)===1?$a.x+=1e-4:$a.z+=1e-4,$a.normalize(),xf.crossVectors(r,$a)),xf.normalize(),x_.crossVectors($a,xf),i[0]=xf.x,i[4]=x_.x,i[8]=$a.x,i[1]=xf.y,i[5]=x_.y,i[9]=$a.y,i[2]=xf.z,i[6]=x_.z,i[10]=$a.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],c=r[12],f=r[1],p=r[5],m=r[9],v=r[13],x=r[2],_=r[6],b=r[10],y=r[14],S=r[3],M=r[7],C=r[11],P=r[15],A=i[0],R=i[4],U=i[8],O=i[12],N=i[1],B=i[5],Y=i[9],J=i[13],G=i[2],ne=i[6],ie=i[10],se=i[14],H=i[3],q=i[7],te=i[11],Q=i[15];return o[0]=a*A+s*N+l*G+c*H,o[4]=a*R+s*B+l*ne+c*q,o[8]=a*U+s*Y+l*ie+c*te,o[12]=a*O+s*J+l*se+c*Q,o[1]=f*A+p*N+m*G+v*H,o[5]=f*R+p*B+m*ne+v*q,o[9]=f*U+p*Y+m*ie+v*te,o[13]=f*O+p*J+m*se+v*Q,o[2]=x*A+_*N+b*G+y*H,o[6]=x*R+_*B+b*ne+y*q,o[10]=x*U+_*Y+b*ie+y*te,o[14]=x*O+_*J+b*se+y*Q,o[3]=S*A+M*N+C*G+P*H,o[7]=S*R+M*B+C*ne+P*q,o[11]=S*U+M*Y+C*ie+P*te,o[15]=S*O+M*J+C*se+P*Q,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],f=e[2],p=e[6],m=e[10],v=e[14],x=e[3],_=e[7],b=e[11],y=e[15];return x*(+o*l*p-i*c*p-o*s*m+r*c*m+i*s*v-r*l*v)+_*(+n*l*v-n*c*m+o*a*m-i*a*v+i*c*f-o*l*f)+b*(+n*c*p-n*s*v-o*a*p+r*a*v+o*s*f-r*c*f)+y*(-i*s*f-n*l*p+n*s*m+i*a*p-r*a*m+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],f=e[8],p=e[9],m=e[10],v=e[11],x=e[12],_=e[13],b=e[14],y=e[15],S=p*b*c-_*m*c+_*l*v-s*b*v-p*l*y+s*m*y,M=x*m*c-f*b*c-x*l*v+a*b*v+f*l*y-a*m*y,C=f*_*c-x*p*c+x*s*v-a*_*v-f*s*y+a*p*y,P=x*p*l-f*_*l-x*s*m+a*_*m+f*s*b-a*p*b,A=n*S+r*M+i*C+o*P;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/A;return e[0]=S*R,e[1]=(_*m*o-p*b*o-_*i*v+r*b*v+p*i*y-r*m*y)*R,e[2]=(s*b*o-_*l*o+_*i*c-r*b*c-s*i*y+r*l*y)*R,e[3]=(p*l*o-s*m*o-p*i*c+r*m*c+s*i*v-r*l*v)*R,e[4]=M*R,e[5]=(f*b*o-x*m*o+x*i*v-n*b*v-f*i*y+n*m*y)*R,e[6]=(x*l*o-a*b*o-x*i*c+n*b*c+a*i*y-n*l*y)*R,e[7]=(a*m*o-f*l*o+f*i*c-n*m*c-a*i*v+n*l*v)*R,e[8]=C*R,e[9]=(x*p*o-f*_*o-x*r*v+n*_*v+f*r*y-n*p*y)*R,e[10]=(a*_*o-x*s*o+x*r*c-n*_*c-a*r*y+n*s*y)*R,e[11]=(f*s*o-a*p*o-f*r*c+n*p*c+a*r*v-n*s*v)*R,e[12]=P*R,e[13]=(f*_*i-x*p*i+x*r*m-n*_*m-f*r*b+n*p*b)*R,e[14]=(x*s*i-a*_*i-x*r*l+n*_*l+a*r*b-n*s*b)*R,e[15]=(a*p*i-f*s*i+f*r*l-n*p*l-a*r*m+n*s*m)*R,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,c=o*a,f=o*s;return this.set(c*a+r,c*s-i*l,c*l+i*s,0,c*s+i*l,f*s+r,f*l-i*a,0,c*l-i*s,f*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,f=a+a,p=s+s,m=o*c,v=o*f,x=o*p,_=a*f,b=a*p,y=s*p,S=l*c,M=l*f,C=l*p,P=r.x,A=r.y,R=r.z;return i[0]=(1-(_+y))*P,i[1]=(v+C)*P,i[2]=(x-M)*P,i[3]=0,i[4]=(v-C)*A,i[5]=(1-(m+y))*A,i[6]=(b+S)*A,i[7]=0,i[8]=(x+M)*R,i[9]=(b-S)*R,i[10]=(1-(m+_))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=hm.set(i[0],i[1],i[2]).length();const a=hm.set(i[4],i[5],i[6]).length(),s=hm.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],cl.copy(this);const c=1/o,f=1/a,p=1/s;return cl.elements[0]*=c,cl.elements[1]*=c,cl.elements[2]*=c,cl.elements[4]*=f,cl.elements[5]*=f,cl.elements[6]*=f,cl.elements[8]*=p,cl.elements[9]*=p,cl.elements[10]*=p,n.setFromRotationMatrix(cl),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=ac){const l=this.elements,c=2*o/(n-e),f=2*o/(r-i),p=(n+e)/(n-e),m=(r+i)/(r-i);let v,x;if(s===ac)v=-(a+o)/(a-o),x=-2*a*o/(a-o);else if(s===A1)v=-a/(a-o),x=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=f,l[9]=m,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=x,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=ac){const l=this.elements,c=1/(n-e),f=1/(r-i),p=1/(a-o),m=(n+e)*c,v=(r+i)*f;let x,_;if(s===ac)x=(a+o)*p,_=-2*p;else if(s===A1)x=o*p,_=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-m,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=_,l[14]=-x,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const hm=new K,cl=new dn,bhe=new K(0,0,0),_he=new K(1,1,1),xf=new K,x_=new K,$a=new K,SN=new dn,MN=new ya;class ux{constructor(e=0,n=0,r=0,i=ux.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],f=i[9],p=i[2],m=i[6],v=i[10];switch(n){case"XYZ":this._y=Math.asin(Yr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-f,v),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(m,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Yr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(s,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-p,o),this._z=0);break;case"ZXY":this._x=Math.asin(Yr(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Yr(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Yr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-p,o)):(this._x=0,this._y=Math.atan2(s,v));break;case"XZY":this._z=Math.asin(-Yr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(m,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-f,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return SN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(SN,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return MN.setFromEuler(this),this.setFromQuaternion(MN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ux.DEFAULT_ORDER="XYZ";class Nh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let whe=0;const EN=new K,pm=new ya,Yc=new dn,b_=new K,Uv=new K,She=new K,Mhe=new ya,CN=new K(1,0,0),TN=new K(0,1,0),AN=new K(0,0,1),Ehe={type:"added"},Che={type:"removed"};class $n extends Ou{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:whe++}),this.uuid=os(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=$n.DEFAULT_UP.clone();const e=new K,n=new ux,r=new ya,i=new K(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new dn},normalMatrix:{value:new Cn}}),this.matrix=new dn,this.matrixWorld=new dn,this.matrixAutoUpdate=$n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=$n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Nh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return pm.setFromAxisAngle(e,n),this.quaternion.multiply(pm),this}rotateOnWorldAxis(e,n){return pm.setFromAxisAngle(e,n),this.quaternion.premultiply(pm),this}rotateX(e){return this.rotateOnAxis(CN,e)}rotateY(e){return this.rotateOnAxis(TN,e)}rotateZ(e){return this.rotateOnAxis(AN,e)}translateOnAxis(e,n){return EN.copy(e).applyQuaternion(this.quaternion),this.position.add(EN.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(CN,e)}translateY(e){return this.translateOnAxis(TN,e)}translateZ(e){return this.translateOnAxis(AN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Yc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?b_.copy(e):b_.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Uv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Yc.lookAt(Uv,b_,this.up):Yc.lookAt(b_,Uv,this.up),this.quaternion.setFromRotationMatrix(Yc),i&&(Yc.extractRotation(i.matrixWorld),pm.setFromRotationMatrix(Yc),this.quaternion.premultiply(pm.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ehe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Che)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Yc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Yc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Yc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,o=this.children.length;i<o;i++){const a=this.children[i].getObjectsByProperty(e,n);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Uv,e,She),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Uv,Mhe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++){const s=i[o];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const p=l[c];o(e.shapes,p)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),f=a(e.images),p=a(e.shapes),m=a(e.skeletons),v=a(e.animations),x=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),p.length>0&&(r.shapes=p),m.length>0&&(r.skeletons=m),v.length>0&&(r.animations=v),x.length>0&&(r.nodes=x)}return r.object=i,r;function a(s){const l=[];for(const c in s){const f=s[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}$n.DEFAULT_UP=new K(0,1,0);$n.DEFAULT_MATRIX_AUTO_UPDATE=!0;$n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ul=new K,Kc=new K,sT=new K,Zc=new K,mm=new K,gm=new K,RN=new K,lT=new K,cT=new K,uT=new K;let __=!1;class ua{constructor(e=new K,n=new K,r=new K){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ul.subVectors(e,n),i.cross(ul);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){ul.subVectors(i,n),Kc.subVectors(r,n),sT.subVectors(e,n);const a=ul.dot(ul),s=ul.dot(Kc),l=ul.dot(sT),c=Kc.dot(Kc),f=Kc.dot(sT),p=a*c-s*s;if(p===0)return o.set(-2,-1,-1);const m=1/p,v=(c*l-s*f)*m,x=(a*f-s*l)*m;return o.set(1-v-x,x,v)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Zc),Zc.x>=0&&Zc.y>=0&&Zc.x+Zc.y<=1}static getUV(e,n,r,i,o,a,s,l){return __===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),__=!0),this.getInterpolation(e,n,r,i,o,a,s,l)}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,Zc),l.setScalar(0),l.addScaledVector(o,Zc.x),l.addScaledVector(a,Zc.y),l.addScaledVector(s,Zc.z),l}static isFrontFacing(e,n,r,i){return ul.subVectors(r,n),Kc.subVectors(e,n),ul.cross(Kc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ul.subVectors(this.c,this.b),Kc.subVectors(this.a,this.b),ul.cross(Kc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ua.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ua.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return __===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),__=!0),ua.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}getInterpolation(e,n,r,i,o){return ua.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return ua.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ua.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;mm.subVectors(i,r),gm.subVectors(o,r),lT.subVectors(e,r);const l=mm.dot(lT),c=gm.dot(lT);if(l<=0&&c<=0)return n.copy(r);cT.subVectors(e,i);const f=mm.dot(cT),p=gm.dot(cT);if(f>=0&&p<=f)return n.copy(i);const m=l*p-f*c;if(m<=0&&l>=0&&f<=0)return a=l/(l-f),n.copy(r).addScaledVector(mm,a);uT.subVectors(e,o);const v=mm.dot(uT),x=gm.dot(uT);if(x>=0&&v<=x)return n.copy(o);const _=v*c-l*x;if(_<=0&&c>=0&&x<=0)return s=c/(c-x),n.copy(r).addScaledVector(gm,s);const b=f*x-v*p;if(b<=0&&p-f>=0&&v-x>=0)return RN.subVectors(o,i),s=(p-f)/(p-f+(v-x)),n.copy(i).addScaledVector(RN,s);const y=1/(b+_+m);return a=_*y,s=m*y,n.copy(r).addScaledVector(mm,a).addScaledVector(gm,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const J7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bf={h:0,s:0,l:0},w_={h:0,s:0,l:0};function fT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let _t=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Mi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Qn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Qn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Qn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Qn.workingColorSpace){if(e=jI(e,1),n=Yr(n,0,1),r=Yr(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=fT(a,o,e+1/3),this.g=fT(a,o,e),this.b=fT(a,o,e-1/3)}return Qn.toWorkingColorSpace(this,i),this}setStyle(e,n=Mi){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Mi){const r=J7[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Og(e.r),this.g=Og(e.g),this.b=Og(e.b),this}copyLinearToSRGB(e){return this.r=JC(e.r),this.g=JC(e.g),this.b=JC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Mi){return Qn.fromWorkingColorSpace(bo.copy(this),e),Math.round(Yr(bo.r*255,0,255))*65536+Math.round(Yr(bo.g*255,0,255))*256+Math.round(Yr(bo.b*255,0,255))}getHexString(e=Mi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Qn.workingColorSpace){Qn.fromWorkingColorSpace(bo.copy(this),n);const r=bo.r,i=bo.g,o=bo.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,c;const f=(s+a)/2;if(s===a)l=0,c=0;else{const p=a-s;switch(c=f<=.5?p/(a+s):p/(2-a-s),a){case r:l=(i-o)/p+(i<o?6:0);break;case i:l=(o-r)/p+2;break;case o:l=(r-i)/p+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,n=Qn.workingColorSpace){return Qn.fromWorkingColorSpace(bo.copy(this),n),e.r=bo.r,e.g=bo.g,e.b=bo.b,e}getStyle(e=Mi){Qn.fromWorkingColorSpace(bo.copy(this),e);const n=bo.r,r=bo.g,i=bo.b;return e!==Mi?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(bf),this.setHSL(bf.h+e,bf.s+n,bf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(bf),e.getHSL(w_);const r=ky(bf.h,w_.h,n),i=ky(bf.s,w_.s,n),o=ky(bf.l,w_.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const bo=new _t;_t.NAMES=J7;let The=0,so=class extends Ou{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:The++}),this.uuid=os(),this.name="",this.type="Material",this.blending=Oh,this.side=Mu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=NS,this.blendDst=DS,this.blendEquation=Rf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new _t(0,0,0),this.blendAlpha=0,this.depthFunc=g1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=l3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ch,this.stencilZFail=ch,this.stencilZPass=ch,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Oh&&(r.blending=this.blending),this.side!==Mu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==NS&&(r.blendSrc=this.blendSrc),this.blendDst!==DS&&(r.blendDst=this.blendDst),this.blendEquation!==Rf&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==g1&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==l3&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ch&&(r.stencilFail=this.stencilFail),this.stencilZFail!==ch&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==ch&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};class ud extends so{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new _t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=sx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const su=Ahe();function Ahe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;!(c&8388608);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,o[l]=c|f}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function aa(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Yr(t,-65504,65504),su.floatView[0]=t;const e=su.uint32View[0],n=e>>23&511;return su.baseTable[n]+((e&8388607)>>su.shiftTable[n])}function cy(t){const e=t>>10;return su.uint32View[0]=su.mantissaTable[su.offsetTable[e]+(t&1023)]+su.exponentTable[e],su.floatView[0]}const Rhe={toHalfFloat:aa,fromHalfFloat:cy},mi=new K,S_=new ze;class lr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=T1,this.updateRange={offset:0,count:-1},this.gpuType=Sl,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)S_.fromBufferAttribute(this,n),S_.applyMatrix3(e),this.setXY(n,S_.x,S_.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.applyMatrix3(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.applyMatrix4(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.applyNormalMatrix(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.transformDirection(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=fa(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=_n(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=fa(n,this.array)),n}setX(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=fa(n,this.array)),n}setY(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=fa(n,this.array)),n}setZ(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=fa(n,this.array)),n}setW(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array),o=_n(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==T1&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Phe extends lr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Ihe extends lr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Lhe extends lr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Ohe extends lr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class YI extends lr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class khe extends lr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class KI extends lr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Nhe extends lr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=cy(this.array[e*this.itemSize]);return this.normalized&&(n=fa(n,this.array)),n}setX(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize]=aa(n),this}getY(e){let n=cy(this.array[e*this.itemSize+1]);return this.normalized&&(n=fa(n,this.array)),n}setY(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+1]=aa(n),this}getZ(e){let n=cy(this.array[e*this.itemSize+2]);return this.normalized&&(n=fa(n,this.array)),n}setZ(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+2]=aa(n),this}getW(e){let n=cy(this.array[e*this.itemSize+3]);return this.normalized&&(n=fa(n,this.array)),n}setW(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+3]=aa(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array)),this.array[e+0]=aa(n),this.array[e+1]=aa(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array)),this.array[e+0]=aa(n),this.array[e+1]=aa(r),this.array[e+2]=aa(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array),o=_n(o,this.array)),this.array[e+0]=aa(n),this.array[e+1]=aa(r),this.array[e+2]=aa(i),this.array[e+3]=aa(o),this}}class It extends lr{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Dhe extends lr{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Fhe=0;const Rs=new dn,dT=new $n,vm=new K,Ha=new Ys,zv=new Ys,Ui=new K;class Tn extends Ou{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Fhe++}),this.uuid=os(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(K7(e)?KI:YI)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Cn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Rs.makeRotationFromQuaternion(e),this.applyMatrix4(Rs),this}rotateX(e){return Rs.makeRotationX(e),this.applyMatrix4(Rs),this}rotateY(e){return Rs.makeRotationY(e),this.applyMatrix4(Rs),this}rotateZ(e){return Rs.makeRotationZ(e),this.applyMatrix4(Rs),this}translate(e,n,r){return Rs.makeTranslation(e,n,r),this.applyMatrix4(Rs),this}scale(e,n,r){return Rs.makeScale(e,n,r),this.applyMatrix4(Rs),this}lookAt(e){return dT.lookAt(e),dT.updateMatrix(),this.applyMatrix4(dT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vm).negate(),this.translate(vm.x,vm.y,vm.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new It(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ys);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Ha.setFromBufferAttribute(o),this.morphTargetsRelative?(Ui.addVectors(this.boundingBox.min,Ha.min),this.boundingBox.expandByPoint(Ui),Ui.addVectors(this.boundingBox.max,Ha.max),this.boundingBox.expandByPoint(Ui)):(this.boundingBox.expandByPoint(Ha.min),this.boundingBox.expandByPoint(Ha.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Pl);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new K,1/0);return}if(e){const r=this.boundingSphere.center;if(Ha.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];zv.setFromBufferAttribute(s),this.morphTargetsRelative?(Ui.addVectors(Ha.min,zv.min),Ha.expandByPoint(Ui),Ui.addVectors(Ha.max,zv.max),Ha.expandByPoint(Ui)):(Ha.expandByPoint(zv.min),Ha.expandByPoint(zv.max))}Ha.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Ui.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Ui));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,f=s.count;c<f;c++)Ui.fromBufferAttribute(s,c),l&&(vm.fromBufferAttribute(e,c),Ui.add(vm)),i=Math.max(i,r.distanceToSquared(Ui))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,a=n.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new lr(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,c=[],f=[];for(let N=0;N<s;N++)c[N]=new K,f[N]=new K;const p=new K,m=new K,v=new K,x=new ze,_=new ze,b=new ze,y=new K,S=new K;function M(N,B,Y){p.fromArray(i,N*3),m.fromArray(i,B*3),v.fromArray(i,Y*3),x.fromArray(a,N*2),_.fromArray(a,B*2),b.fromArray(a,Y*2),m.sub(p),v.sub(p),_.sub(x),b.sub(x);const J=1/(_.x*b.y-b.x*_.y);isFinite(J)&&(y.copy(m).multiplyScalar(b.y).addScaledVector(v,-_.y).multiplyScalar(J),S.copy(v).multiplyScalar(_.x).addScaledVector(m,-b.x).multiplyScalar(J),c[N].add(y),c[B].add(y),c[Y].add(y),f[N].add(S),f[B].add(S),f[Y].add(S))}let C=this.groups;C.length===0&&(C=[{start:0,count:r.length}]);for(let N=0,B=C.length;N<B;++N){const Y=C[N],J=Y.start,G=Y.count;for(let ne=J,ie=J+G;ne<ie;ne+=3)M(r[ne+0],r[ne+1],r[ne+2])}const P=new K,A=new K,R=new K,U=new K;function O(N){R.fromArray(o,N*3),U.copy(R);const B=c[N];P.copy(B),P.sub(R.multiplyScalar(R.dot(B))).normalize(),A.crossVectors(U,B);const J=A.dot(f[N])<0?-1:1;l[N*4]=P.x,l[N*4+1]=P.y,l[N*4+2]=P.z,l[N*4+3]=J}for(let N=0,B=C.length;N<B;++N){const Y=C[N],J=Y.start,G=Y.count;for(let ne=J,ie=J+G;ne<ie;ne+=3)O(r[ne+0]),O(r[ne+1]),O(r[ne+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new lr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let m=0,v=r.count;m<v;m++)r.setXYZ(m,0,0,0);const i=new K,o=new K,a=new K,s=new K,l=new K,c=new K,f=new K,p=new K;if(e)for(let m=0,v=e.count;m<v;m+=3){const x=e.getX(m+0),_=e.getX(m+1),b=e.getX(m+2);i.fromBufferAttribute(n,x),o.fromBufferAttribute(n,_),a.fromBufferAttribute(n,b),f.subVectors(a,o),p.subVectors(i,o),f.cross(p),s.fromBufferAttribute(r,x),l.fromBufferAttribute(r,_),c.fromBufferAttribute(r,b),s.add(f),l.add(f),c.add(f),r.setXYZ(x,s.x,s.y,s.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(b,c.x,c.y,c.z)}else for(let m=0,v=n.count;m<v;m+=3)i.fromBufferAttribute(n,m+0),o.fromBufferAttribute(n,m+1),a.fromBufferAttribute(n,m+2),f.subVectors(a,o),p.subVectors(i,o),f.cross(p),r.setXYZ(m+0,f.x,f.y,f.z),r.setXYZ(m+1,f.x,f.y,f.z),r.setXYZ(m+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ui.fromBufferAttribute(e,n),Ui.normalize(),e.setXYZ(n,Ui.x,Ui.y,Ui.z)}toNonIndexed(){function e(s,l){const c=s.array,f=s.itemSize,p=s.normalized,m=new c.constructor(l.length*f);let v=0,x=0;for(let _=0,b=l.length;_<b;_++){s.isInterleavedBufferAttribute?v=l[_]*s.data.stride+s.offset:v=l[_]*f;for(let y=0;y<f;y++)m[x++]=c[v++]}return new lr(m,f,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Tn,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let f=0,p=c.length;f<p;f++){const m=c[f],v=e(m,r);l.push(v)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let p=0,m=c.length;p<m;p++){const v=c[p];f.push(v.toJSON(e.data))}f.length>0&&(i[l]=f,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const f=i[c];this.setAttribute(c,f.clone(n))}const o=e.morphAttributes;for(const c in o){const f=[],p=o[c];for(let m=0,v=p.length;m<v;m++)f.push(p[m].clone(n));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,f=a.length;c<f;c++){const p=a[c];this.addGroup(p.start,p.count,p.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const PN=new dn,Qd=new g0,M_=new Pl,IN=new K,ym=new K,xm=new K,bm=new K,hT=new K,E_=new K,C_=new ze,T_=new ze,A_=new ze,LN=new K,ON=new K,kN=new K,R_=new K,P_=new K;class no extends $n{constructor(e=new Tn,n=new ud){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){E_.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const f=s[l],p=o[l];f!==0&&(hT.fromBufferAttribute(p,e),a?E_.addScaledVector(hT,f):E_.addScaledVector(hT.sub(n),f))}n.add(E_)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),M_.copy(r.boundingSphere),M_.applyMatrix4(o),Qd.copy(e.ray).recast(e.near),!(M_.containsPoint(Qd.origin)===!1&&(Qd.intersectSphere(M_,IN)===null||Qd.origin.distanceToSquared(IN)>(e.far-e.near)**2))&&(PN.copy(o).invert(),Qd.copy(e.ray).applyMatrix4(PN),!(r.boundingBox!==null&&Qd.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Qd)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,f=o.attributes.uv1,p=o.attributes.normal,m=o.groups,v=o.drawRange;if(s!==null)if(Array.isArray(a))for(let x=0,_=m.length;x<_;x++){const b=m[x],y=a[b.materialIndex],S=Math.max(b.start,v.start),M=Math.min(s.count,Math.min(b.start+b.count,v.start+v.count));for(let C=S,P=M;C<P;C+=3){const A=s.getX(C),R=s.getX(C+1),U=s.getX(C+2);i=I_(this,y,e,r,c,f,p,A,R,U),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const x=Math.max(0,v.start),_=Math.min(s.count,v.start+v.count);for(let b=x,y=_;b<y;b+=3){const S=s.getX(b),M=s.getX(b+1),C=s.getX(b+2);i=I_(this,a,e,r,c,f,p,S,M,C),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let x=0,_=m.length;x<_;x++){const b=m[x],y=a[b.materialIndex],S=Math.max(b.start,v.start),M=Math.min(l.count,Math.min(b.start+b.count,v.start+v.count));for(let C=S,P=M;C<P;C+=3){const A=C,R=C+1,U=C+2;i=I_(this,y,e,r,c,f,p,A,R,U),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const x=Math.max(0,v.start),_=Math.min(l.count,v.start+v.count);for(let b=x,y=_;b<y;b+=3){const S=b,M=b+1,C=b+2;i=I_(this,a,e,r,c,f,p,S,M,C),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}}}function Uhe(t,e,n,r,i,o,a,s){let l;if(e.side===jo?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===Mu,s),l===null)return null;P_.copy(s),P_.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(P_);return c<n.near||c>n.far?null:{distance:c,point:P_.clone(),object:t}}function I_(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,ym),t.getVertexPosition(l,xm),t.getVertexPosition(c,bm);const f=Uhe(t,e,n,r,ym,xm,bm,R_);if(f){i&&(C_.fromBufferAttribute(i,s),T_.fromBufferAttribute(i,l),A_.fromBufferAttribute(i,c),f.uv=ua.getInterpolation(R_,ym,xm,bm,C_,T_,A_,new ze)),o&&(C_.fromBufferAttribute(o,s),T_.fromBufferAttribute(o,l),A_.fromBufferAttribute(o,c),f.uv1=ua.getInterpolation(R_,ym,xm,bm,C_,T_,A_,new ze),f.uv2=f.uv1),a&&(LN.fromBufferAttribute(a,s),ON.fromBufferAttribute(a,l),kN.fromBufferAttribute(a,c),f.normal=ua.getInterpolation(R_,ym,xm,bm,LN,ON,kN,new K),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const p={a:s,b:l,c,normal:new K,materialIndex:0};ua.getNormal(ym,xm,bm,p.normal),f.face=p}return f}class op extends Tn{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],f=[],p=[];let m=0,v=0;x("z","y","x",-1,-1,r,n,e,a,o,0),x("z","y","x",1,-1,r,n,-e,a,o,1),x("x","z","y",1,1,e,r,n,i,a,2),x("x","z","y",1,-1,e,r,-n,i,a,3),x("x","y","z",1,-1,e,n,r,i,o,4),x("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new It(c,3)),this.setAttribute("normal",new It(f,3)),this.setAttribute("uv",new It(p,2));function x(_,b,y,S,M,C,P,A,R,U,O){const N=C/R,B=P/U,Y=C/2,J=P/2,G=A/2,ne=R+1,ie=U+1;let se=0,H=0;const q=new K;for(let te=0;te<ie;te++){const Q=te*B-J;for(let ae=0;ae<ne;ae++){const xe=ae*N-Y;q[_]=xe*S,q[b]=Q*M,q[y]=G,c.push(q.x,q.y,q.z),q[_]=0,q[b]=0,q[y]=A>0?1:-1,f.push(q.x,q.y,q.z),p.push(ae/R),p.push(1-te/U),se+=1}}for(let te=0;te<U;te++)for(let Q=0;Q<R;Q++){const ae=m+Q+ne*te,xe=m+Q+ne*(te+1),we=m+(Q+1)+ne*(te+1),Te=m+(Q+1)+ne*te;l.push(ae,xe,Te),l.push(xe,we,Te),H+=6}s.addGroup(v,H,O),v+=H,m+=se}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new op(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function n0(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function zo(t){const e={};for(let n=0;n<t.length;n++){const r=n0(t[n]);for(const i in r)e[i]=r[i]}return e}function zhe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function e9(t){return t.getRenderTarget()===null?t.outputColorSpace:Qn.workingColorSpace}const t9={clone:n0,merge:zo};var Bhe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,$he=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class wc extends so{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Bhe,this.fragmentShader=$he,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=n0(e.uniforms),this.uniformsGroups=zhe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class fx extends $n{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dn,this.projectionMatrix=new dn,this.projectionMatrixInverse=new dn,this.coordinateSystem=ac}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Hi extends fx{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=t0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(kh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return t0*2*Math.atan(Math.tan(kh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(kh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const _m=-90,wm=1;class n9 extends $n{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Hi(_m,wm,e,n);i.layers=this.layers,this.add(i);const o=new Hi(_m,wm,e,n);o.layers=this.layers,this.add(o);const a=new Hi(_m,wm,e,n);a.layers=this.layers,this.add(a);const s=new Hi(_m,wm,e,n);s.layers=this.layers,this.add(s);const l=new Hi(_m,wm,e,n);l.layers=this.layers,this.add(l);const c=new Hi(_m,wm,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===ac)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===A1)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,f]=this.children,p=e.getRenderTarget(),m=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const _=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=_,e.setRenderTarget(r,5,i),e.render(n,f),e.setRenderTarget(p,m,v),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class dx extends Kr{constructor(e,n,r,i,o,a,s,l,c,f){e=e!==void 0?e:[],n=n!==void 0?n:Eu,super(e,n,r,i,o,a,s,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class r9 extends Rl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Ny("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Vf?Mi:Ka),this.texture=new dx(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ai}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new op(5,5,5),o=new wc({name:"CubemapFromEquirect",uniforms:n0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:jo,blending:gu});o.uniforms.tEquirect.value=n;const a=new no(i,o),s=n.minFilter;return n.minFilter===Zf&&(n.minFilter=ai),new n9(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const pT=new K,Hhe=new K,Vhe=new Cn;class Ef{constructor(e=new K(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=pT.subVectors(r,n).cross(Hhe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(pT),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Vhe.getNormalMatrix(e),i=this.coplanarPoint(pT).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Jd=new Pl,L_=new K;class PE{constructor(e=new Ef,n=new Ef,r=new Ef,i=new Ef,o=new Ef,a=new Ef){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ac){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],f=i[5],p=i[6],m=i[7],v=i[8],x=i[9],_=i[10],b=i[11],y=i[12],S=i[13],M=i[14],C=i[15];if(r[0].setComponents(l-o,m-c,b-v,C-y).normalize(),r[1].setComponents(l+o,m+c,b+v,C+y).normalize(),r[2].setComponents(l+a,m+f,b+x,C+S).normalize(),r[3].setComponents(l-a,m-f,b-x,C-S).normalize(),r[4].setComponents(l-s,m-p,b-_,C-M).normalize(),n===ac)r[5].setComponents(l+s,m+p,b+_,C+M).normalize();else if(n===A1)r[5].setComponents(s,p,_,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Jd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Jd.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Jd)}intersectsSprite(e){return Jd.center.set(0,0,0),Jd.radius=.7071067811865476,Jd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Jd)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(L_.x=i.normal.x>0?e.max.x:e.min.x,L_.y=i.normal.y>0?e.max.y:e.min.y,L_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(L_)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function i9(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Whe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,f){const p=c.array,m=c.usage,v=t.createBuffer();t.bindBuffer(f,v),t.bufferData(f,p,m),c.onUploadCallback();let x;if(p instanceof Float32Array)x=t.FLOAT;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)x=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=t.UNSIGNED_SHORT;else if(p instanceof Int16Array)x=t.SHORT;else if(p instanceof Uint32Array)x=t.UNSIGNED_INT;else if(p instanceof Int32Array)x=t.INT;else if(p instanceof Int8Array)x=t.BYTE;else if(p instanceof Uint8Array)x=t.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)x=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:v,type:x,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version}}function o(c,f,p){const m=f.array,v=f.updateRange;t.bindBuffer(p,c),v.count===-1?t.bufferSubData(p,0,m):(n?t.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m,v.offset,v.count):t.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m.subarray(v.offset,v.offset+v.count)),v.count=-1),f.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f&&(t.deleteBuffer(f.buffer),r.delete(c))}function l(c,f){if(c.isGLBufferAttribute){const m=r.get(c);(!m||m.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const p=r.get(c);p===void 0?r.set(c,i(c,f)):p.version<c.version&&(o(p.buffer,c,f),p.version=c.version)}return{get:a,remove:s,update:l}}class hx extends Tn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),c=s+1,f=l+1,p=e/s,m=n/l,v=[],x=[],_=[],b=[];for(let y=0;y<f;y++){const S=y*m-a;for(let M=0;M<c;M++){const C=M*p-o;x.push(C,-S,0),_.push(0,0,1),b.push(M/s),b.push(1-y/l)}}for(let y=0;y<l;y++)for(let S=0;S<s;S++){const M=S+c*y,C=S+c*(y+1),P=S+1+c*(y+1),A=S+1+c*y;v.push(M,C,A),v.push(C,P,A)}this.setIndex(v),this.setAttribute("position",new It(x,3)),this.setAttribute("normal",new It(_,3)),this.setAttribute("uv",new It(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hx(e.width,e.height,e.widthSegments,e.heightSegments)}}var Ghe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,jhe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Xhe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,qhe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Yhe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Khe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Zhe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Qhe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Jhe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,epe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tpe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,npe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,rpe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ipe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,ope=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ape=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,spe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lpe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cpe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,upe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,fpe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,dpe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,hpe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ppe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,mpe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,gpe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,vpe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,ype=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,xpe="gl_FragColor = linearToOutputTexel( gl_FragColor );",bpe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,_pe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,wpe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Spe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Mpe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Epe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Cpe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Tpe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Ape=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Rpe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Ppe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Ipe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Lpe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ope=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,kpe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Npe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Dpe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Fpe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Upe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,zpe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Bpe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,$pe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,Hpe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Vpe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Wpe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Gpe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,jpe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Xpe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,qpe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Ype=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Kpe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Zpe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Qpe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Jpe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eme=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,tme=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,nme=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,rme=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,ime=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,ome=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,ame=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,sme=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lme=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cme=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ume=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,fme=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,dme=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,hme=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,pme=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,mme=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gme=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,vme=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,yme=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,xme=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,bme=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,_me=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,wme=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Sme=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Mme=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Eme=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Cme=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Tme=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Ame=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Rme=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Pme=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Ime=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Lme=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ome=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,kme=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Nme=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Dme=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Fme=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Ume=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,zme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Bme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,$me=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Hme=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Vme=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Gme=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Xme=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qme=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Yme=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Kme=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Zme=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Qme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Jme=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ege=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tge=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nge=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,rge=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ige=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oge=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,age=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,sge=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lge=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cge=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,uge=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fge=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dge=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,hge=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pge=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mge=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gge=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,vge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yge=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xge=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,bge=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_ge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,bn={alphahash_fragment:Ghe,alphahash_pars_fragment:jhe,alphamap_fragment:Xhe,alphamap_pars_fragment:qhe,alphatest_fragment:Yhe,alphatest_pars_fragment:Khe,aomap_fragment:Zhe,aomap_pars_fragment:Qhe,begin_vertex:Jhe,beginnormal_vertex:epe,bsdfs:tpe,iridescence_fragment:npe,bumpmap_pars_fragment:rpe,clipping_planes_fragment:ipe,clipping_planes_pars_fragment:ope,clipping_planes_pars_vertex:ape,clipping_planes_vertex:spe,color_fragment:lpe,color_pars_fragment:cpe,color_pars_vertex:upe,color_vertex:fpe,common:dpe,cube_uv_reflection_fragment:hpe,defaultnormal_vertex:ppe,displacementmap_pars_vertex:mpe,displacementmap_vertex:gpe,emissivemap_fragment:vpe,emissivemap_pars_fragment:ype,colorspace_fragment:xpe,colorspace_pars_fragment:bpe,envmap_fragment:_pe,envmap_common_pars_fragment:wpe,envmap_pars_fragment:Spe,envmap_pars_vertex:Mpe,envmap_physical_pars_fragment:Dpe,envmap_vertex:Epe,fog_vertex:Cpe,fog_pars_vertex:Tpe,fog_fragment:Ape,fog_pars_fragment:Rpe,gradientmap_pars_fragment:Ppe,lightmap_fragment:Ipe,lightmap_pars_fragment:Lpe,lights_lambert_fragment:Ope,lights_lambert_pars_fragment:kpe,lights_pars_begin:Npe,lights_toon_fragment:Fpe,lights_toon_pars_fragment:Upe,lights_phong_fragment:zpe,lights_phong_pars_fragment:Bpe,lights_physical_fragment:$pe,lights_physical_pars_fragment:Hpe,lights_fragment_begin:Vpe,lights_fragment_maps:Wpe,lights_fragment_end:Gpe,logdepthbuf_fragment:jpe,logdepthbuf_pars_fragment:Xpe,logdepthbuf_pars_vertex:qpe,logdepthbuf_vertex:Ype,map_fragment:Kpe,map_pars_fragment:Zpe,map_particle_fragment:Qpe,map_particle_pars_fragment:Jpe,metalnessmap_fragment:eme,metalnessmap_pars_fragment:tme,morphcolor_vertex:nme,morphnormal_vertex:rme,morphtarget_pars_vertex:ime,morphtarget_vertex:ome,normal_fragment_begin:ame,normal_fragment_maps:sme,normal_pars_fragment:lme,normal_pars_vertex:cme,normal_vertex:ume,normalmap_pars_fragment:fme,clearcoat_normal_fragment_begin:dme,clearcoat_normal_fragment_maps:hme,clearcoat_pars_fragment:pme,iridescence_pars_fragment:mme,opaque_fragment:gme,packing:vme,premultiplied_alpha_fragment:yme,project_vertex:xme,dithering_fragment:bme,dithering_pars_fragment:_me,roughnessmap_fragment:wme,roughnessmap_pars_fragment:Sme,shadowmap_pars_fragment:Mme,shadowmap_pars_vertex:Eme,shadowmap_vertex:Cme,shadowmask_pars_fragment:Tme,skinbase_vertex:Ame,skinning_pars_vertex:Rme,skinning_vertex:Pme,skinnormal_vertex:Ime,specularmap_fragment:Lme,specularmap_pars_fragment:Ome,tonemapping_fragment:kme,tonemapping_pars_fragment:Nme,transmission_fragment:Dme,transmission_pars_fragment:Fme,uv_pars_fragment:Ume,uv_pars_vertex:zme,uv_vertex:Bme,worldpos_vertex:$me,background_vert:Hme,background_frag:Vme,backgroundCube_vert:Wme,backgroundCube_frag:Gme,cube_vert:jme,cube_frag:Xme,depth_vert:qme,depth_frag:Yme,distanceRGBA_vert:Kme,distanceRGBA_frag:Zme,equirect_vert:Qme,equirect_frag:Jme,linedashed_vert:ege,linedashed_frag:tge,meshbasic_vert:nge,meshbasic_frag:rge,meshlambert_vert:ige,meshlambert_frag:oge,meshmatcap_vert:age,meshmatcap_frag:sge,meshnormal_vert:lge,meshnormal_frag:cge,meshphong_vert:uge,meshphong_frag:fge,meshphysical_vert:dge,meshphysical_frag:hge,meshtoon_vert:pge,meshtoon_frag:mge,points_vert:gge,points_frag:vge,shadow_vert:yge,shadow_frag:xge,sprite_vert:bge,sprite_frag:_ge},pt={common:{diffuse:{value:new _t(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Cn},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Cn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Cn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Cn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Cn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Cn},normalScale:{value:new ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Cn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Cn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Cn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Cn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0},uvTransform:{value:new Cn}},sprite:{diffuse:{value:new _t(16777215)},opacity:{value:1},center:{value:new ze(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Cn},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0}}},yl={basic:{uniforms:zo([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.fog]),vertexShader:bn.meshbasic_vert,fragmentShader:bn.meshbasic_frag},lambert:{uniforms:zo([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new _t(0)}}]),vertexShader:bn.meshlambert_vert,fragmentShader:bn.meshlambert_frag},phong:{uniforms:zo([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new _t(0)},specular:{value:new _t(1118481)},shininess:{value:30}}]),vertexShader:bn.meshphong_vert,fragmentShader:bn.meshphong_frag},standard:{uniforms:zo([pt.common,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.roughnessmap,pt.metalnessmap,pt.fog,pt.lights,{emissive:{value:new _t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:bn.meshphysical_vert,fragmentShader:bn.meshphysical_frag},toon:{uniforms:zo([pt.common,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.gradientmap,pt.fog,pt.lights,{emissive:{value:new _t(0)}}]),vertexShader:bn.meshtoon_vert,fragmentShader:bn.meshtoon_frag},matcap:{uniforms:zo([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,{matcap:{value:null}}]),vertexShader:bn.meshmatcap_vert,fragmentShader:bn.meshmatcap_frag},points:{uniforms:zo([pt.points,pt.fog]),vertexShader:bn.points_vert,fragmentShader:bn.points_frag},dashed:{uniforms:zo([pt.common,pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:bn.linedashed_vert,fragmentShader:bn.linedashed_frag},depth:{uniforms:zo([pt.common,pt.displacementmap]),vertexShader:bn.depth_vert,fragmentShader:bn.depth_frag},normal:{uniforms:zo([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,{opacity:{value:1}}]),vertexShader:bn.meshnormal_vert,fragmentShader:bn.meshnormal_frag},sprite:{uniforms:zo([pt.sprite,pt.fog]),vertexShader:bn.sprite_vert,fragmentShader:bn.sprite_frag},background:{uniforms:{uvTransform:{value:new Cn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:bn.background_vert,fragmentShader:bn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:bn.backgroundCube_vert,fragmentShader:bn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:bn.cube_vert,fragmentShader:bn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:bn.equirect_vert,fragmentShader:bn.equirect_frag},distanceRGBA:{uniforms:zo([pt.common,pt.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:bn.distanceRGBA_vert,fragmentShader:bn.distanceRGBA_frag},shadow:{uniforms:zo([pt.lights,pt.fog,{color:{value:new _t(0)},opacity:{value:1}}]),vertexShader:bn.shadow_vert,fragmentShader:bn.shadow_frag}};yl.physical={uniforms:zo([yl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Cn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Cn},clearcoatNormalScale:{value:new ze(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Cn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Cn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Cn},sheen:{value:0},sheenColor:{value:new _t(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Cn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Cn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Cn},transmissionSamplerSize:{value:new ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Cn},attenuationDistance:{value:0},attenuationColor:{value:new _t(0)},specularColor:{value:new _t(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Cn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Cn},anisotropyVector:{value:new ze},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Cn}}]),vertexShader:bn.meshphysical_vert,fragmentShader:bn.meshphysical_frag};const O_={r:0,b:0,g:0};function wge(t,e,n,r,i,o,a){const s=new _t(0);let l=o===!0?0:1,c,f,p=null,m=0,v=null;function x(b,y){let S=!1,M=y.isScene===!0?y.background:null;M&&M.isTexture&&(M=(y.backgroundBlurriness>0?n:e).get(M)),M===null?_(s,l):M&&M.isColor&&(_(M,1),S=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,a):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||S)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),M&&(M.isCubeTexture||M.mapping===m0)?(f===void 0&&(f=new no(new op(1,1,1),new wc({name:"BackgroundCubeMaterial",uniforms:n0(yl.backgroundCube.uniforms),vertexShader:yl.backgroundCube.vertexShader,fragmentShader:yl.backgroundCube.fragmentShader,side:jo,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(P,A,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),f.material.uniforms.envMap.value=M,f.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,f.material.toneMapped=Qn.getTransfer(M.colorSpace)!==mr,(p!==M||m!==M.version||v!==t.toneMapping)&&(f.material.needsUpdate=!0,p=M,m=M.version,v=t.toneMapping),f.layers.enableAll(),b.unshift(f,f.geometry,f.material,0,0,null)):M&&M.isTexture&&(c===void 0&&(c=new no(new hx(2,2),new wc({name:"BackgroundMaterial",uniforms:n0(yl.background.uniforms),vertexShader:yl.background.vertexShader,fragmentShader:yl.background.fragmentShader,side:Mu,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=M,c.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,c.material.toneMapped=Qn.getTransfer(M.colorSpace)!==mr,M.matrixAutoUpdate===!0&&M.updateMatrix(),c.material.uniforms.uvTransform.value.copy(M.matrix),(p!==M||m!==M.version||v!==t.toneMapping)&&(c.material.needsUpdate=!0,p=M,m=M.version,v=t.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function _(b,y){b.getRGB(O_,e9(t)),r.buffers.color.setClear(O_.r,O_.g,O_.b,y,a)}return{getClearColor:function(){return s},setClearColor:function(b,y=1){s.set(b),l=y,_(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,_(s,l)},render:x}}function Sge(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},l=b(null);let c=l,f=!1;function p(G,ne,ie,se,H){let q=!1;if(a){const te=_(se,ie,ne);c!==te&&(c=te,v(c.object)),q=y(G,se,ie,H),q&&S(G,se,ie,H)}else{const te=ne.wireframe===!0;(c.geometry!==se.id||c.program!==ie.id||c.wireframe!==te)&&(c.geometry=se.id,c.program=ie.id,c.wireframe=te,q=!0)}H!==null&&n.update(H,t.ELEMENT_ARRAY_BUFFER),(q||f)&&(f=!1,U(G,ne,ie,se),H!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(H).buffer))}function m(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function v(G){return r.isWebGL2?t.bindVertexArray(G):o.bindVertexArrayOES(G)}function x(G){return r.isWebGL2?t.deleteVertexArray(G):o.deleteVertexArrayOES(G)}function _(G,ne,ie){const se=ie.wireframe===!0;let H=s[G.id];H===void 0&&(H={},s[G.id]=H);let q=H[ne.id];q===void 0&&(q={},H[ne.id]=q);let te=q[se];return te===void 0&&(te=b(m()),q[se]=te),te}function b(G){const ne=[],ie=[],se=[];for(let H=0;H<i;H++)ne[H]=0,ie[H]=0,se[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ne,enabledAttributes:ie,attributeDivisors:se,object:G,attributes:{},index:null}}function y(G,ne,ie,se){const H=c.attributes,q=ne.attributes;let te=0;const Q=ie.getAttributes();for(const ae in Q)if(Q[ae].location>=0){const we=H[ae];let Te=q[ae];if(Te===void 0&&(ae==="instanceMatrix"&&G.instanceMatrix&&(Te=G.instanceMatrix),ae==="instanceColor"&&G.instanceColor&&(Te=G.instanceColor)),we===void 0||we.attribute!==Te||Te&&we.data!==Te.data)return!0;te++}return c.attributesNum!==te||c.index!==se}function S(G,ne,ie,se){const H={},q=ne.attributes;let te=0;const Q=ie.getAttributes();for(const ae in Q)if(Q[ae].location>=0){let we=q[ae];we===void 0&&(ae==="instanceMatrix"&&G.instanceMatrix&&(we=G.instanceMatrix),ae==="instanceColor"&&G.instanceColor&&(we=G.instanceColor));const Te={};Te.attribute=we,we&&we.data&&(Te.data=we.data),H[ae]=Te,te++}c.attributes=H,c.attributesNum=te,c.index=se}function M(){const G=c.newAttributes;for(let ne=0,ie=G.length;ne<ie;ne++)G[ne]=0}function C(G){P(G,0)}function P(G,ne){const ie=c.newAttributes,se=c.enabledAttributes,H=c.attributeDivisors;ie[G]=1,se[G]===0&&(t.enableVertexAttribArray(G),se[G]=1),H[G]!==ne&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,ne),H[G]=ne)}function A(){const G=c.newAttributes,ne=c.enabledAttributes;for(let ie=0,se=ne.length;ie<se;ie++)ne[ie]!==G[ie]&&(t.disableVertexAttribArray(ie),ne[ie]=0)}function R(G,ne,ie,se,H,q,te){te===!0?t.vertexAttribIPointer(G,ne,ie,H,q):t.vertexAttribPointer(G,ne,ie,se,H,q)}function U(G,ne,ie,se){if(r.isWebGL2===!1&&(G.isInstancedMesh||se.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;M();const H=se.attributes,q=ie.getAttributes(),te=ne.defaultAttributeValues;for(const Q in q){const ae=q[Q];if(ae.location>=0){let xe=H[Q];if(xe===void 0&&(Q==="instanceMatrix"&&G.instanceMatrix&&(xe=G.instanceMatrix),Q==="instanceColor"&&G.instanceColor&&(xe=G.instanceColor)),xe!==void 0){const we=xe.normalized,Te=xe.itemSize,Ve=n.get(xe);if(Ve===void 0)continue;const Ye=Ve.buffer,et=Ve.type,ct=Ve.bytesPerElement,Lt=r.isWebGL2===!0&&(et===t.INT||et===t.UNSIGNED_INT||xe.gpuType===FI);if(xe.isInterleavedBufferAttribute){const $e=xe.data,oe=$e.stride,Ae=xe.offset;if($e.isInstancedInterleavedBuffer){for(let ge=0;ge<ae.locationSize;ge++)P(ae.location+ge,$e.meshPerAttribute);G.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=$e.meshPerAttribute*$e.count)}else for(let ge=0;ge<ae.locationSize;ge++)C(ae.location+ge);t.bindBuffer(t.ARRAY_BUFFER,Ye);for(let ge=0;ge<ae.locationSize;ge++)R(ae.location+ge,Te/ae.locationSize,et,we,oe*ct,(Ae+Te/ae.locationSize*ge)*ct,Lt)}else{if(xe.isInstancedBufferAttribute){for(let $e=0;$e<ae.locationSize;$e++)P(ae.location+$e,xe.meshPerAttribute);G.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let $e=0;$e<ae.locationSize;$e++)C(ae.location+$e);t.bindBuffer(t.ARRAY_BUFFER,Ye);for(let $e=0;$e<ae.locationSize;$e++)R(ae.location+$e,Te/ae.locationSize,et,we,Te*ct,Te/ae.locationSize*$e*ct,Lt)}}else if(te!==void 0){const we=te[Q];if(we!==void 0)switch(we.length){case 2:t.vertexAttrib2fv(ae.location,we);break;case 3:t.vertexAttrib3fv(ae.location,we);break;case 4:t.vertexAttrib4fv(ae.location,we);break;default:t.vertexAttrib1fv(ae.location,we)}}}}A()}function O(){Y();for(const G in s){const ne=s[G];for(const ie in ne){const se=ne[ie];for(const H in se)x(se[H].object),delete se[H];delete ne[ie]}delete s[G]}}function N(G){if(s[G.id]===void 0)return;const ne=s[G.id];for(const ie in ne){const se=ne[ie];for(const H in se)x(se[H].object),delete se[H];delete ne[ie]}delete s[G.id]}function B(G){for(const ne in s){const ie=s[ne];if(ie[G.id]===void 0)continue;const se=ie[G.id];for(const H in se)x(se[H].object),delete se[H];delete ie[G.id]}}function Y(){J(),f=!0,c!==l&&(c=l,v(c.object))}function J(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:p,reset:Y,resetDefaultState:J,dispose:O,releaseStatesOfGeometry:N,releaseStatesOfProgram:B,initAttributes:M,enableAttribute:C,disableUnusedAttributes:A}}function Mge(t,e,n,r){const i=r.isWebGL2;let o;function a(c){o=c}function s(c,f){t.drawArrays(o,c,f),n.update(f,o,1)}function l(c,f,p){if(p===0)return;let m,v;if(i)m=t,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](o,c,f,p),n.update(f,o,p)}this.setMode=a,this.render=s,this.renderInstances=l}function Ege(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(R){if(R==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=a||e.has("WEBGL_draw_buffers"),f=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),x=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),b=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),y=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),M=m>0,C=a||e.has("OES_texture_float"),P=M&&C,A=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:f,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:x,maxAttributes:_,maxVertexUniforms:b,maxVaryings:y,maxFragmentUniforms:S,vertexTextures:M,floatFragmentTextures:C,floatVertexTextures:P,maxSamples:A}}function Cge(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Ef,s=new Cn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,m){const v=p.length!==0||m||r!==0||i;return i=m,r=p.length,v},this.beginShadows=function(){o=!0,f(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(p,m){n=f(p,m,0)},this.setState=function(p,m,v){const x=p.clippingPlanes,_=p.clipIntersection,b=p.clipShadows,y=t.get(p);if(!i||x===null||x.length===0||o&&!b)o?f(null):c();else{const S=o?0:r,M=S*4;let C=y.clippingState||null;l.value=C,C=f(x,m,M,v);for(let P=0;P!==M;++P)C[P]=n[P];y.clippingState=C,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(p,m,v,x){const _=p!==null?p.length:0;let b=null;if(_!==0){if(b=l.value,x!==!0||b===null){const y=v+_*4,S=m.matrixWorldInverse;s.getNormalMatrix(S),(b===null||b.length<y)&&(b=new Float32Array(y));for(let M=0,C=v;M!==_;++M,C+=4)a.copy(p[M]).applyMatrix4(S,s),a.normal.toArray(b,C),b[C+3]=a.constant}l.value=b,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,b}}function Tge(t){let e=new WeakMap;function n(a,s){return s===v1?a.mapping=Eu:s===y1&&(a.mapping=Kf),a}function r(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const s=a.mapping;if(s===v1||s===y1)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new r9(l.height/2);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class px extends fx{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=f*this.view.offsetY,l=s-f*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const gg=4,NN=[.125,.215,.35,.446,.526,.582],mh=20,mT=new px,DN=new _t;let gT=null,vT=0,yT=0;const uh=(1+Math.sqrt(5))/2,Sm=1/uh,FN=[new K(1,1,1),new K(-1,1,1),new K(1,1,-1),new K(-1,1,-1),new K(0,uh,Sm),new K(0,uh,-Sm),new K(Sm,0,uh),new K(-Sm,0,uh),new K(uh,Sm,0),new K(-uh,Sm,0)];class f3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){gT=this._renderer.getRenderTarget(),vT=this._renderer.getActiveCubeFace(),yT=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=BN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=zN(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(gT,vT,yT),e.scissorTest=!1,k_(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Eu||e.mapping===Kf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),gT=this._renderer.getRenderTarget(),vT=this._renderer.getActiveCubeFace(),yT=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ai,minFilter:ai,generateMipmaps:!1,type:Yh,format:Wo,colorSpace:_c,depthBuffer:!1},i=UN(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=UN(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Age(o)),this._blurMaterial=Rge(o,e,n)}return i}_compileMaterial(e){const n=new no(this._lodPlanes[0],e);this._renderer.compile(n,mT)}_sceneToCubeUV(e,n,r,i){const s=new Hi(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,p=f.autoClear,m=f.toneMapping;f.getClearColor(DN),f.toneMapping=pc,f.autoClear=!1;const v=new ud({name:"PMREM.Background",side:jo,depthWrite:!1,depthTest:!1}),x=new no(new op,v);let _=!1;const b=e.background;b?b.isColor&&(v.color.copy(b),e.background=null,_=!0):(v.color.copy(DN),_=!0);for(let y=0;y<6;y++){const S=y%3;S===0?(s.up.set(0,l[y],0),s.lookAt(c[y],0,0)):S===1?(s.up.set(0,0,l[y]),s.lookAt(0,c[y],0)):(s.up.set(0,l[y],0),s.lookAt(0,0,c[y]));const M=this._cubeSize;k_(i,S*M,y>2?M:0,M,M),f.setRenderTarget(i),_&&f.render(x,s),f.render(e,s)}x.geometry.dispose(),x.material.dispose(),f.toneMapping=m,f.autoClear=p,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Eu||e.mapping===Kf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=BN()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=zN());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new no(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;k_(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,mT)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=FN[(i-1)%FN.length];this._blur(e,i-1,i,o,a)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,p=new no(this._lodPlanes[i],c),m=c.uniforms,v=this._sizeLods[r]-1,x=isFinite(o)?Math.PI/(2*v):2*Math.PI/(2*mh-1),_=o/x,b=isFinite(o)?1+Math.floor(f*_):mh;b>mh&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${mh}`);const y=[];let S=0;for(let R=0;R<mh;++R){const U=R/_,O=Math.exp(-U*U/2);y.push(O),R===0?S+=O:R<b&&(S+=2*O)}for(let R=0;R<y.length;R++)y[R]=y[R]/S;m.envMap.value=e.texture,m.samples.value=b,m.weights.value=y,m.latitudinal.value=a==="latitudinal",s&&(m.poleAxis.value=s);const{_lodMax:M}=this;m.dTheta.value=x,m.mipInt.value=M-r;const C=this._sizeLods[i],P=3*C*(i>M-gg?i-M+gg:0),A=4*(this._cubeSize-C);k_(n,P,A,3*C,2*C),l.setRenderTarget(n),l.render(p,mT)}}function Age(t){const e=[],n=[],r=[];let i=t;const o=t-gg+1+NN.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-gg?l=NN[a-t+gg-1]:a===0&&(l=0),r.push(l);const c=1/(s-2),f=-c,p=1+c,m=[f,f,p,f,p,p,f,f,p,p,f,p],v=6,x=6,_=3,b=2,y=1,S=new Float32Array(_*x*v),M=new Float32Array(b*x*v),C=new Float32Array(y*x*v);for(let A=0;A<v;A++){const R=A%3*2/3-1,U=A>2?0:-1,O=[R,U,0,R+2/3,U,0,R+2/3,U+1,0,R,U,0,R+2/3,U+1,0,R,U+1,0];S.set(O,_*x*A),M.set(m,b*x*A);const N=[A,A,A,A,A,A];C.set(N,y*x*A)}const P=new Tn;P.setAttribute("position",new lr(S,_)),P.setAttribute("uv",new lr(M,b)),P.setAttribute("faceIndex",new lr(C,y)),e.push(P),i>gg&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function UN(t,e,n){const r=new Rl(t,e,n);return r.texture.mapping=m0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function k_(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Rge(t,e,n){const r=new Float32Array(mh),i=new K(0,1,0);return new wc({name:"SphericalGaussianBlur",defines:{n:mh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:ZI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:gu,depthTest:!1,depthWrite:!1})}function zN(){return new wc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ZI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:gu,depthTest:!1,depthWrite:!1})}function BN(){return new wc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ZI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:gu,depthTest:!1,depthWrite:!1})}function ZI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Pge(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===v1||l===y1,f=l===Eu||l===Kf;if(c||f)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let p=e.get(s);return n===null&&(n=new f3(t)),p=c?n.fromEquirectangular(s,p):n.fromCubemap(s,p),e.set(s,p),p.texture}else{if(e.has(s))return e.get(s).texture;{const p=s.image;if(c&&p&&p.height>0||f&&p&&i(p)){n===null&&(n=new f3(t));const m=c?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,m),s.addEventListener("dispose",o),m.texture}else return null}}}return s}function i(s){let l=0;const c=6;for(let f=0;f<c;f++)s[f]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function Ige(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Lge(t,e,n,r){const i={},o=new WeakMap;function a(p){const m=p.target;m.index!==null&&e.remove(m.index);for(const x in m.attributes)e.remove(m.attributes[x]);for(const x in m.morphAttributes){const _=m.morphAttributes[x];for(let b=0,y=_.length;b<y;b++)e.remove(_[b])}m.removeEventListener("dispose",a),delete i[m.id];const v=o.get(m);v&&(e.remove(v),o.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,n.memory.geometries--}function s(p,m){return i[m.id]===!0||(m.addEventListener("dispose",a),i[m.id]=!0,n.memory.geometries++),m}function l(p){const m=p.attributes;for(const x in m)e.update(m[x],t.ARRAY_BUFFER);const v=p.morphAttributes;for(const x in v){const _=v[x];for(let b=0,y=_.length;b<y;b++)e.update(_[b],t.ARRAY_BUFFER)}}function c(p){const m=[],v=p.index,x=p.attributes.position;let _=0;if(v!==null){const S=v.array;_=v.version;for(let M=0,C=S.length;M<C;M+=3){const P=S[M+0],A=S[M+1],R=S[M+2];m.push(P,A,A,R,R,P)}}else if(x!==void 0){const S=x.array;_=x.version;for(let M=0,C=S.length/3-1;M<C;M+=3){const P=M+0,A=M+1,R=M+2;m.push(P,A,A,R,R,P)}}else return;const b=new(K7(m)?KI:YI)(m,1);b.version=_;const y=o.get(p);y&&e.remove(y),o.set(p,b)}function f(p){const m=o.get(p);if(m){const v=p.index;v!==null&&m.version<v.version&&c(p)}else c(p);return o.get(p)}return{get:s,update:l,getWireframeAttribute:f}}function Oge(t,e,n,r){const i=r.isWebGL2;let o;function a(m){o=m}let s,l;function c(m){s=m.type,l=m.bytesPerElement}function f(m,v){t.drawElements(o,v,s,m*l),n.update(v,o,1)}function p(m,v,x){if(x===0)return;let _,b;if(i)_=t,b="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[b](o,v,s,m*l,x),n.update(v,o,x)}this.setMode=a,this.setIndex=c,this.render=f,this.renderInstances=p}function kge(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Nge(t,e){return t[0]-e[0]}function Dge(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Fge(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new Yn,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,f,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const x=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,_=x!==void 0?x.length:0;let b=o.get(f);if(b===void 0||b.count!==_){let ne=function(){J.dispose(),o.delete(f),f.removeEventListener("dispose",ne)};var v=ne;b!==void 0&&b.texture.dispose();const M=f.morphAttributes.position!==void 0,C=f.morphAttributes.normal!==void 0,P=f.morphAttributes.color!==void 0,A=f.morphAttributes.position||[],R=f.morphAttributes.normal||[],U=f.morphAttributes.color||[];let O=0;M===!0&&(O=1),C===!0&&(O=2),P===!0&&(O=3);let N=f.attributes.position.count*O,B=1;N>e.maxTextureSize&&(B=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const Y=new Float32Array(N*B*4*_),J=new RE(Y,N,B,_);J.type=Sl,J.needsUpdate=!0;const G=O*4;for(let ie=0;ie<_;ie++){const se=A[ie],H=R[ie],q=U[ie],te=N*B*4*ie;for(let Q=0;Q<se.count;Q++){const ae=Q*G;M===!0&&(a.fromBufferAttribute(se,Q),Y[te+ae+0]=a.x,Y[te+ae+1]=a.y,Y[te+ae+2]=a.z,Y[te+ae+3]=0),C===!0&&(a.fromBufferAttribute(H,Q),Y[te+ae+4]=a.x,Y[te+ae+5]=a.y,Y[te+ae+6]=a.z,Y[te+ae+7]=0),P===!0&&(a.fromBufferAttribute(q,Q),Y[te+ae+8]=a.x,Y[te+ae+9]=a.y,Y[te+ae+10]=a.z,Y[te+ae+11]=q.itemSize===4?a.w:1)}}b={count:_,texture:J,size:new ze(N,B)},o.set(f,b),f.addEventListener("dispose",ne)}let y=0;for(let M=0;M<m.length;M++)y+=m[M];const S=f.morphTargetsRelative?1:1-y;p.getUniforms().setValue(t,"morphTargetBaseInfluence",S),p.getUniforms().setValue(t,"morphTargetInfluences",m),p.getUniforms().setValue(t,"morphTargetsTexture",b.texture,n),p.getUniforms().setValue(t,"morphTargetsTextureSize",b.size)}else{const x=m===void 0?0:m.length;let _=r[f.id];if(_===void 0||_.length!==x){_=[];for(let C=0;C<x;C++)_[C]=[C,0];r[f.id]=_}for(let C=0;C<x;C++){const P=_[C];P[0]=C,P[1]=m[C]}_.sort(Dge);for(let C=0;C<8;C++)C<x&&_[C][1]?(s[C][0]=_[C][0],s[C][1]=_[C][1]):(s[C][0]=Number.MAX_SAFE_INTEGER,s[C][1]=0);s.sort(Nge);const b=f.morphAttributes.position,y=f.morphAttributes.normal;let S=0;for(let C=0;C<8;C++){const P=s[C],A=P[0],R=P[1];A!==Number.MAX_SAFE_INTEGER&&R?(b&&f.getAttribute("morphTarget"+C)!==b[A]&&f.setAttribute("morphTarget"+C,b[A]),y&&f.getAttribute("morphNormal"+C)!==y[A]&&f.setAttribute("morphNormal"+C,y[A]),i[C]=R,S+=R):(b&&f.hasAttribute("morphTarget"+C)===!0&&f.deleteAttribute("morphTarget"+C),y&&f.hasAttribute("morphNormal"+C)===!0&&f.deleteAttribute("morphNormal"+C),i[C]=0)}const M=f.morphTargetsRelative?1:1-S;p.getUniforms().setValue(t,"morphTargetBaseInfluence",M),p.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Uge(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,f=l.geometry,p=e.get(l,f);if(i.get(p)!==c&&(e.update(p),i.set(p,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const m=l.skeleton;i.get(m)!==c&&(m.update(),i.set(m,c))}return p}function a(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}const o9=new Kr,a9=new RE,s9=new qI,l9=new dx,$N=[],HN=[],VN=new Float32Array(16),WN=new Float32Array(9),GN=new Float32Array(4);function v0(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=$N[i];if(o===void 0&&(o=new Float32Array(i),$N[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function Ci(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ti(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function IE(t,e){let n=HN[e];n===void 0&&(n=new Int32Array(e),HN[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function zge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Bge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ci(n,e))return;t.uniform2fv(this.addr,e),Ti(n,e)}}function $ge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ci(n,e))return;t.uniform3fv(this.addr,e),Ti(n,e)}}function Hge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ci(n,e))return;t.uniform4fv(this.addr,e),Ti(n,e)}}function Vge(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ci(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ti(n,e)}else{if(Ci(n,r))return;GN.set(r),t.uniformMatrix2fv(this.addr,!1,GN),Ti(n,r)}}function Wge(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ci(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ti(n,e)}else{if(Ci(n,r))return;WN.set(r),t.uniformMatrix3fv(this.addr,!1,WN),Ti(n,r)}}function Gge(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ci(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ti(n,e)}else{if(Ci(n,r))return;VN.set(r),t.uniformMatrix4fv(this.addr,!1,VN),Ti(n,r)}}function jge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Xge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ci(n,e))return;t.uniform2iv(this.addr,e),Ti(n,e)}}function qge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ci(n,e))return;t.uniform3iv(this.addr,e),Ti(n,e)}}function Yge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ci(n,e))return;t.uniform4iv(this.addr,e),Ti(n,e)}}function Kge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Zge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ci(n,e))return;t.uniform2uiv(this.addr,e),Ti(n,e)}}function Qge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ci(n,e))return;t.uniform3uiv(this.addr,e),Ti(n,e)}}function Jge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ci(n,e))return;t.uniform4uiv(this.addr,e),Ti(n,e)}}function e0e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||o9,i)}function t0e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||s9,i)}function n0e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||l9,i)}function r0e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||a9,i)}function i0e(t){switch(t){case 5126:return zge;case 35664:return Bge;case 35665:return $ge;case 35666:return Hge;case 35674:return Vge;case 35675:return Wge;case 35676:return Gge;case 5124:case 35670:return jge;case 35667:case 35671:return Xge;case 35668:case 35672:return qge;case 35669:case 35673:return Yge;case 5125:return Kge;case 36294:return Zge;case 36295:return Qge;case 36296:return Jge;case 35678:case 36198:case 36298:case 36306:case 35682:return e0e;case 35679:case 36299:case 36307:return t0e;case 35680:case 36300:case 36308:case 36293:return n0e;case 36289:case 36303:case 36311:case 36292:return r0e}}function o0e(t,e){t.uniform1fv(this.addr,e)}function a0e(t,e){const n=v0(e,this.size,2);t.uniform2fv(this.addr,n)}function s0e(t,e){const n=v0(e,this.size,3);t.uniform3fv(this.addr,n)}function l0e(t,e){const n=v0(e,this.size,4);t.uniform4fv(this.addr,n)}function c0e(t,e){const n=v0(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function u0e(t,e){const n=v0(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function f0e(t,e){const n=v0(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function d0e(t,e){t.uniform1iv(this.addr,e)}function h0e(t,e){t.uniform2iv(this.addr,e)}function p0e(t,e){t.uniform3iv(this.addr,e)}function m0e(t,e){t.uniform4iv(this.addr,e)}function g0e(t,e){t.uniform1uiv(this.addr,e)}function v0e(t,e){t.uniform2uiv(this.addr,e)}function y0e(t,e){t.uniform3uiv(this.addr,e)}function x0e(t,e){t.uniform4uiv(this.addr,e)}function b0e(t,e,n){const r=this.cache,i=e.length,o=IE(n,i);Ci(r,o)||(t.uniform1iv(this.addr,o),Ti(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||o9,o[a])}function _0e(t,e,n){const r=this.cache,i=e.length,o=IE(n,i);Ci(r,o)||(t.uniform1iv(this.addr,o),Ti(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||s9,o[a])}function w0e(t,e,n){const r=this.cache,i=e.length,o=IE(n,i);Ci(r,o)||(t.uniform1iv(this.addr,o),Ti(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||l9,o[a])}function S0e(t,e,n){const r=this.cache,i=e.length,o=IE(n,i);Ci(r,o)||(t.uniform1iv(this.addr,o),Ti(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||a9,o[a])}function M0e(t){switch(t){case 5126:return o0e;case 35664:return a0e;case 35665:return s0e;case 35666:return l0e;case 35674:return c0e;case 35675:return u0e;case 35676:return f0e;case 5124:case 35670:return d0e;case 35667:case 35671:return h0e;case 35668:case 35672:return p0e;case 35669:case 35673:return m0e;case 5125:return g0e;case 36294:return v0e;case 36295:return y0e;case 36296:return x0e;case 35678:case 36198:case 36298:case 36306:case 35682:return b0e;case 35679:case 36299:case 36307:return _0e;case 35680:case 36300:case 36308:case 36293:return w0e;case 36289:case 36303:case 36311:case 36292:return S0e}}class E0e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=i0e(n.type)}}class C0e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=M0e(n.type)}}class T0e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const xT=/(\w+)(\])?(\[|\.)?/g;function jN(t,e){t.seq.push(e),t.map[e.id]=e}function A0e(t,e,n){const r=t.name,i=r.length;for(xT.lastIndex=0;;){const o=xT.exec(r),a=xT.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===i){jN(n,c===void 0?new E0e(s,t,e):new C0e(s,t,e));break}else{let p=n.map[s];p===void 0&&(p=new T0e(s),jN(n,p)),n=p}}}class Xw{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);A0e(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function XN(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const R0e=37297;let P0e=0;function I0e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}function L0e(t){const e=Qn.getPrimaries(Qn.workingColorSpace),n=Qn.getPrimaries(t);let r;switch(e===n?r="":e===C1&&n===E1?r="LinearDisplayP3ToLinearSRGB":e===E1&&n===C1&&(r="LinearSRGBToLinearDisplayP3"),t){case _c:case cx:return[r,"LinearTransferOETF"];case Mi:case AE:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function qN(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+I0e(t.getShaderSource(e),a)}else return i}function O0e(t,e){const n=L0e(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function k0e(t,e){let n;switch(e){case _7:n="Linear";break;case w7:n="Reinhard";break;case S7:n="OptimizedCineon";break;case NI:n="ACESFilmic";break;case M7:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function N0e(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(uy).join(`
`)}function D0e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function F0e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function uy(t){return t!==""}function YN(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function KN(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const U0e=/^[ \t]*#include +<([\w\d./]+)>/gm;function d3(t){return t.replace(U0e,B0e)}const z0e=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function B0e(t,e){let n=bn[e];if(n===void 0){const r=z0e.get(e);if(r!==void 0)n=bn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return d3(n)}const $0e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ZN(t){return t.replace($0e,H0e)}function H0e(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function QN(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function V0e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===EE?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Ly?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ml&&(e="SHADOWMAP_TYPE_VSM"),e}function W0e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Eu:case Kf:e="ENVMAP_TYPE_CUBE";break;case m0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function G0e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Kf:e="ENVMAP_MODE_REFRACTION";break}return e}function j0e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case sx:e="ENVMAP_BLENDING_MULTIPLY";break;case x7:e="ENVMAP_BLENDING_MIX";break;case b7:e="ENVMAP_BLENDING_ADD";break}return e}function X0e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function q0e(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=V0e(n),c=W0e(n),f=G0e(n),p=j0e(n),m=X0e(n),v=n.isWebGL2?"":N0e(n),x=D0e(o),_=i.createProgram();let b,y,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(uy).join(`
`),b.length>0&&(b+=`
`),y=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(uy).join(`
`),y.length>0&&(y+=`
`)):(b=[QN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(uy).join(`
`),y=[v,QN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",n.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==pc?"#define TONE_MAPPING":"",n.toneMapping!==pc?bn.tonemapping_pars_fragment:"",n.toneMapping!==pc?k0e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",bn.colorspace_pars_fragment,O0e("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(uy).join(`
`)),a=d3(a),a=YN(a,n),a=KN(a,n),s=d3(s),s=YN(s,n),s=KN(s,n),a=ZN(a),s=ZN(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,b=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,y=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===c3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===c3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const M=S+b+a,C=S+y+s,P=XN(i,i.VERTEX_SHADER,M),A=XN(i,i.FRAGMENT_SHADER,C);i.attachShader(_,P),i.attachShader(_,A),n.index0AttributeName!==void 0?i.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function R(B){if(t.debug.checkShaderErrors){const Y=i.getProgramInfoLog(_).trim(),J=i.getShaderInfoLog(P).trim(),G=i.getShaderInfoLog(A).trim();let ne=!0,ie=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(ne=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,_,P,A);else{const se=qN(i,P,"vertex"),H=qN(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Program Info Log: `+Y+`
`+se+`
`+H)}else Y!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Y):(J===""||G==="")&&(ie=!1);ie&&(B.diagnostics={runnable:ne,programLog:Y,vertexShader:{log:J,prefix:b},fragmentShader:{log:G,prefix:y}})}i.deleteShader(P),i.deleteShader(A),U=new Xw(i,_),O=F0e(i,_)}let U;this.getUniforms=function(){return U===void 0&&R(this),U};let O;this.getAttributes=function(){return O===void 0&&R(this),O};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(_,R0e)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=P0e++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=P,this.fragmentShader=A,this}let Y0e=0;class K0e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Z0e(e),n.set(e,r)),r}}class Z0e{constructor(e){this.id=Y0e++,this.code=e,this.usedTimes=0}}function Q0e(t,e,n,r,i,o,a){const s=new Nh,l=new K0e,c=[],f=i.isWebGL2,p=i.logarithmicDepthBuffer,m=i.vertexTextures;let v=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(O){return O===0?"uv":`uv${O}`}function b(O,N,B,Y,J){const G=Y.fog,ne=J.geometry,ie=O.isMeshStandardMaterial?Y.environment:null,se=(O.isMeshStandardMaterial?n:e).get(O.envMap||ie),H=se&&se.mapping===m0?se.image.height:null,q=x[O.type];O.precision!==null&&(v=i.getMaxPrecision(O.precision),v!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",v,"instead."));const te=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,Q=te!==void 0?te.length:0;let ae=0;ne.morphAttributes.position!==void 0&&(ae=1),ne.morphAttributes.normal!==void 0&&(ae=2),ne.morphAttributes.color!==void 0&&(ae=3);let xe,we,Te,Ve;if(q){const Zn=yl[q];xe=Zn.vertexShader,we=Zn.fragmentShader}else xe=O.vertexShader,we=O.fragmentShader,l.update(O),Te=l.getVertexShaderID(O),Ve=l.getFragmentShaderID(O);const Ye=t.getRenderTarget(),et=J.isInstancedMesh===!0,ct=!!O.map,Lt=!!O.matcap,$e=!!se,oe=!!O.aoMap,Ae=!!O.lightMap,ge=!!O.bumpMap,ve=!!O.normalMap,Ue=!!O.displacementMap,We=!!O.emissiveMap,Je=!!O.metalnessMap,ot=!!O.roughnessMap,ft=O.anisotropy>0,lt=O.clearcoat>0,Ht=O.iridescence>0,ee=O.sheen>0,$=O.transmission>0,ye=ft&&!!O.anisotropyMap,Ge=lt&&!!O.clearcoatMap,Le=lt&&!!O.clearcoatNormalMap,Me=lt&&!!O.clearcoatRoughnessMap,De=Ht&&!!O.iridescenceMap,je=Ht&&!!O.iridescenceThicknessMap,at=ee&&!!O.sheenColorMap,At=ee&&!!O.sheenRoughnessMap,Ze=!!O.specularMap,Oe=!!O.specularColorMap,Ut=!!O.specularIntensityMap,Et=$&&!!O.transmissionMap,Nt=$&&!!O.thicknessMap,Ct=!!O.gradientMap,dt=!!O.alphaMap,Qt=O.alphaTest>0,de=!!O.alphaHash,ut=!!O.extensions,rt=!!ne.attributes.uv1,Ne=!!ne.attributes.uv2,it=!!ne.attributes.uv3;let zt=pc;return O.toneMapped&&(Ye===null||Ye.isXRRenderTarget===!0)&&(zt=t.toneMapping),{isWebGL2:f,shaderID:q,shaderType:O.type,shaderName:O.name,vertexShader:xe,fragmentShader:we,defines:O.defines,customVertexShaderID:Te,customFragmentShaderID:Ve,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:v,instancing:et,instancingColor:et&&J.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:Ye===null?t.outputColorSpace:Ye.isXRRenderTarget===!0?Ye.texture.colorSpace:_c,map:ct,matcap:Lt,envMap:$e,envMapMode:$e&&se.mapping,envMapCubeUVHeight:H,aoMap:oe,lightMap:Ae,bumpMap:ge,normalMap:ve,displacementMap:m&&Ue,emissiveMap:We,normalMapObjectSpace:ve&&O.normalMapType===z7,normalMapTangentSpace:ve&&O.normalMapType===cd,metalnessMap:Je,roughnessMap:ot,anisotropy:ft,anisotropyMap:ye,clearcoat:lt,clearcoatMap:Ge,clearcoatNormalMap:Le,clearcoatRoughnessMap:Me,iridescence:Ht,iridescenceMap:De,iridescenceThicknessMap:je,sheen:ee,sheenColorMap:at,sheenRoughnessMap:At,specularMap:Ze,specularColorMap:Oe,specularIntensityMap:Ut,transmission:$,transmissionMap:Et,thicknessMap:Nt,gradientMap:Ct,opaque:O.transparent===!1&&O.blending===Oh,alphaMap:dt,alphaTest:Qt,alphaHash:de,combine:O.combine,mapUv:ct&&_(O.map.channel),aoMapUv:oe&&_(O.aoMap.channel),lightMapUv:Ae&&_(O.lightMap.channel),bumpMapUv:ge&&_(O.bumpMap.channel),normalMapUv:ve&&_(O.normalMap.channel),displacementMapUv:Ue&&_(O.displacementMap.channel),emissiveMapUv:We&&_(O.emissiveMap.channel),metalnessMapUv:Je&&_(O.metalnessMap.channel),roughnessMapUv:ot&&_(O.roughnessMap.channel),anisotropyMapUv:ye&&_(O.anisotropyMap.channel),clearcoatMapUv:Ge&&_(O.clearcoatMap.channel),clearcoatNormalMapUv:Le&&_(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Me&&_(O.clearcoatRoughnessMap.channel),iridescenceMapUv:De&&_(O.iridescenceMap.channel),iridescenceThicknessMapUv:je&&_(O.iridescenceThicknessMap.channel),sheenColorMapUv:at&&_(O.sheenColorMap.channel),sheenRoughnessMapUv:At&&_(O.sheenRoughnessMap.channel),specularMapUv:Ze&&_(O.specularMap.channel),specularColorMapUv:Oe&&_(O.specularColorMap.channel),specularIntensityMapUv:Ut&&_(O.specularIntensityMap.channel),transmissionMapUv:Et&&_(O.transmissionMap.channel),thicknessMapUv:Nt&&_(O.thicknessMap.channel),alphaMapUv:dt&&_(O.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(ve||ft),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,vertexUv1s:rt,vertexUv2s:Ne,vertexUv3s:it,pointsUvs:J.isPoints===!0&&!!ne.attributes.uv&&(ct||dt),fog:!!G,useFog:O.fog===!0,fogExp2:G&&G.isFogExp2,flatShading:O.flatShading===!0,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:J.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:Q,morphTextureStride:ae,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:O.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:zt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:ct&&O.map.isVideoTexture===!0&&Qn.getTransfer(O.map.colorSpace)===mr,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===xl,flipSided:O.side===jo,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionDerivatives:ut&&O.extensions.derivatives===!0,extensionFragDepth:ut&&O.extensions.fragDepth===!0,extensionDrawBuffers:ut&&O.extensions.drawBuffers===!0,extensionShaderTextureLOD:ut&&O.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()}}function y(O){const N=[];if(O.shaderID?N.push(O.shaderID):(N.push(O.customVertexShaderID),N.push(O.customFragmentShaderID)),O.defines!==void 0)for(const B in O.defines)N.push(B),N.push(O.defines[B]);return O.isRawShaderMaterial===!1&&(S(N,O),M(N,O),N.push(t.outputColorSpace)),N.push(O.customProgramCacheKey),N.join()}function S(O,N){O.push(N.precision),O.push(N.outputColorSpace),O.push(N.envMapMode),O.push(N.envMapCubeUVHeight),O.push(N.mapUv),O.push(N.alphaMapUv),O.push(N.lightMapUv),O.push(N.aoMapUv),O.push(N.bumpMapUv),O.push(N.normalMapUv),O.push(N.displacementMapUv),O.push(N.emissiveMapUv),O.push(N.metalnessMapUv),O.push(N.roughnessMapUv),O.push(N.anisotropyMapUv),O.push(N.clearcoatMapUv),O.push(N.clearcoatNormalMapUv),O.push(N.clearcoatRoughnessMapUv),O.push(N.iridescenceMapUv),O.push(N.iridescenceThicknessMapUv),O.push(N.sheenColorMapUv),O.push(N.sheenRoughnessMapUv),O.push(N.specularMapUv),O.push(N.specularColorMapUv),O.push(N.specularIntensityMapUv),O.push(N.transmissionMapUv),O.push(N.thicknessMapUv),O.push(N.combine),O.push(N.fogExp2),O.push(N.sizeAttenuation),O.push(N.morphTargetsCount),O.push(N.morphAttributeCount),O.push(N.numDirLights),O.push(N.numPointLights),O.push(N.numSpotLights),O.push(N.numSpotLightMaps),O.push(N.numHemiLights),O.push(N.numRectAreaLights),O.push(N.numDirLightShadows),O.push(N.numPointLightShadows),O.push(N.numSpotLightShadows),O.push(N.numSpotLightShadowsWithMaps),O.push(N.numLightProbes),O.push(N.shadowMapType),O.push(N.toneMapping),O.push(N.numClippingPlanes),O.push(N.numClipIntersection),O.push(N.depthPacking)}function M(O,N){s.disableAll(),N.isWebGL2&&s.enable(0),N.supportsVertexTextures&&s.enable(1),N.instancing&&s.enable(2),N.instancingColor&&s.enable(3),N.matcap&&s.enable(4),N.envMap&&s.enable(5),N.normalMapObjectSpace&&s.enable(6),N.normalMapTangentSpace&&s.enable(7),N.clearcoat&&s.enable(8),N.iridescence&&s.enable(9),N.alphaTest&&s.enable(10),N.vertexColors&&s.enable(11),N.vertexAlphas&&s.enable(12),N.vertexUv1s&&s.enable(13),N.vertexUv2s&&s.enable(14),N.vertexUv3s&&s.enable(15),N.vertexTangents&&s.enable(16),N.anisotropy&&s.enable(17),N.alphaHash&&s.enable(18),O.push(s.mask),s.disableAll(),N.fog&&s.enable(0),N.useFog&&s.enable(1),N.flatShading&&s.enable(2),N.logarithmicDepthBuffer&&s.enable(3),N.skinning&&s.enable(4),N.morphTargets&&s.enable(5),N.morphNormals&&s.enable(6),N.morphColors&&s.enable(7),N.premultipliedAlpha&&s.enable(8),N.shadowMapEnabled&&s.enable(9),N.useLegacyLights&&s.enable(10),N.doubleSided&&s.enable(11),N.flipSided&&s.enable(12),N.useDepthPacking&&s.enable(13),N.dithering&&s.enable(14),N.transmission&&s.enable(15),N.sheen&&s.enable(16),N.opaque&&s.enable(17),N.pointsUvs&&s.enable(18),N.decodeVideoTexture&&s.enable(19),O.push(s.mask)}function C(O){const N=x[O.type];let B;if(N){const Y=yl[N];B=t9.clone(Y.uniforms)}else B=O.uniforms;return B}function P(O,N){let B;for(let Y=0,J=c.length;Y<J;Y++){const G=c[Y];if(G.cacheKey===N){B=G,++B.usedTimes;break}}return B===void 0&&(B=new q0e(t,N,O,o),c.push(B)),B}function A(O){if(--O.usedTimes===0){const N=c.indexOf(O);c[N]=c[c.length-1],c.pop(),O.destroy()}}function R(O){l.remove(O)}function U(){l.dispose()}return{getParameters:b,getProgramCacheKey:y,getUniforms:C,acquireProgram:P,releaseProgram:A,releaseShaderCache:R,programs:c,dispose:U}}function J0e(){let t=new WeakMap;function e(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function n(o){t.delete(o)}function r(o,a,s){t.get(o)[a]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function eve(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function JN(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function eD(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(p,m,v,x,_,b){let y=t[e];return y===void 0?(y={id:p.id,object:p,geometry:m,material:v,groupOrder:x,renderOrder:p.renderOrder,z:_,group:b},t[e]=y):(y.id=p.id,y.object=p,y.geometry=m,y.material=v,y.groupOrder=x,y.renderOrder=p.renderOrder,y.z=_,y.group=b),e++,y}function s(p,m,v,x,_,b){const y=a(p,m,v,x,_,b);v.transmission>0?r.push(y):v.transparent===!0?i.push(y):n.push(y)}function l(p,m,v,x,_,b){const y=a(p,m,v,x,_,b);v.transmission>0?r.unshift(y):v.transparent===!0?i.unshift(y):n.unshift(y)}function c(p,m){n.length>1&&n.sort(p||eve),r.length>1&&r.sort(m||JN),i.length>1&&i.sort(m||JN)}function f(){for(let p=e,m=t.length;p<m;p++){const v=t[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:f,sort:c}}function tve(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new eD,t.set(r,[a])):i>=o.length?(a=new eD,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function nve(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new K,color:new _t};break;case"SpotLight":n={position:new K,direction:new K,color:new _t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new K,color:new _t,distance:0,decay:0};break;case"HemisphereLight":n={direction:new K,skyColor:new _t,groundColor:new _t};break;case"RectAreaLight":n={color:new _t,position:new K,halfWidth:new K,halfHeight:new K};break}return t[e.id]=n,n}}}function rve(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let ive=0;function ove(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function ave(t,e){const n=new nve,r=rve(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new K);const o=new K,a=new dn,s=new dn;function l(f,p){let m=0,v=0,x=0;for(let Y=0;Y<9;Y++)i.probe[Y].set(0,0,0);let _=0,b=0,y=0,S=0,M=0,C=0,P=0,A=0,R=0,U=0,O=0;f.sort(ove);const N=p===!0?Math.PI:1;for(let Y=0,J=f.length;Y<J;Y++){const G=f[Y],ne=G.color,ie=G.intensity,se=G.distance,H=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)m+=ne.r*ie*N,v+=ne.g*ie*N,x+=ne.b*ie*N;else if(G.isLightProbe){for(let q=0;q<9;q++)i.probe[q].addScaledVector(G.sh.coefficients[q],ie);O++}else if(G.isDirectionalLight){const q=n.get(G);if(q.color.copy(G.color).multiplyScalar(G.intensity*N),G.castShadow){const te=G.shadow,Q=r.get(G);Q.shadowBias=te.bias,Q.shadowNormalBias=te.normalBias,Q.shadowRadius=te.radius,Q.shadowMapSize=te.mapSize,i.directionalShadow[_]=Q,i.directionalShadowMap[_]=H,i.directionalShadowMatrix[_]=G.shadow.matrix,C++}i.directional[_]=q,_++}else if(G.isSpotLight){const q=n.get(G);q.position.setFromMatrixPosition(G.matrixWorld),q.color.copy(ne).multiplyScalar(ie*N),q.distance=se,q.coneCos=Math.cos(G.angle),q.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),q.decay=G.decay,i.spot[y]=q;const te=G.shadow;if(G.map&&(i.spotLightMap[R]=G.map,R++,te.updateMatrices(G),G.castShadow&&U++),i.spotLightMatrix[y]=te.matrix,G.castShadow){const Q=r.get(G);Q.shadowBias=te.bias,Q.shadowNormalBias=te.normalBias,Q.shadowRadius=te.radius,Q.shadowMapSize=te.mapSize,i.spotShadow[y]=Q,i.spotShadowMap[y]=H,A++}y++}else if(G.isRectAreaLight){const q=n.get(G);q.color.copy(ne).multiplyScalar(ie),q.halfWidth.set(G.width*.5,0,0),q.halfHeight.set(0,G.height*.5,0),i.rectArea[S]=q,S++}else if(G.isPointLight){const q=n.get(G);if(q.color.copy(G.color).multiplyScalar(G.intensity*N),q.distance=G.distance,q.decay=G.decay,G.castShadow){const te=G.shadow,Q=r.get(G);Q.shadowBias=te.bias,Q.shadowNormalBias=te.normalBias,Q.shadowRadius=te.radius,Q.shadowMapSize=te.mapSize,Q.shadowCameraNear=te.camera.near,Q.shadowCameraFar=te.camera.far,i.pointShadow[b]=Q,i.pointShadowMap[b]=H,i.pointShadowMatrix[b]=G.shadow.matrix,P++}i.point[b]=q,b++}else if(G.isHemisphereLight){const q=n.get(G);q.skyColor.copy(G.color).multiplyScalar(ie*N),q.groundColor.copy(G.groundColor).multiplyScalar(ie*N),i.hemi[M]=q,M++}}S>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_FLOAT_1,i.rectAreaLTC2=pt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_HALF_1,i.rectAreaLTC2=pt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=x;const B=i.hash;(B.directionalLength!==_||B.pointLength!==b||B.spotLength!==y||B.rectAreaLength!==S||B.hemiLength!==M||B.numDirectionalShadows!==C||B.numPointShadows!==P||B.numSpotShadows!==A||B.numSpotMaps!==R||B.numLightProbes!==O)&&(i.directional.length=_,i.spot.length=y,i.rectArea.length=S,i.point.length=b,i.hemi.length=M,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=P,i.pointShadowMap.length=P,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=P,i.spotLightMatrix.length=A+R-U,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=U,i.numLightProbes=O,B.directionalLength=_,B.pointLength=b,B.spotLength=y,B.rectAreaLength=S,B.hemiLength=M,B.numDirectionalShadows=C,B.numPointShadows=P,B.numSpotShadows=A,B.numSpotMaps=R,B.numLightProbes=O,i.version=ive++)}function c(f,p){let m=0,v=0,x=0,_=0,b=0;const y=p.matrixWorldInverse;for(let S=0,M=f.length;S<M;S++){const C=f[S];if(C.isDirectionalLight){const P=i.directional[m];P.direction.setFromMatrixPosition(C.matrixWorld),o.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(o),P.direction.transformDirection(y),m++}else if(C.isSpotLight){const P=i.spot[x];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(y),P.direction.setFromMatrixPosition(C.matrixWorld),o.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(o),P.direction.transformDirection(y),x++}else if(C.isRectAreaLight){const P=i.rectArea[_];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(y),s.identity(),a.copy(C.matrixWorld),a.premultiply(y),s.extractRotation(a),P.halfWidth.set(C.width*.5,0,0),P.halfHeight.set(0,C.height*.5,0),P.halfWidth.applyMatrix4(s),P.halfHeight.applyMatrix4(s),_++}else if(C.isPointLight){const P=i.point[v];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(y),v++}else if(C.isHemisphereLight){const P=i.hemi[b];P.direction.setFromMatrixPosition(C.matrixWorld),P.direction.transformDirection(y),b++}}}return{setup:l,setupView:c,state:i}}function tD(t,e){const n=new ave(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(p){r.push(p)}function s(p){i.push(p)}function l(p){n.setup(r,p)}function c(p){n.setupView(r,p)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function sve(t,e){let n=new WeakMap;function r(o,a=0){const s=n.get(o);let l;return s===void 0?(l=new tD(t,e),n.set(o,[l])):a>=s.length?(l=new tD(t,e),s.push(l)):l=s[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class QI extends so{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=F7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class JI extends so{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const lve=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,cve=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function uve(t,e,n){let r=new PE;const i=new ze,o=new ze,a=new Yn,s=new QI({depthPacking:U7}),l=new JI,c={},f=n.maxTextureSize,p={[Mu]:jo,[jo]:Mu,[xl]:xl},m=new wc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ze},radius:{value:4}},vertexShader:lve,fragmentShader:cve}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const x=new Tn;x.setAttribute("position",new lr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new no(x,m),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=EE;let y=this.type;this.render=function(P,A,R){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||P.length===0)return;const U=t.getRenderTarget(),O=t.getActiveCubeFace(),N=t.getActiveMipmapLevel(),B=t.state;B.setBlending(gu),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);const Y=y!==ml&&this.type===ml,J=y===ml&&this.type!==ml;for(let G=0,ne=P.length;G<ne;G++){const ie=P[G],se=ie.shadow;if(se===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(se.autoUpdate===!1&&se.needsUpdate===!1)continue;i.copy(se.mapSize);const H=se.getFrameExtents();if(i.multiply(H),o.copy(se.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(o.x=Math.floor(f/H.x),i.x=o.x*H.x,se.mapSize.x=o.x),i.y>f&&(o.y=Math.floor(f/H.y),i.y=o.y*H.y,se.mapSize.y=o.y)),se.map===null||Y===!0||J===!0){const te=this.type!==ml?{minFilter:qr,magFilter:qr}:{};se.map!==null&&se.map.dispose(),se.map=new Rl(i.x,i.y,te),se.map.texture.name=ie.name+".shadowMap",se.camera.updateProjectionMatrix()}t.setRenderTarget(se.map),t.clear();const q=se.getViewportCount();for(let te=0;te<q;te++){const Q=se.getViewport(te);a.set(o.x*Q.x,o.y*Q.y,o.x*Q.z,o.y*Q.w),B.viewport(a),se.updateMatrices(ie,te),r=se.getFrustum(),C(A,R,se.camera,ie,this.type)}se.isPointLightShadow!==!0&&this.type===ml&&S(se,R),se.needsUpdate=!1}y=this.type,b.needsUpdate=!1,t.setRenderTarget(U,O,N)};function S(P,A){const R=e.update(_);m.defines.VSM_SAMPLES!==P.blurSamples&&(m.defines.VSM_SAMPLES=P.blurSamples,v.defines.VSM_SAMPLES=P.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Rl(i.x,i.y)),m.uniforms.shadow_pass.value=P.map.texture,m.uniforms.resolution.value=P.mapSize,m.uniforms.radius.value=P.radius,t.setRenderTarget(P.mapPass),t.clear(),t.renderBufferDirect(A,null,R,m,_,null),v.uniforms.shadow_pass.value=P.mapPass.texture,v.uniforms.resolution.value=P.mapSize,v.uniforms.radius.value=P.radius,t.setRenderTarget(P.map),t.clear(),t.renderBufferDirect(A,null,R,v,_,null)}function M(P,A,R,U){let O=null;const N=R.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(N!==void 0)O=N;else if(O=R.isPointLight===!0?l:s,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const B=O.uuid,Y=A.uuid;let J=c[B];J===void 0&&(J={},c[B]=J);let G=J[Y];G===void 0&&(G=O.clone(),J[Y]=G),O=G}if(O.visible=A.visible,O.wireframe=A.wireframe,U===ml?O.side=A.shadowSide!==null?A.shadowSide:A.side:O.side=A.shadowSide!==null?A.shadowSide:p[A.side],O.alphaMap=A.alphaMap,O.alphaTest=A.alphaTest,O.map=A.map,O.clipShadows=A.clipShadows,O.clippingPlanes=A.clippingPlanes,O.clipIntersection=A.clipIntersection,O.displacementMap=A.displacementMap,O.displacementScale=A.displacementScale,O.displacementBias=A.displacementBias,O.wireframeLinewidth=A.wireframeLinewidth,O.linewidth=A.linewidth,R.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const B=t.properties.get(O);B.light=R}return O}function C(P,A,R,U,O){if(P.visible===!1)return;if(P.layers.test(A.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&O===ml)&&(!P.frustumCulled||r.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,P.matrixWorld);const Y=e.update(P),J=P.material;if(Array.isArray(J)){const G=Y.groups;for(let ne=0,ie=G.length;ne<ie;ne++){const se=G[ne],H=J[se.materialIndex];if(H&&H.visible){const q=M(P,H,U,O);t.renderBufferDirect(R,null,Y,q,P,se)}}}else if(J.visible){const G=M(P,J,U,O);t.renderBufferDirect(R,null,Y,G,P,null)}}const B=P.children;for(let Y=0,J=B.length;Y<J;Y++)C(B[Y],A,R,U,O)}}function fve(t,e,n){const r=n.isWebGL2;function i(){let de=!1;const ut=new Yn;let rt=null;const Ne=new Yn(0,0,0,0);return{setMask:function(it){rt!==it&&!de&&(t.colorMask(it,it,it,it),rt=it)},setLocked:function(it){de=it},setClear:function(it,zt,yn,Zn,Ar){Ar===!0&&(it*=Zn,zt*=Zn,yn*=Zn),ut.set(it,zt,yn,Zn),Ne.equals(ut)===!1&&(t.clearColor(it,zt,yn,Zn),Ne.copy(ut))},reset:function(){de=!1,rt=null,Ne.set(-1,0,0,0)}}}function o(){let de=!1,ut=null,rt=null,Ne=null;return{setTest:function(it){it?ct(t.DEPTH_TEST):Lt(t.DEPTH_TEST)},setMask:function(it){ut!==it&&!de&&(t.depthMask(it),ut=it)},setFunc:function(it){if(rt!==it){switch(it){case d7:t.depthFunc(t.NEVER);break;case h7:t.depthFunc(t.ALWAYS);break;case p7:t.depthFunc(t.LESS);break;case g1:t.depthFunc(t.LEQUAL);break;case m7:t.depthFunc(t.EQUAL);break;case g7:t.depthFunc(t.GEQUAL);break;case v7:t.depthFunc(t.GREATER);break;case y7:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}rt=it}},setLocked:function(it){de=it},setClear:function(it){Ne!==it&&(t.clearDepth(it),Ne=it)},reset:function(){de=!1,ut=null,rt=null,Ne=null}}}function a(){let de=!1,ut=null,rt=null,Ne=null,it=null,zt=null,yn=null,Zn=null,Ar=null;return{setTest:function(nn){de||(nn?ct(t.STENCIL_TEST):Lt(t.STENCIL_TEST))},setMask:function(nn){ut!==nn&&!de&&(t.stencilMask(nn),ut=nn)},setFunc:function(nn,Sn,ur){(rt!==nn||Ne!==Sn||it!==ur)&&(t.stencilFunc(nn,Sn,ur),rt=nn,Ne=Sn,it=ur)},setOp:function(nn,Sn,ur){(zt!==nn||yn!==Sn||Zn!==ur)&&(t.stencilOp(nn,Sn,ur),zt=nn,yn=Sn,Zn=ur)},setLocked:function(nn){de=nn},setClear:function(nn){Ar!==nn&&(t.clearStencil(nn),Ar=nn)},reset:function(){de=!1,ut=null,rt=null,Ne=null,it=null,zt=null,yn=null,Zn=null,Ar=null}}}const s=new i,l=new o,c=new a,f=new WeakMap,p=new WeakMap;let m={},v={},x=new WeakMap,_=[],b=null,y=!1,S=null,M=null,C=null,P=null,A=null,R=null,U=null,O=new _t(0,0,0),N=0,B=!1,Y=null,J=null,G=null,ne=null,ie=null;const se=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,q=0;const te=t.getParameter(t.VERSION);te.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(te)[1]),H=q>=1):te.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),H=q>=2);let Q=null,ae={};const xe=t.getParameter(t.SCISSOR_BOX),we=t.getParameter(t.VIEWPORT),Te=new Yn().fromArray(xe),Ve=new Yn().fromArray(we);function Ye(de,ut,rt,Ne){const it=new Uint8Array(4),zt=t.createTexture();t.bindTexture(de,zt),t.texParameteri(de,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(de,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let yn=0;yn<rt;yn++)r&&(de===t.TEXTURE_3D||de===t.TEXTURE_2D_ARRAY)?t.texImage3D(ut,0,t.RGBA,1,1,Ne,0,t.RGBA,t.UNSIGNED_BYTE,it):t.texImage2D(ut+yn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,it);return zt}const et={};et[t.TEXTURE_2D]=Ye(t.TEXTURE_2D,t.TEXTURE_2D,1),et[t.TEXTURE_CUBE_MAP]=Ye(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(et[t.TEXTURE_2D_ARRAY]=Ye(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),et[t.TEXTURE_3D]=Ye(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ct(t.DEPTH_TEST),l.setFunc(g1),Je(!1),ot(PR),ct(t.CULL_FACE),Ue(gu);function ct(de){m[de]!==!0&&(t.enable(de),m[de]=!0)}function Lt(de){m[de]!==!1&&(t.disable(de),m[de]=!1)}function $e(de,ut){return v[de]!==ut?(t.bindFramebuffer(de,ut),v[de]=ut,r&&(de===t.DRAW_FRAMEBUFFER&&(v[t.FRAMEBUFFER]=ut),de===t.FRAMEBUFFER&&(v[t.DRAW_FRAMEBUFFER]=ut)),!0):!1}function oe(de,ut){let rt=_,Ne=!1;if(de)if(rt=x.get(ut),rt===void 0&&(rt=[],x.set(ut,rt)),de.isWebGLMultipleRenderTargets){const it=de.texture;if(rt.length!==it.length||rt[0]!==t.COLOR_ATTACHMENT0){for(let zt=0,yn=it.length;zt<yn;zt++)rt[zt]=t.COLOR_ATTACHMENT0+zt;rt.length=it.length,Ne=!0}}else rt[0]!==t.COLOR_ATTACHMENT0&&(rt[0]=t.COLOR_ATTACHMENT0,Ne=!0);else rt[0]!==t.BACK&&(rt[0]=t.BACK,Ne=!0);Ne&&(n.isWebGL2?t.drawBuffers(rt):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(rt))}function Ae(de){return b!==de?(t.useProgram(de),b=de,!0):!1}const ge={[Rf]:t.FUNC_ADD,[Z$]:t.FUNC_SUBTRACT,[Q$]:t.FUNC_REVERSE_SUBTRACT};if(r)ge[kR]=t.MIN,ge[NR]=t.MAX;else{const de=e.get("EXT_blend_minmax");de!==null&&(ge[kR]=de.MIN_EXT,ge[NR]=de.MAX_EXT)}const ve={[J$]:t.ZERO,[e7]:t.ONE,[t7]:t.SRC_COLOR,[NS]:t.SRC_ALPHA,[s7]:t.SRC_ALPHA_SATURATE,[o7]:t.DST_COLOR,[r7]:t.DST_ALPHA,[n7]:t.ONE_MINUS_SRC_COLOR,[DS]:t.ONE_MINUS_SRC_ALPHA,[a7]:t.ONE_MINUS_DST_COLOR,[i7]:t.ONE_MINUS_DST_ALPHA,[l7]:t.CONSTANT_COLOR,[c7]:t.ONE_MINUS_CONSTANT_COLOR,[u7]:t.CONSTANT_ALPHA,[f7]:t.ONE_MINUS_CONSTANT_ALPHA};function Ue(de,ut,rt,Ne,it,zt,yn,Zn,Ar,nn){if(de===gu){y===!0&&(Lt(t.BLEND),y=!1);return}if(y===!1&&(ct(t.BLEND),y=!0),de!==K$){if(de!==S||nn!==B){if((M!==Rf||A!==Rf)&&(t.blendEquation(t.FUNC_ADD),M=Rf,A=Rf),nn)switch(de){case Oh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case IR:t.blendFunc(t.ONE,t.ONE);break;case LR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case OR:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}else switch(de){case Oh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case IR:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case LR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case OR:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}C=null,P=null,R=null,U=null,O.set(0,0,0),N=0,S=de,B=nn}return}it=it||ut,zt=zt||rt,yn=yn||Ne,(ut!==M||it!==A)&&(t.blendEquationSeparate(ge[ut],ge[it]),M=ut,A=it),(rt!==C||Ne!==P||zt!==R||yn!==U)&&(t.blendFuncSeparate(ve[rt],ve[Ne],ve[zt],ve[yn]),C=rt,P=Ne,R=zt,U=yn),(Zn.equals(O)===!1||Ar!==N)&&(t.blendColor(Zn.r,Zn.g,Zn.b,Ar),O.copy(Zn),N=Ar),S=de,B=!1}function We(de,ut){de.side===xl?Lt(t.CULL_FACE):ct(t.CULL_FACE);let rt=de.side===jo;ut&&(rt=!rt),Je(rt),de.blending===Oh&&de.transparent===!1?Ue(gu):Ue(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.blendColor,de.blendAlpha,de.premultipliedAlpha),l.setFunc(de.depthFunc),l.setTest(de.depthTest),l.setMask(de.depthWrite),s.setMask(de.colorWrite);const Ne=de.stencilWrite;c.setTest(Ne),Ne&&(c.setMask(de.stencilWriteMask),c.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),c.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),lt(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),de.alphaToCoverage===!0?ct(t.SAMPLE_ALPHA_TO_COVERAGE):Lt(t.SAMPLE_ALPHA_TO_COVERAGE)}function Je(de){Y!==de&&(de?t.frontFace(t.CW):t.frontFace(t.CCW),Y=de)}function ot(de){de!==X$?(ct(t.CULL_FACE),de!==J&&(de===PR?t.cullFace(t.BACK):de===q$?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Lt(t.CULL_FACE),J=de}function ft(de){de!==G&&(H&&t.lineWidth(de),G=de)}function lt(de,ut,rt){de?(ct(t.POLYGON_OFFSET_FILL),(ne!==ut||ie!==rt)&&(t.polygonOffset(ut,rt),ne=ut,ie=rt)):Lt(t.POLYGON_OFFSET_FILL)}function Ht(de){de?ct(t.SCISSOR_TEST):Lt(t.SCISSOR_TEST)}function ee(de){de===void 0&&(de=t.TEXTURE0+se-1),Q!==de&&(t.activeTexture(de),Q=de)}function $(de,ut,rt){rt===void 0&&(Q===null?rt=t.TEXTURE0+se-1:rt=Q);let Ne=ae[rt];Ne===void 0&&(Ne={type:void 0,texture:void 0},ae[rt]=Ne),(Ne.type!==de||Ne.texture!==ut)&&(Q!==rt&&(t.activeTexture(rt),Q=rt),t.bindTexture(de,ut||et[de]),Ne.type=de,Ne.texture=ut)}function ye(){const de=ae[Q];de!==void 0&&de.type!==void 0&&(t.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function Ge(){try{t.compressedTexImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Le(){try{t.compressedTexImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Me(){try{t.texSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function De(){try{t.texSubImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function je(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function at(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function At(){try{t.texStorage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ze(){try{t.texStorage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Oe(){try{t.texImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ut(){try{t.texImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Et(de){Te.equals(de)===!1&&(t.scissor(de.x,de.y,de.z,de.w),Te.copy(de))}function Nt(de){Ve.equals(de)===!1&&(t.viewport(de.x,de.y,de.z,de.w),Ve.copy(de))}function Ct(de,ut){let rt=p.get(ut);rt===void 0&&(rt=new WeakMap,p.set(ut,rt));let Ne=rt.get(de);Ne===void 0&&(Ne=t.getUniformBlockIndex(ut,de.name),rt.set(de,Ne))}function dt(de,ut){const Ne=p.get(ut).get(de);f.get(ut)!==Ne&&(t.uniformBlockBinding(ut,Ne,de.__bindingPointIndex),f.set(ut,Ne))}function Qt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),m={},Q=null,ae={},v={},x=new WeakMap,_=[],b=null,y=!1,S=null,M=null,C=null,P=null,A=null,R=null,U=null,O=new _t(0,0,0),N=0,B=!1,Y=null,J=null,G=null,ne=null,ie=null,Te.set(0,0,t.canvas.width,t.canvas.height),Ve.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:ct,disable:Lt,bindFramebuffer:$e,drawBuffers:oe,useProgram:Ae,setBlending:Ue,setMaterial:We,setFlipSided:Je,setCullFace:ot,setLineWidth:ft,setPolygonOffset:lt,setScissorTest:Ht,activeTexture:ee,bindTexture:$,unbindTexture:ye,compressedTexImage2D:Ge,compressedTexImage3D:Le,texImage2D:Oe,texImage3D:Ut,updateUBOMapping:Ct,uniformBlockBinding:dt,texStorage2D:At,texStorage3D:Ze,texSubImage2D:Me,texSubImage3D:De,compressedTexSubImage2D:je,compressedTexSubImage3D:at,scissor:Et,viewport:Nt,reset:Qt}}function dve(t,e,n,r,i,o,a){const s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,f=i.maxTextureSize,p=i.maxSamples,m=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),x=new WeakMap;let _;const b=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(ee,$){return y?new OffscreenCanvas(ee,$):R1("canvas")}function M(ee,$,ye,Ge){let Le=1;if((ee.width>Ge||ee.height>Ge)&&(Le=Ge/Math.max(ee.width,ee.height)),Le<1||$===!0)if(typeof HTMLImageElement<"u"&&ee instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ee instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ee instanceof ImageBitmap){const Me=$?zS:Math.floor,De=Me(Le*ee.width),je=Me(Le*ee.height);_===void 0&&(_=S(De,je));const at=ye?S(De,je):_;return at.width=De,at.height=je,at.getContext("2d").drawImage(ee,0,0,De,je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ee.width+"x"+ee.height+") to ("+De+"x"+je+")."),at}else return"data"in ee&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ee.width+"x"+ee.height+")."),ee;return ee}function C(ee){return u3(ee.width)&&u3(ee.height)}function P(ee){return s?!1:ee.wrapS!==Vi||ee.wrapT!==Vi||ee.minFilter!==qr&&ee.minFilter!==ai}function A(ee,$){return ee.generateMipmaps&&$&&ee.minFilter!==qr&&ee.minFilter!==ai}function R(ee){t.generateMipmap(ee)}function U(ee,$,ye,Ge,Le=!1){if(s===!1)return $;if(ee!==null){if(t[ee]!==void 0)return t[ee];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ee+"'")}let Me=$;if($===t.RED&&(ye===t.FLOAT&&(Me=t.R32F),ye===t.HALF_FLOAT&&(Me=t.R16F),ye===t.UNSIGNED_BYTE&&(Me=t.R8)),$===t.RED_INTEGER&&(ye===t.UNSIGNED_BYTE&&(Me=t.R8UI),ye===t.UNSIGNED_SHORT&&(Me=t.R16UI),ye===t.UNSIGNED_INT&&(Me=t.R32UI),ye===t.BYTE&&(Me=t.R8I),ye===t.SHORT&&(Me=t.R16I),ye===t.INT&&(Me=t.R32I)),$===t.RG&&(ye===t.FLOAT&&(Me=t.RG32F),ye===t.HALF_FLOAT&&(Me=t.RG16F),ye===t.UNSIGNED_BYTE&&(Me=t.RG8)),$===t.RGBA){const De=Le?M1:Qn.getTransfer(Ge);ye===t.FLOAT&&(Me=t.RGBA32F),ye===t.HALF_FLOAT&&(Me=t.RGBA16F),ye===t.UNSIGNED_BYTE&&(Me=De===mr?t.SRGB8_ALPHA8:t.RGBA8),ye===t.UNSIGNED_SHORT_4_4_4_4&&(Me=t.RGBA4),ye===t.UNSIGNED_SHORT_5_5_5_1&&(Me=t.RGB5_A1)}return(Me===t.R16F||Me===t.R32F||Me===t.RG16F||Me===t.RG32F||Me===t.RGBA16F||Me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Me}function O(ee,$,ye){return A(ee,ye)===!0||ee.isFramebufferTexture&&ee.minFilter!==qr&&ee.minFilter!==ai?Math.log2(Math.max($.width,$.height))+1:ee.mipmaps!==void 0&&ee.mipmaps.length>0?ee.mipmaps.length:ee.isCompressedTexture&&Array.isArray(ee.image)?$.mipmaps.length:1}function N(ee){return ee===qr||ee===FS||ee===Oy?t.NEAREST:t.LINEAR}function B(ee){const $=ee.target;$.removeEventListener("dispose",B),J($),$.isVideoTexture&&x.delete($)}function Y(ee){const $=ee.target;$.removeEventListener("dispose",Y),ne($)}function J(ee){const $=r.get(ee);if($.__webglInit===void 0)return;const ye=ee.source,Ge=b.get(ye);if(Ge){const Le=Ge[$.__cacheKey];Le.usedTimes--,Le.usedTimes===0&&G(ee),Object.keys(Ge).length===0&&b.delete(ye)}r.remove(ee)}function G(ee){const $=r.get(ee);t.deleteTexture($.__webglTexture);const ye=ee.source,Ge=b.get(ye);delete Ge[$.__cacheKey],a.memory.textures--}function ne(ee){const $=ee.texture,ye=r.get(ee),Ge=r.get($);if(Ge.__webglTexture!==void 0&&(t.deleteTexture(Ge.__webglTexture),a.memory.textures--),ee.depthTexture&&ee.depthTexture.dispose(),ee.isWebGLCubeRenderTarget)for(let Le=0;Le<6;Le++){if(Array.isArray(ye.__webglFramebuffer[Le]))for(let Me=0;Me<ye.__webglFramebuffer[Le].length;Me++)t.deleteFramebuffer(ye.__webglFramebuffer[Le][Me]);else t.deleteFramebuffer(ye.__webglFramebuffer[Le]);ye.__webglDepthbuffer&&t.deleteRenderbuffer(ye.__webglDepthbuffer[Le])}else{if(Array.isArray(ye.__webglFramebuffer))for(let Le=0;Le<ye.__webglFramebuffer.length;Le++)t.deleteFramebuffer(ye.__webglFramebuffer[Le]);else t.deleteFramebuffer(ye.__webglFramebuffer);if(ye.__webglDepthbuffer&&t.deleteRenderbuffer(ye.__webglDepthbuffer),ye.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ye.__webglMultisampledFramebuffer),ye.__webglColorRenderbuffer)for(let Le=0;Le<ye.__webglColorRenderbuffer.length;Le++)ye.__webglColorRenderbuffer[Le]&&t.deleteRenderbuffer(ye.__webglColorRenderbuffer[Le]);ye.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ye.__webglDepthRenderbuffer)}if(ee.isWebGLMultipleRenderTargets)for(let Le=0,Me=$.length;Le<Me;Le++){const De=r.get($[Le]);De.__webglTexture&&(t.deleteTexture(De.__webglTexture),a.memory.textures--),r.remove($[Le])}r.remove($),r.remove(ee)}let ie=0;function se(){ie=0}function H(){const ee=ie;return ee>=l&&console.warn("THREE.WebGLTextures: Trying to use "+ee+" texture units while this GPU supports only "+l),ie+=1,ee}function q(ee){const $=[];return $.push(ee.wrapS),$.push(ee.wrapT),$.push(ee.wrapR||0),$.push(ee.magFilter),$.push(ee.minFilter),$.push(ee.anisotropy),$.push(ee.internalFormat),$.push(ee.format),$.push(ee.type),$.push(ee.generateMipmaps),$.push(ee.premultiplyAlpha),$.push(ee.flipY),$.push(ee.unpackAlignment),$.push(ee.colorSpace),$.join()}function te(ee,$){const ye=r.get(ee);if(ee.isVideoTexture&&lt(ee),ee.isRenderTargetTexture===!1&&ee.version>0&&ye.__version!==ee.version){const Ge=ee.image;if(Ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ct(ye,ee,$);return}}n.bindTexture(t.TEXTURE_2D,ye.__webglTexture,t.TEXTURE0+$)}function Q(ee,$){const ye=r.get(ee);if(ee.version>0&&ye.__version!==ee.version){ct(ye,ee,$);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ye.__webglTexture,t.TEXTURE0+$)}function ae(ee,$){const ye=r.get(ee);if(ee.version>0&&ye.__version!==ee.version){ct(ye,ee,$);return}n.bindTexture(t.TEXTURE_3D,ye.__webglTexture,t.TEXTURE0+$)}function xe(ee,$){const ye=r.get(ee);if(ee.version>0&&ye.__version!==ee.version){Lt(ye,ee,$);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ye.__webglTexture,t.TEXTURE0+$)}const we={[x1]:t.REPEAT,[Vi]:t.CLAMP_TO_EDGE,[b1]:t.MIRRORED_REPEAT},Te={[qr]:t.NEAREST,[FS]:t.NEAREST_MIPMAP_NEAREST,[Oy]:t.NEAREST_MIPMAP_LINEAR,[ai]:t.LINEAR,[DI]:t.LINEAR_MIPMAP_NEAREST,[Zf]:t.LINEAR_MIPMAP_LINEAR},Ve={[B7]:t.NEVER,[X7]:t.ALWAYS,[$7]:t.LESS,[V7]:t.LEQUAL,[H7]:t.EQUAL,[j7]:t.GEQUAL,[W7]:t.GREATER,[G7]:t.NOTEQUAL};function Ye(ee,$,ye){if(ye?(t.texParameteri(ee,t.TEXTURE_WRAP_S,we[$.wrapS]),t.texParameteri(ee,t.TEXTURE_WRAP_T,we[$.wrapT]),(ee===t.TEXTURE_3D||ee===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ee,t.TEXTURE_WRAP_R,we[$.wrapR]),t.texParameteri(ee,t.TEXTURE_MAG_FILTER,Te[$.magFilter]),t.texParameteri(ee,t.TEXTURE_MIN_FILTER,Te[$.minFilter])):(t.texParameteri(ee,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(ee,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(ee===t.TEXTURE_3D||ee===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ee,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),($.wrapS!==Vi||$.wrapT!==Vi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(ee,t.TEXTURE_MAG_FILTER,N($.magFilter)),t.texParameteri(ee,t.TEXTURE_MIN_FILTER,N($.minFilter)),$.minFilter!==qr&&$.minFilter!==ai&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),$.compareFunction&&(t.texParameteri(ee,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ee,t.TEXTURE_COMPARE_FUNC,Ve[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ge=e.get("EXT_texture_filter_anisotropic");if($.magFilter===qr||$.minFilter!==Oy&&$.minFilter!==Zf||$.type===Sl&&e.has("OES_texture_float_linear")===!1||s===!1&&$.type===Yh&&e.has("OES_texture_half_float_linear")===!1)return;($.anisotropy>1||r.get($).__currentAnisotropy)&&(t.texParameterf(ee,Ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,i.getMaxAnisotropy())),r.get($).__currentAnisotropy=$.anisotropy)}}function et(ee,$){let ye=!1;ee.__webglInit===void 0&&(ee.__webglInit=!0,$.addEventListener("dispose",B));const Ge=$.source;let Le=b.get(Ge);Le===void 0&&(Le={},b.set(Ge,Le));const Me=q($);if(Me!==ee.__cacheKey){Le[Me]===void 0&&(Le[Me]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ye=!0),Le[Me].usedTimes++;const De=Le[ee.__cacheKey];De!==void 0&&(Le[ee.__cacheKey].usedTimes--,De.usedTimes===0&&G($)),ee.__cacheKey=Me,ee.__webglTexture=Le[Me].texture}return ye}function ct(ee,$,ye){let Ge=t.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(Ge=t.TEXTURE_2D_ARRAY),$.isData3DTexture&&(Ge=t.TEXTURE_3D);const Le=et(ee,$),Me=$.source;n.bindTexture(Ge,ee.__webglTexture,t.TEXTURE0+ye);const De=r.get(Me);if(Me.version!==De.__version||Le===!0){n.activeTexture(t.TEXTURE0+ye);const je=Qn.getPrimaries(Qn.workingColorSpace),at=$.colorSpace===Ka?null:Qn.getPrimaries($.colorSpace),At=$.colorSpace===Ka||je===at?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,At);const Ze=P($)&&C($.image)===!1;let Oe=M($.image,Ze,!1,f);Oe=Ht($,Oe);const Ut=C(Oe)||s,Et=o.convert($.format,$.colorSpace);let Nt=o.convert($.type),Ct=U($.internalFormat,Et,Nt,$.colorSpace,$.isVideoTexture);Ye(Ge,$,Ut);let dt;const Qt=$.mipmaps,de=s&&$.isVideoTexture!==!0,ut=De.__version===void 0||Le===!0,rt=O($,Oe,Ut);if($.isDepthTexture)Ct=t.DEPTH_COMPONENT,s?$.type===Sl?Ct=t.DEPTH_COMPONENT32F:$.type===fu?Ct=t.DEPTH_COMPONENT24:$.type===$f?Ct=t.DEPTH24_STENCIL8:Ct=t.DEPTH_COMPONENT16:$.type===Sl&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),$.format===Hf&&Ct===t.DEPTH_COMPONENT&&$.type!==CE&&$.type!==fu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),$.type=fu,Nt=o.convert($.type)),$.format===Kh&&Ct===t.DEPTH_COMPONENT&&(Ct=t.DEPTH_STENCIL,$.type!==$f&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),$.type=$f,Nt=o.convert($.type))),ut&&(de?n.texStorage2D(t.TEXTURE_2D,1,Ct,Oe.width,Oe.height):n.texImage2D(t.TEXTURE_2D,0,Ct,Oe.width,Oe.height,0,Et,Nt,null));else if($.isDataTexture)if(Qt.length>0&&Ut){de&&ut&&n.texStorage2D(t.TEXTURE_2D,rt,Ct,Qt[0].width,Qt[0].height);for(let Ne=0,it=Qt.length;Ne<it;Ne++)dt=Qt[Ne],de?n.texSubImage2D(t.TEXTURE_2D,Ne,0,0,dt.width,dt.height,Et,Nt,dt.data):n.texImage2D(t.TEXTURE_2D,Ne,Ct,dt.width,dt.height,0,Et,Nt,dt.data);$.generateMipmaps=!1}else de?(ut&&n.texStorage2D(t.TEXTURE_2D,rt,Ct,Oe.width,Oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Oe.width,Oe.height,Et,Nt,Oe.data)):n.texImage2D(t.TEXTURE_2D,0,Ct,Oe.width,Oe.height,0,Et,Nt,Oe.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){de&&ut&&n.texStorage3D(t.TEXTURE_2D_ARRAY,rt,Ct,Qt[0].width,Qt[0].height,Oe.depth);for(let Ne=0,it=Qt.length;Ne<it;Ne++)dt=Qt[Ne],$.format!==Wo?Et!==null?de?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ne,0,0,0,dt.width,dt.height,Oe.depth,Et,dt.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ne,Ct,dt.width,dt.height,Oe.depth,0,dt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):de?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ne,0,0,0,dt.width,dt.height,Oe.depth,Et,Nt,dt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ne,Ct,dt.width,dt.height,Oe.depth,0,Et,Nt,dt.data)}else{de&&ut&&n.texStorage2D(t.TEXTURE_2D,rt,Ct,Qt[0].width,Qt[0].height);for(let Ne=0,it=Qt.length;Ne<it;Ne++)dt=Qt[Ne],$.format!==Wo?Et!==null?de?n.compressedTexSubImage2D(t.TEXTURE_2D,Ne,0,0,dt.width,dt.height,Et,dt.data):n.compressedTexImage2D(t.TEXTURE_2D,Ne,Ct,dt.width,dt.height,0,dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):de?n.texSubImage2D(t.TEXTURE_2D,Ne,0,0,dt.width,dt.height,Et,Nt,dt.data):n.texImage2D(t.TEXTURE_2D,Ne,Ct,dt.width,dt.height,0,Et,Nt,dt.data)}else if($.isDataArrayTexture)de?(ut&&n.texStorage3D(t.TEXTURE_2D_ARRAY,rt,Ct,Oe.width,Oe.height,Oe.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Oe.width,Oe.height,Oe.depth,Et,Nt,Oe.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ct,Oe.width,Oe.height,Oe.depth,0,Et,Nt,Oe.data);else if($.isData3DTexture)de?(ut&&n.texStorage3D(t.TEXTURE_3D,rt,Ct,Oe.width,Oe.height,Oe.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Oe.width,Oe.height,Oe.depth,Et,Nt,Oe.data)):n.texImage3D(t.TEXTURE_3D,0,Ct,Oe.width,Oe.height,Oe.depth,0,Et,Nt,Oe.data);else if($.isFramebufferTexture){if(ut)if(de)n.texStorage2D(t.TEXTURE_2D,rt,Ct,Oe.width,Oe.height);else{let Ne=Oe.width,it=Oe.height;for(let zt=0;zt<rt;zt++)n.texImage2D(t.TEXTURE_2D,zt,Ct,Ne,it,0,Et,Nt,null),Ne>>=1,it>>=1}}else if(Qt.length>0&&Ut){de&&ut&&n.texStorage2D(t.TEXTURE_2D,rt,Ct,Qt[0].width,Qt[0].height);for(let Ne=0,it=Qt.length;Ne<it;Ne++)dt=Qt[Ne],de?n.texSubImage2D(t.TEXTURE_2D,Ne,0,0,Et,Nt,dt):n.texImage2D(t.TEXTURE_2D,Ne,Ct,Et,Nt,dt);$.generateMipmaps=!1}else de?(ut&&n.texStorage2D(t.TEXTURE_2D,rt,Ct,Oe.width,Oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Et,Nt,Oe)):n.texImage2D(t.TEXTURE_2D,0,Ct,Et,Nt,Oe);A($,Ut)&&R(Ge),De.__version=Me.version,$.onUpdate&&$.onUpdate($)}ee.__version=$.version}function Lt(ee,$,ye){if($.image.length!==6)return;const Ge=et(ee,$),Le=$.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ee.__webglTexture,t.TEXTURE0+ye);const Me=r.get(Le);if(Le.version!==Me.__version||Ge===!0){n.activeTexture(t.TEXTURE0+ye);const De=Qn.getPrimaries(Qn.workingColorSpace),je=$.colorSpace===Ka?null:Qn.getPrimaries($.colorSpace),at=$.colorSpace===Ka||De===je?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,at);const At=$.isCompressedTexture||$.image[0].isCompressedTexture,Ze=$.image[0]&&$.image[0].isDataTexture,Oe=[];for(let Ne=0;Ne<6;Ne++)!At&&!Ze?Oe[Ne]=M($.image[Ne],!1,!0,c):Oe[Ne]=Ze?$.image[Ne].image:$.image[Ne],Oe[Ne]=Ht($,Oe[Ne]);const Ut=Oe[0],Et=C(Ut)||s,Nt=o.convert($.format,$.colorSpace),Ct=o.convert($.type),dt=U($.internalFormat,Nt,Ct,$.colorSpace),Qt=s&&$.isVideoTexture!==!0,de=Me.__version===void 0||Ge===!0;let ut=O($,Ut,Et);Ye(t.TEXTURE_CUBE_MAP,$,Et);let rt;if(At){Qt&&de&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ut,dt,Ut.width,Ut.height);for(let Ne=0;Ne<6;Ne++){rt=Oe[Ne].mipmaps;for(let it=0;it<rt.length;it++){const zt=rt[it];$.format!==Wo?Nt!==null?Qt?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,it,0,0,zt.width,zt.height,Nt,zt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,it,dt,zt.width,zt.height,0,zt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Qt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,it,0,0,zt.width,zt.height,Nt,Ct,zt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,it,dt,zt.width,zt.height,0,Nt,Ct,zt.data)}}}else{rt=$.mipmaps,Qt&&de&&(rt.length>0&&ut++,n.texStorage2D(t.TEXTURE_CUBE_MAP,ut,dt,Oe[0].width,Oe[0].height));for(let Ne=0;Ne<6;Ne++)if(Ze){Qt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0,0,0,Oe[Ne].width,Oe[Ne].height,Nt,Ct,Oe[Ne].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0,dt,Oe[Ne].width,Oe[Ne].height,0,Nt,Ct,Oe[Ne].data);for(let it=0;it<rt.length;it++){const yn=rt[it].image[Ne].image;Qt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,it+1,0,0,yn.width,yn.height,Nt,Ct,yn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,it+1,dt,yn.width,yn.height,0,Nt,Ct,yn.data)}}else{Qt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0,0,0,Nt,Ct,Oe[Ne]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0,dt,Nt,Ct,Oe[Ne]);for(let it=0;it<rt.length;it++){const zt=rt[it];Qt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,it+1,0,0,Nt,Ct,zt.image[Ne]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,it+1,dt,Nt,Ct,zt.image[Ne])}}}A($,Et)&&R(t.TEXTURE_CUBE_MAP),Me.__version=Le.version,$.onUpdate&&$.onUpdate($)}ee.__version=$.version}function $e(ee,$,ye,Ge,Le,Me){const De=o.convert(ye.format,ye.colorSpace),je=o.convert(ye.type),at=U(ye.internalFormat,De,je,ye.colorSpace);if(!r.get($).__hasExternalTextures){const Ze=Math.max(1,$.width>>Me),Oe=Math.max(1,$.height>>Me);Le===t.TEXTURE_3D||Le===t.TEXTURE_2D_ARRAY?n.texImage3D(Le,Me,at,Ze,Oe,$.depth,0,De,je,null):n.texImage2D(Le,Me,at,Ze,Oe,0,De,je,null)}n.bindFramebuffer(t.FRAMEBUFFER,ee),ft($)?m.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ge,Le,r.get(ye).__webglTexture,0,ot($)):(Le===t.TEXTURE_2D||Le>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Le<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ge,Le,r.get(ye).__webglTexture,Me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function oe(ee,$,ye){if(t.bindRenderbuffer(t.RENDERBUFFER,ee),$.depthBuffer&&!$.stencilBuffer){let Ge=s===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ye||ft($)){const Le=$.depthTexture;Le&&Le.isDepthTexture&&(Le.type===Sl?Ge=t.DEPTH_COMPONENT32F:Le.type===fu&&(Ge=t.DEPTH_COMPONENT24));const Me=ot($);ft($)?m.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Me,Ge,$.width,$.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Me,Ge,$.width,$.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ge,$.width,$.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,ee)}else if($.depthBuffer&&$.stencilBuffer){const Ge=ot($);ye&&ft($)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ge,t.DEPTH24_STENCIL8,$.width,$.height):ft($)?m.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ge,t.DEPTH24_STENCIL8,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,ee)}else{const Ge=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let Le=0;Le<Ge.length;Le++){const Me=Ge[Le],De=o.convert(Me.format,Me.colorSpace),je=o.convert(Me.type),at=U(Me.internalFormat,De,je,Me.colorSpace),At=ot($);ye&&ft($)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,At,at,$.width,$.height):ft($)?m.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,At,at,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,at,$.width,$.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ae(ee,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ee),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get($.depthTexture).__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),te($.depthTexture,0);const Ge=r.get($.depthTexture).__webglTexture,Le=ot($);if($.depthTexture.format===Hf)ft($)?m.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ge,0,Le):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ge,0);else if($.depthTexture.format===Kh)ft($)?m.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ge,0,Le):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ge,0);else throw new Error("Unknown depthTexture format")}function ge(ee){const $=r.get(ee),ye=ee.isWebGLCubeRenderTarget===!0;if(ee.depthTexture&&!$.__autoAllocateDepthBuffer){if(ye)throw new Error("target.depthTexture not supported in Cube render targets");Ae($.__webglFramebuffer,ee)}else if(ye){$.__webglDepthbuffer=[];for(let Ge=0;Ge<6;Ge++)n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer[Ge]),$.__webglDepthbuffer[Ge]=t.createRenderbuffer(),oe($.__webglDepthbuffer[Ge],ee,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer=t.createRenderbuffer(),oe($.__webglDepthbuffer,ee,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function ve(ee,$,ye){const Ge=r.get(ee);$!==void 0&&$e(Ge.__webglFramebuffer,ee,ee.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ye!==void 0&&ge(ee)}function Ue(ee){const $=ee.texture,ye=r.get(ee),Ge=r.get($);ee.addEventListener("dispose",Y),ee.isWebGLMultipleRenderTargets!==!0&&(Ge.__webglTexture===void 0&&(Ge.__webglTexture=t.createTexture()),Ge.__version=$.version,a.memory.textures++);const Le=ee.isWebGLCubeRenderTarget===!0,Me=ee.isWebGLMultipleRenderTargets===!0,De=C(ee)||s;if(Le){ye.__webglFramebuffer=[];for(let je=0;je<6;je++)if(s&&$.mipmaps&&$.mipmaps.length>0){ye.__webglFramebuffer[je]=[];for(let at=0;at<$.mipmaps.length;at++)ye.__webglFramebuffer[je][at]=t.createFramebuffer()}else ye.__webglFramebuffer[je]=t.createFramebuffer()}else{if(s&&$.mipmaps&&$.mipmaps.length>0){ye.__webglFramebuffer=[];for(let je=0;je<$.mipmaps.length;je++)ye.__webglFramebuffer[je]=t.createFramebuffer()}else ye.__webglFramebuffer=t.createFramebuffer();if(Me)if(i.drawBuffers){const je=ee.texture;for(let at=0,At=je.length;at<At;at++){const Ze=r.get(je[at]);Ze.__webglTexture===void 0&&(Ze.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&ee.samples>0&&ft(ee)===!1){const je=Me?$:[$];ye.__webglMultisampledFramebuffer=t.createFramebuffer(),ye.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ye.__webglMultisampledFramebuffer);for(let at=0;at<je.length;at++){const At=je[at];ye.__webglColorRenderbuffer[at]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ye.__webglColorRenderbuffer[at]);const Ze=o.convert(At.format,At.colorSpace),Oe=o.convert(At.type),Ut=U(At.internalFormat,Ze,Oe,At.colorSpace,ee.isXRRenderTarget===!0),Et=ot(ee);t.renderbufferStorageMultisample(t.RENDERBUFFER,Et,Ut,ee.width,ee.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+at,t.RENDERBUFFER,ye.__webglColorRenderbuffer[at])}t.bindRenderbuffer(t.RENDERBUFFER,null),ee.depthBuffer&&(ye.__webglDepthRenderbuffer=t.createRenderbuffer(),oe(ye.__webglDepthRenderbuffer,ee,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Le){n.bindTexture(t.TEXTURE_CUBE_MAP,Ge.__webglTexture),Ye(t.TEXTURE_CUBE_MAP,$,De);for(let je=0;je<6;je++)if(s&&$.mipmaps&&$.mipmaps.length>0)for(let at=0;at<$.mipmaps.length;at++)$e(ye.__webglFramebuffer[je][at],ee,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+je,at);else $e(ye.__webglFramebuffer[je],ee,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0);A($,De)&&R(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Me){const je=ee.texture;for(let at=0,At=je.length;at<At;at++){const Ze=je[at],Oe=r.get(Ze);n.bindTexture(t.TEXTURE_2D,Oe.__webglTexture),Ye(t.TEXTURE_2D,Ze,De),$e(ye.__webglFramebuffer,ee,Ze,t.COLOR_ATTACHMENT0+at,t.TEXTURE_2D,0),A(Ze,De)&&R(t.TEXTURE_2D)}n.unbindTexture()}else{let je=t.TEXTURE_2D;if((ee.isWebGL3DRenderTarget||ee.isWebGLArrayRenderTarget)&&(s?je=ee.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(je,Ge.__webglTexture),Ye(je,$,De),s&&$.mipmaps&&$.mipmaps.length>0)for(let at=0;at<$.mipmaps.length;at++)$e(ye.__webglFramebuffer[at],ee,$,t.COLOR_ATTACHMENT0,je,at);else $e(ye.__webglFramebuffer,ee,$,t.COLOR_ATTACHMENT0,je,0);A($,De)&&R(je),n.unbindTexture()}ee.depthBuffer&&ge(ee)}function We(ee){const $=C(ee)||s,ye=ee.isWebGLMultipleRenderTargets===!0?ee.texture:[ee.texture];for(let Ge=0,Le=ye.length;Ge<Le;Ge++){const Me=ye[Ge];if(A(Me,$)){const De=ee.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,je=r.get(Me).__webglTexture;n.bindTexture(De,je),R(De),n.unbindTexture()}}}function Je(ee){if(s&&ee.samples>0&&ft(ee)===!1){const $=ee.isWebGLMultipleRenderTargets?ee.texture:[ee.texture],ye=ee.width,Ge=ee.height;let Le=t.COLOR_BUFFER_BIT;const Me=[],De=ee.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,je=r.get(ee),at=ee.isWebGLMultipleRenderTargets===!0;if(at)for(let At=0;At<$.length;At++)n.bindFramebuffer(t.FRAMEBUFFER,je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,je.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,je.__webglFramebuffer);for(let At=0;At<$.length;At++){Me.push(t.COLOR_ATTACHMENT0+At),ee.depthBuffer&&Me.push(De);const Ze=je.__ignoreDepthValues!==void 0?je.__ignoreDepthValues:!1;if(Ze===!1&&(ee.depthBuffer&&(Le|=t.DEPTH_BUFFER_BIT),ee.stencilBuffer&&(Le|=t.STENCIL_BUFFER_BIT)),at&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,je.__webglColorRenderbuffer[At]),Ze===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[De]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[De])),at){const Oe=r.get($[At]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Oe,0)}t.blitFramebuffer(0,0,ye,Ge,0,0,ye,Ge,Le,t.NEAREST),v&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Me)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),at)for(let At=0;At<$.length;At++){n.bindFramebuffer(t.FRAMEBUFFER,je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.RENDERBUFFER,je.__webglColorRenderbuffer[At]);const Ze=r.get($[At]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.TEXTURE_2D,Ze,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,je.__webglMultisampledFramebuffer)}}function ot(ee){return Math.min(p,ee.samples)}function ft(ee){const $=r.get(ee);return s&&ee.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function lt(ee){const $=a.render.frame;x.get(ee)!==$&&(x.set(ee,$),ee.update())}function Ht(ee,$){const ye=ee.colorSpace,Ge=ee.format,Le=ee.type;return ee.isCompressedTexture===!0||ee.isVideoTexture===!0||ee.format===US||ye!==_c&&ye!==Ka&&(Qn.getTransfer(ye)===mr?s===!1?e.has("EXT_sRGB")===!0&&Ge===Wo?(ee.format=US,ee.minFilter=ai,ee.generateMipmaps=!1):$=XI.sRGBToLinear($):(Ge!==Wo||Le!==is)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ye)),$}this.allocateTextureUnit=H,this.resetTextureUnits=se,this.setTexture2D=te,this.setTexture2DArray=Q,this.setTexture3D=ae,this.setTextureCube=xe,this.rebindTextures=ve,this.setupRenderTarget=Ue,this.updateRenderTargetMipmap=We,this.updateMultisampleRenderTarget=Je,this.setupDepthRenderbuffer=ge,this.setupFrameBufferTexture=$e,this.useMultisampledRTT=ft}function c9(t,e,n){const r=n.isWebGL2;function i(o,a=Ka){let s;const l=Qn.getTransfer(a);if(o===is)return t.UNSIGNED_BYTE;if(o===UI)return t.UNSIGNED_SHORT_4_4_4_4;if(o===zI)return t.UNSIGNED_SHORT_5_5_5_1;if(o===C7)return t.BYTE;if(o===T7)return t.SHORT;if(o===CE)return t.UNSIGNED_SHORT;if(o===FI)return t.INT;if(o===fu)return t.UNSIGNED_INT;if(o===Sl)return t.FLOAT;if(o===Yh)return r?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===A7)return t.ALPHA;if(o===Wo)return t.RGBA;if(o===R7)return t.LUMINANCE;if(o===P7)return t.LUMINANCE_ALPHA;if(o===Hf)return t.DEPTH_COMPONENT;if(o===Kh)return t.DEPTH_STENCIL;if(o===US)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===BI)return t.RED;if(o===$I)return t.RED_INTEGER;if(o===I7)return t.RG;if(o===HI)return t.RG_INTEGER;if(o===VI)return t.RGBA_INTEGER;if(o===$w||o===Hw||o===Vw||o===Ww)if(l===mr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===$w)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===Hw)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===Vw)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===Ww)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===$w)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Hw)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Vw)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===Ww)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===FR||o===UR||o===zR||o===BR)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===FR)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===UR)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===zR)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===BR)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===L7)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===$R||o===HR)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(o===$R)return l===mr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===HR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===VR||o===WR||o===GR||o===jR||o===XR||o===qR||o===YR||o===KR||o===ZR||o===QR||o===JR||o===e3||o===t3||o===n3)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(o===VR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===WR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===GR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===jR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===XR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===qR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===YR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===KR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===ZR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===QR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===JR)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===e3)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===t3)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===n3)return l===mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===Gw||o===r3||o===i3)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(o===Gw)return l===mr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===r3)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===i3)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===O7||o===o3||o===a3||o===s3)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(o===Gw)return s.COMPRESSED_RED_RGTC1_EXT;if(o===o3)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===a3)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===s3)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===$f?r?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class u9 extends Hi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let vg=class extends $n{constructor(){super(),this.isGroup=!0,this.type="Group"}};const hve={type:"move"};class bT{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new vg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new vg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new vg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const _ of e.hand.values()){const b=n.getJointPose(_,r),y=this._getHandJoint(c,_);b!==null&&(y.matrix.fromArray(b.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=b.radius),y.visible=b!==null}const f=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],m=f.position.distanceTo(p.position),v=.02,x=.005;c.inputState.pinching&&m>v+x?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&m<=v-x&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(hve)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new vg;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class f9 extends Kr{constructor(e,n,r,i,o,a,s,l,c,f){if(f=f!==void 0?f:Hf,f!==Hf&&f!==Kh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===Hf&&(r=fu),r===void 0&&f===Kh&&(r=$f),super(null,i,o,a,s,l,f,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:qr,this.minFilter=l!==void 0?l:qr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class pve extends Ou{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,c=null,f=null,p=null,m=null,v=null,x=null;const _=n.getContextAttributes();let b=null,y=null;const S=[],M=[],C=new Hi;C.layers.enable(1),C.viewport=new Yn;const P=new Hi;P.layers.enable(2),P.viewport=new Yn;const A=[C,P],R=new u9;R.layers.enable(1),R.layers.enable(2);let U=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Q){let ae=S[Q];return ae===void 0&&(ae=new bT,S[Q]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(Q){let ae=S[Q];return ae===void 0&&(ae=new bT,S[Q]=ae),ae.getGripSpace()},this.getHand=function(Q){let ae=S[Q];return ae===void 0&&(ae=new bT,S[Q]=ae),ae.getHandSpace()};function N(Q){const ae=M.indexOf(Q.inputSource);if(ae===-1)return;const xe=S[ae];xe!==void 0&&(xe.update(Q.inputSource,Q.frame,c||a),xe.dispatchEvent({type:Q.type,data:Q.inputSource}))}function B(){i.removeEventListener("select",N),i.removeEventListener("selectstart",N),i.removeEventListener("selectend",N),i.removeEventListener("squeeze",N),i.removeEventListener("squeezestart",N),i.removeEventListener("squeezeend",N),i.removeEventListener("end",B),i.removeEventListener("inputsourceschange",Y);for(let Q=0;Q<S.length;Q++){const ae=M[Q];ae!==null&&(M[Q]=null,S[Q].disconnect(ae))}U=null,O=null,e.setRenderTarget(b),v=null,m=null,p=null,i=null,y=null,te.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Q){o=Q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Q){s=Q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(Q){c=Q},this.getBaseLayer=function(){return m!==null?m:v},this.getBinding=function(){return p},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(Q){if(i=Q,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",N),i.addEventListener("selectstart",N),i.addEventListener("selectend",N),i.addEventListener("squeeze",N),i.addEventListener("squeezestart",N),i.addEventListener("squeezeend",N),i.addEventListener("end",B),i.addEventListener("inputsourceschange",Y),_.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ae={antialias:i.renderState.layers===void 0?_.antialias:!0,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:o};v=new XRWebGLLayer(i,n,ae),i.updateRenderState({baseLayer:v}),y=new Rl(v.framebufferWidth,v.framebufferHeight,{format:Wo,type:is,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let ae=null,xe=null,we=null;_.depth&&(we=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ae=_.stencil?Kh:Hf,xe=_.stencil?$f:fu);const Te={colorFormat:n.RGBA8,depthFormat:we,scaleFactor:o};p=new XRWebGLBinding(i,n),m=p.createProjectionLayer(Te),i.updateRenderState({layers:[m]}),y=new Rl(m.textureWidth,m.textureHeight,{format:Wo,type:is,depthTexture:new f9(m.textureWidth,m.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,ae),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0});const Ve=e.properties.get(y);Ve.__ignoreDepthValues=m.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(s),te.setContext(i),te.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function Y(Q){for(let ae=0;ae<Q.removed.length;ae++){const xe=Q.removed[ae],we=M.indexOf(xe);we>=0&&(M[we]=null,S[we].disconnect(xe))}for(let ae=0;ae<Q.added.length;ae++){const xe=Q.added[ae];let we=M.indexOf(xe);if(we===-1){for(let Ve=0;Ve<S.length;Ve++)if(Ve>=M.length){M.push(xe),we=Ve;break}else if(M[Ve]===null){M[Ve]=xe,we=Ve;break}if(we===-1)break}const Te=S[we];Te&&Te.connect(xe)}}const J=new K,G=new K;function ne(Q,ae,xe){J.setFromMatrixPosition(ae.matrixWorld),G.setFromMatrixPosition(xe.matrixWorld);const we=J.distanceTo(G),Te=ae.projectionMatrix.elements,Ve=xe.projectionMatrix.elements,Ye=Te[14]/(Te[10]-1),et=Te[14]/(Te[10]+1),ct=(Te[9]+1)/Te[5],Lt=(Te[9]-1)/Te[5],$e=(Te[8]-1)/Te[0],oe=(Ve[8]+1)/Ve[0],Ae=Ye*$e,ge=Ye*oe,ve=we/(-$e+oe),Ue=ve*-$e;ae.matrixWorld.decompose(Q.position,Q.quaternion,Q.scale),Q.translateX(Ue),Q.translateZ(ve),Q.matrixWorld.compose(Q.position,Q.quaternion,Q.scale),Q.matrixWorldInverse.copy(Q.matrixWorld).invert();const We=Ye+ve,Je=et+ve,ot=Ae-Ue,ft=ge+(we-Ue),lt=ct*et/Je*We,Ht=Lt*et/Je*We;Q.projectionMatrix.makePerspective(ot,ft,lt,Ht,We,Je),Q.projectionMatrixInverse.copy(Q.projectionMatrix).invert()}function ie(Q,ae){ae===null?Q.matrixWorld.copy(Q.matrix):Q.matrixWorld.multiplyMatrices(ae.matrixWorld,Q.matrix),Q.matrixWorldInverse.copy(Q.matrixWorld).invert()}this.updateCamera=function(Q){if(i===null)return;R.near=P.near=C.near=Q.near,R.far=P.far=C.far=Q.far,(U!==R.near||O!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),U=R.near,O=R.far);const ae=Q.parent,xe=R.cameras;ie(R,ae);for(let we=0;we<xe.length;we++)ie(xe[we],ae);xe.length===2?ne(R,C,P):R.projectionMatrix.copy(C.projectionMatrix),se(Q,R,ae)};function se(Q,ae,xe){xe===null?Q.matrix.copy(ae.matrixWorld):(Q.matrix.copy(xe.matrixWorld),Q.matrix.invert(),Q.matrix.multiply(ae.matrixWorld)),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale),Q.updateMatrixWorld(!0),Q.projectionMatrix.copy(ae.projectionMatrix),Q.projectionMatrixInverse.copy(ae.projectionMatrixInverse),Q.isPerspectiveCamera&&(Q.fov=t0*2*Math.atan(1/Q.projectionMatrix.elements[5]),Q.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(m===null&&v===null))return l},this.setFoveation=function(Q){l=Q,m!==null&&(m.fixedFoveation=Q),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=Q)};let H=null;function q(Q,ae){if(f=ae.getViewerPose(c||a),x=ae,f!==null){const xe=f.views;v!==null&&(e.setRenderTargetFramebuffer(y,v.framebuffer),e.setRenderTarget(y));let we=!1;xe.length!==R.cameras.length&&(R.cameras.length=0,we=!0);for(let Te=0;Te<xe.length;Te++){const Ve=xe[Te];let Ye=null;if(v!==null)Ye=v.getViewport(Ve);else{const ct=p.getViewSubImage(m,Ve);Ye=ct.viewport,Te===0&&(e.setRenderTargetTextures(y,ct.colorTexture,m.ignoreDepthValues?void 0:ct.depthStencilTexture),e.setRenderTarget(y))}let et=A[Te];et===void 0&&(et=new Hi,et.layers.enable(Te),et.viewport=new Yn,A[Te]=et),et.matrix.fromArray(Ve.transform.matrix),et.matrix.decompose(et.position,et.quaternion,et.scale),et.projectionMatrix.fromArray(Ve.projectionMatrix),et.projectionMatrixInverse.copy(et.projectionMatrix).invert(),et.viewport.set(Ye.x,Ye.y,Ye.width,Ye.height),Te===0&&(R.matrix.copy(et.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),we===!0&&R.cameras.push(et)}}for(let xe=0;xe<S.length;xe++){const we=M[xe],Te=S[xe];we!==null&&Te!==void 0&&Te.update(we,ae,c||a)}H&&H(Q,ae),ae.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ae}),x=null}const te=new i9;te.setAnimationLoop(q),this.setAnimationLoop=function(Q){H=Q},this.dispose=function(){}}}function mve(t,e){function n(b,y){b.matrixAutoUpdate===!0&&b.updateMatrix(),y.value.copy(b.matrix)}function r(b,y){y.color.getRGB(b.fogColor.value,e9(t)),y.isFog?(b.fogNear.value=y.near,b.fogFar.value=y.far):y.isFogExp2&&(b.fogDensity.value=y.density)}function i(b,y,S,M,C){y.isMeshBasicMaterial||y.isMeshLambertMaterial?o(b,y):y.isMeshToonMaterial?(o(b,y),p(b,y)):y.isMeshPhongMaterial?(o(b,y),f(b,y)):y.isMeshStandardMaterial?(o(b,y),m(b,y),y.isMeshPhysicalMaterial&&v(b,y,C)):y.isMeshMatcapMaterial?(o(b,y),x(b,y)):y.isMeshDepthMaterial?o(b,y):y.isMeshDistanceMaterial?(o(b,y),_(b,y)):y.isMeshNormalMaterial?o(b,y):y.isLineBasicMaterial?(a(b,y),y.isLineDashedMaterial&&s(b,y)):y.isPointsMaterial?l(b,y,S,M):y.isSpriteMaterial?c(b,y):y.isShadowMaterial?(b.color.value.copy(y.color),b.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function o(b,y){b.opacity.value=y.opacity,y.color&&b.diffuse.value.copy(y.color),y.emissive&&b.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(b.map.value=y.map,n(y.map,b.mapTransform)),y.alphaMap&&(b.alphaMap.value=y.alphaMap,n(y.alphaMap,b.alphaMapTransform)),y.bumpMap&&(b.bumpMap.value=y.bumpMap,n(y.bumpMap,b.bumpMapTransform),b.bumpScale.value=y.bumpScale,y.side===jo&&(b.bumpScale.value*=-1)),y.normalMap&&(b.normalMap.value=y.normalMap,n(y.normalMap,b.normalMapTransform),b.normalScale.value.copy(y.normalScale),y.side===jo&&b.normalScale.value.negate()),y.displacementMap&&(b.displacementMap.value=y.displacementMap,n(y.displacementMap,b.displacementMapTransform),b.displacementScale.value=y.displacementScale,b.displacementBias.value=y.displacementBias),y.emissiveMap&&(b.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,b.emissiveMapTransform)),y.specularMap&&(b.specularMap.value=y.specularMap,n(y.specularMap,b.specularMapTransform)),y.alphaTest>0&&(b.alphaTest.value=y.alphaTest);const S=e.get(y).envMap;if(S&&(b.envMap.value=S,b.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=y.reflectivity,b.ior.value=y.ior,b.refractionRatio.value=y.refractionRatio),y.lightMap){b.lightMap.value=y.lightMap;const M=t._useLegacyLights===!0?Math.PI:1;b.lightMapIntensity.value=y.lightMapIntensity*M,n(y.lightMap,b.lightMapTransform)}y.aoMap&&(b.aoMap.value=y.aoMap,b.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,b.aoMapTransform))}function a(b,y){b.diffuse.value.copy(y.color),b.opacity.value=y.opacity,y.map&&(b.map.value=y.map,n(y.map,b.mapTransform))}function s(b,y){b.dashSize.value=y.dashSize,b.totalSize.value=y.dashSize+y.gapSize,b.scale.value=y.scale}function l(b,y,S,M){b.diffuse.value.copy(y.color),b.opacity.value=y.opacity,b.size.value=y.size*S,b.scale.value=M*.5,y.map&&(b.map.value=y.map,n(y.map,b.uvTransform)),y.alphaMap&&(b.alphaMap.value=y.alphaMap,n(y.alphaMap,b.alphaMapTransform)),y.alphaTest>0&&(b.alphaTest.value=y.alphaTest)}function c(b,y){b.diffuse.value.copy(y.color),b.opacity.value=y.opacity,b.rotation.value=y.rotation,y.map&&(b.map.value=y.map,n(y.map,b.mapTransform)),y.alphaMap&&(b.alphaMap.value=y.alphaMap,n(y.alphaMap,b.alphaMapTransform)),y.alphaTest>0&&(b.alphaTest.value=y.alphaTest)}function f(b,y){b.specular.value.copy(y.specular),b.shininess.value=Math.max(y.shininess,1e-4)}function p(b,y){y.gradientMap&&(b.gradientMap.value=y.gradientMap)}function m(b,y){b.metalness.value=y.metalness,y.metalnessMap&&(b.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,b.metalnessMapTransform)),b.roughness.value=y.roughness,y.roughnessMap&&(b.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,b.roughnessMapTransform)),e.get(y).envMap&&(b.envMapIntensity.value=y.envMapIntensity)}function v(b,y,S){b.ior.value=y.ior,y.sheen>0&&(b.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),b.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(b.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,b.sheenColorMapTransform)),y.sheenRoughnessMap&&(b.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,b.sheenRoughnessMapTransform))),y.clearcoat>0&&(b.clearcoat.value=y.clearcoat,b.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(b.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,b.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(b.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===jo&&b.clearcoatNormalScale.value.negate())),y.iridescence>0&&(b.iridescence.value=y.iridescence,b.iridescenceIOR.value=y.iridescenceIOR,b.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(b.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,b.iridescenceMapTransform)),y.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),y.transmission>0&&(b.transmission.value=y.transmission,b.transmissionSamplerMap.value=S.texture,b.transmissionSamplerSize.value.set(S.width,S.height),y.transmissionMap&&(b.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,b.transmissionMapTransform)),b.thickness.value=y.thickness,y.thicknessMap&&(b.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=y.attenuationDistance,b.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(b.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(b.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=y.specularIntensity,b.specularColor.value.copy(y.specularColor),y.specularColorMap&&(b.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,b.specularColorMapTransform)),y.specularIntensityMap&&(b.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,b.specularIntensityMapTransform))}function x(b,y){y.matcap&&(b.matcap.value=y.matcap)}function _(b,y){const S=e.get(y).light;b.referencePosition.value.setFromMatrixPosition(S.matrixWorld),b.nearDistance.value=S.shadow.camera.near,b.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function gve(t,e,n,r){let i={},o={},a=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(S,M){const C=M.program;r.uniformBlockBinding(S,C)}function c(S,M){let C=i[S.id];C===void 0&&(x(S),C=f(S),i[S.id]=C,S.addEventListener("dispose",b));const P=M.program;r.updateUBOMapping(S,P);const A=e.render.frame;o[S.id]!==A&&(m(S),o[S.id]=A)}function f(S){const M=p();S.__bindingPointIndex=M;const C=t.createBuffer(),P=S.__size,A=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,C),t.bufferData(t.UNIFORM_BUFFER,P,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,M,C),C}function p(){for(let S=0;S<s;S++)if(a.indexOf(S)===-1)return a.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(S){const M=i[S.id],C=S.uniforms,P=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,M);for(let A=0,R=C.length;A<R;A++){const U=C[A];if(v(U,A,P)===!0){const O=U.__offset,N=Array.isArray(U.value)?U.value:[U.value];let B=0;for(let Y=0;Y<N.length;Y++){const J=N[Y],G=_(J);typeof J=="number"?(U.__data[0]=J,t.bufferSubData(t.UNIFORM_BUFFER,O+B,U.__data)):J.isMatrix3?(U.__data[0]=J.elements[0],U.__data[1]=J.elements[1],U.__data[2]=J.elements[2],U.__data[3]=J.elements[0],U.__data[4]=J.elements[3],U.__data[5]=J.elements[4],U.__data[6]=J.elements[5],U.__data[7]=J.elements[0],U.__data[8]=J.elements[6],U.__data[9]=J.elements[7],U.__data[10]=J.elements[8],U.__data[11]=J.elements[0]):(J.toArray(U.__data,B),B+=G.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,O,U.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(S,M,C){const P=S.value;if(C[M]===void 0){if(typeof P=="number")C[M]=P;else{const A=Array.isArray(P)?P:[P],R=[];for(let U=0;U<A.length;U++)R.push(A[U].clone());C[M]=R}return!0}else if(typeof P=="number"){if(C[M]!==P)return C[M]=P,!0}else{const A=Array.isArray(C[M])?C[M]:[C[M]],R=Array.isArray(P)?P:[P];for(let U=0;U<A.length;U++){const O=A[U];if(O.equals(R[U])===!1)return O.copy(R[U]),!0}}return!1}function x(S){const M=S.uniforms;let C=0;const P=16;let A=0;for(let R=0,U=M.length;R<U;R++){const O=M[R],N={boundary:0,storage:0},B=Array.isArray(O.value)?O.value:[O.value];for(let Y=0,J=B.length;Y<J;Y++){const G=B[Y],ne=_(G);N.boundary+=ne.boundary,N.storage+=ne.storage}if(O.__data=new Float32Array(N.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=C,R>0){A=C%P;const Y=P-A;A!==0&&Y-N.boundary<0&&(C+=P-A,O.__offset=C)}C+=N.storage}return A=C%P,A>0&&(C+=P-A),S.__size=C,S.__cache={},this}function _(S){const M={boundary:0,storage:0};return typeof S=="number"?(M.boundary=4,M.storage=4):S.isVector2?(M.boundary=8,M.storage=8):S.isVector3||S.isColor?(M.boundary=16,M.storage=12):S.isVector4?(M.boundary=16,M.storage=16):S.isMatrix3?(M.boundary=48,M.storage=48):S.isMatrix4?(M.boundary=64,M.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),M}function b(S){const M=S.target;M.removeEventListener("dispose",b);const C=a.indexOf(M.__bindingPointIndex);a.splice(C,1),t.deleteBuffer(i[M.id]),delete i[M.id],delete o[M.id]}function y(){for(const S in i)t.deleteBuffer(i[S]);a=[],i={},o={}}return{bind:l,update:c,dispose:y}}class eL{constructor(e={}){const{canvas:n=Z7(),context:r=null,depth:i=!0,stencil:o=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let m;r!==null?m=r.getContextAttributes().alpha:m=a;const v=new Uint32Array(4),x=new Int32Array(4);let _=null,b=null;const y=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Mi,this._useLegacyLights=!1,this.toneMapping=pc,this.toneMappingExposure=1;const M=this;let C=!1,P=0,A=0,R=null,U=-1,O=null;const N=new Yn,B=new Yn;let Y=null;const J=new _t(0);let G=0,ne=n.width,ie=n.height,se=1,H=null,q=null;const te=new Yn(0,0,ne,ie),Q=new Yn(0,0,ne,ie);let ae=!1;const xe=new PE;let we=!1,Te=!1,Ve=null;const Ye=new dn,et=new ze,ct=new K,Lt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function $e(){return R===null?se:1}let oe=r;function Ae(V,fe){for(let be=0;be<V.length;be++){const Se=V[be],Ee=n.getContext(Se,fe);if(Ee!==null)return Ee}return null}try{const V={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${ME}`),n.addEventListener("webglcontextlost",Qt,!1),n.addEventListener("webglcontextrestored",de,!1),n.addEventListener("webglcontextcreationerror",ut,!1),oe===null){const fe=["webgl2","webgl","experimental-webgl"];if(M.isWebGL1Renderer===!0&&fe.shift(),oe=Ae(fe,V),oe===null)throw Ae(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&oe instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),oe.getShaderPrecisionFormat===void 0&&(oe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let ge,ve,Ue,We,Je,ot,ft,lt,Ht,ee,$,ye,Ge,Le,Me,De,je,at,At,Ze,Oe,Ut,Et,Nt;function Ct(){ge=new Ige(oe),ve=new Ege(oe,ge,e),ge.init(ve),Ut=new c9(oe,ge,ve),Ue=new fve(oe,ge,ve),We=new kge(oe),Je=new J0e,ot=new dve(oe,ge,Ue,Je,ve,Ut,We),ft=new Tge(M),lt=new Pge(M),Ht=new Whe(oe,ve),Et=new Sge(oe,ge,Ht,ve),ee=new Lge(oe,Ht,We,Et),$=new Uge(oe,ee,Ht,We),At=new Fge(oe,ve,ot),De=new Cge(Je),ye=new Q0e(M,ft,lt,ge,ve,Et,De),Ge=new mve(M,Je),Le=new tve,Me=new sve(ge,ve),at=new wge(M,ft,lt,Ue,$,m,l),je=new uve(M,$,ve),Nt=new gve(oe,We,ve,Ue),Ze=new Mge(oe,ge,We,ve),Oe=new Oge(oe,ge,We,ve),We.programs=ye.programs,M.capabilities=ve,M.extensions=ge,M.properties=Je,M.renderLists=Le,M.shadowMap=je,M.state=Ue,M.info=We}Ct();const dt=new pve(M,oe);this.xr=dt,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){const V=ge.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=ge.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return se},this.setPixelRatio=function(V){V!==void 0&&(se=V,this.setSize(ne,ie,!1))},this.getSize=function(V){return V.set(ne,ie)},this.setSize=function(V,fe,be=!0){if(dt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ne=V,ie=fe,n.width=Math.floor(V*se),n.height=Math.floor(fe*se),be===!0&&(n.style.width=V+"px",n.style.height=fe+"px"),this.setViewport(0,0,V,fe)},this.getDrawingBufferSize=function(V){return V.set(ne*se,ie*se).floor()},this.setDrawingBufferSize=function(V,fe,be){ne=V,ie=fe,se=be,n.width=Math.floor(V*be),n.height=Math.floor(fe*be),this.setViewport(0,0,V,fe)},this.getCurrentViewport=function(V){return V.copy(N)},this.getViewport=function(V){return V.copy(te)},this.setViewport=function(V,fe,be,Se){V.isVector4?te.set(V.x,V.y,V.z,V.w):te.set(V,fe,be,Se),Ue.viewport(N.copy(te).multiplyScalar(se).floor())},this.getScissor=function(V){return V.copy(Q)},this.setScissor=function(V,fe,be,Se){V.isVector4?Q.set(V.x,V.y,V.z,V.w):Q.set(V,fe,be,Se),Ue.scissor(B.copy(Q).multiplyScalar(se).floor())},this.getScissorTest=function(){return ae},this.setScissorTest=function(V){Ue.setScissorTest(ae=V)},this.setOpaqueSort=function(V){H=V},this.setTransparentSort=function(V){q=V},this.getClearColor=function(V){return V.copy(at.getClearColor())},this.setClearColor=function(){at.setClearColor.apply(at,arguments)},this.getClearAlpha=function(){return at.getClearAlpha()},this.setClearAlpha=function(){at.setClearAlpha.apply(at,arguments)},this.clear=function(V=!0,fe=!0,be=!0){let Se=0;if(V){let Ee=!1;if(R!==null){const yt=R.texture.format;Ee=yt===VI||yt===HI||yt===$I}if(Ee){const yt=R.texture.type,Tt=yt===is||yt===fu||yt===CE||yt===$f||yt===UI||yt===zI,Gt=at.getClearColor(),Bt=at.getClearAlpha(),rn=Gt.r,en=Gt.g,on=Gt.b;Tt?(v[0]=rn,v[1]=en,v[2]=on,v[3]=Bt,oe.clearBufferuiv(oe.COLOR,0,v)):(x[0]=rn,x[1]=en,x[2]=on,x[3]=Bt,oe.clearBufferiv(oe.COLOR,0,x))}else Se|=oe.COLOR_BUFFER_BIT}fe&&(Se|=oe.DEPTH_BUFFER_BIT),be&&(Se|=oe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),oe.clear(Se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Qt,!1),n.removeEventListener("webglcontextrestored",de,!1),n.removeEventListener("webglcontextcreationerror",ut,!1),Le.dispose(),Me.dispose(),Je.dispose(),ft.dispose(),lt.dispose(),$.dispose(),Et.dispose(),Nt.dispose(),ye.dispose(),dt.dispose(),dt.removeEventListener("sessionstart",Ar),dt.removeEventListener("sessionend",nn),Ve&&(Ve.dispose(),Ve=null),Sn.stop()};function Qt(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function de(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const V=We.autoReset,fe=je.enabled,be=je.autoUpdate,Se=je.needsUpdate,Ee=je.type;Ct(),We.autoReset=V,je.enabled=fe,je.autoUpdate=be,je.needsUpdate=Se,je.type=Ee}function ut(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function rt(V){const fe=V.target;fe.removeEventListener("dispose",rt),Ne(fe)}function Ne(V){it(V),Je.remove(V)}function it(V){const fe=Je.get(V).programs;fe!==void 0&&(fe.forEach(function(be){ye.releaseProgram(be)}),V.isShaderMaterial&&ye.releaseShaderCache(V))}this.renderBufferDirect=function(V,fe,be,Se,Ee,yt){fe===null&&(fe=Lt);const Tt=Ee.isMesh&&Ee.matrixWorld.determinant()<0,Gt=Fe(V,fe,be,Se,Ee);Ue.setMaterial(Se,Tt);let Bt=be.index,rn=1;if(Se.wireframe===!0){if(Bt=ee.getWireframeAttribute(be),Bt===void 0)return;rn=2}const en=be.drawRange,on=be.attributes.position;let fr=en.start*rn,si=(en.start+en.count)*rn;yt!==null&&(fr=Math.max(fr,yt.start*rn),si=Math.min(si,(yt.start+yt.count)*rn)),Bt!==null?(fr=Math.max(fr,0),si=Math.min(si,Bt.count)):on!=null&&(fr=Math.max(fr,0),si=Math.min(si,on.count));const tr=si-fr;if(tr<0||tr===1/0)return;Et.setup(Ee,Se,Gt,be,Bt);let li,Xt=Ze;if(Bt!==null&&(li=Ht.get(Bt),Xt=Oe,Xt.setIndex(li)),Ee.isMesh)Se.wireframe===!0?(Ue.setLineWidth(Se.wireframeLinewidth*$e()),Xt.setMode(oe.LINES)):Xt.setMode(oe.TRIANGLES);else if(Ee.isLine){let Mt=Se.linewidth;Mt===void 0&&(Mt=1),Ue.setLineWidth(Mt*$e()),Ee.isLineSegments?Xt.setMode(oe.LINES):Ee.isLineLoop?Xt.setMode(oe.LINE_LOOP):Xt.setMode(oe.LINE_STRIP)}else Ee.isPoints?Xt.setMode(oe.POINTS):Ee.isSprite&&Xt.setMode(oe.TRIANGLES);if(Ee.isInstancedMesh)Xt.renderInstances(fr,tr,Ee.count);else if(be.isInstancedBufferGeometry){const Mt=be._maxInstanceCount!==void 0?be._maxInstanceCount:1/0,Qo=Math.min(be.instanceCount,Mt);Xt.renderInstances(fr,tr,Qo)}else Xt.render(fr,tr)};function zt(V,fe,be){V.transparent===!0&&V.side===xl&&V.forceSinglePass===!1?(V.side=jo,V.needsUpdate=!0,Sa(V,fe,be),V.side=Mu,V.needsUpdate=!0,Sa(V,fe,be),V.side=xl):Sa(V,fe,be)}this.compile=function(V,fe,be=null){be===null&&(be=V),b=Me.get(be),b.init(),S.push(b),be.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(fe.layers)&&(b.pushLight(Ee),Ee.castShadow&&b.pushShadow(Ee))}),V!==be&&V.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(fe.layers)&&(b.pushLight(Ee),Ee.castShadow&&b.pushShadow(Ee))}),b.setupLights(M._useLegacyLights);const Se=new Set;return V.traverse(function(Ee){const yt=Ee.material;if(yt)if(Array.isArray(yt))for(let Tt=0;Tt<yt.length;Tt++){const Gt=yt[Tt];zt(Gt,be,Ee),Se.add(Gt)}else zt(yt,be,Ee),Se.add(yt)}),S.pop(),b=null,Se},this.compileAsync=function(V,fe,be=null){const Se=this.compile(V,fe,be);return new Promise(Ee=>{function yt(){if(Se.forEach(function(Tt){Je.get(Tt).currentProgram.isReady()&&Se.delete(Tt)}),Se.size===0){Ee(V);return}setTimeout(yt,10)}ge.get("KHR_parallel_shader_compile")!==null?yt():setTimeout(yt,10)})};let yn=null;function Zn(V){yn&&yn(V)}function Ar(){Sn.stop()}function nn(){Sn.start()}const Sn=new i9;Sn.setAnimationLoop(Zn),typeof self<"u"&&Sn.setContext(self),this.setAnimationLoop=function(V){yn=V,dt.setAnimationLoop(V),V===null?Sn.stop():Sn.start()},dt.addEventListener("sessionstart",Ar),dt.addEventListener("sessionend",nn),this.render=function(V,fe){if(fe!==void 0&&fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),fe.parent===null&&fe.matrixWorldAutoUpdate===!0&&fe.updateMatrixWorld(),dt.enabled===!0&&dt.isPresenting===!0&&(dt.cameraAutoUpdate===!0&&dt.updateCamera(fe),fe=dt.getCamera()),V.isScene===!0&&V.onBeforeRender(M,V,fe,R),b=Me.get(V,S.length),b.init(),S.push(b),Ye.multiplyMatrices(fe.projectionMatrix,fe.matrixWorldInverse),xe.setFromProjectionMatrix(Ye),Te=this.localClippingEnabled,we=De.init(this.clippingPlanes,Te),_=Le.get(V,y.length),_.init(),y.push(_),ur(V,fe,0,M.sortObjects),_.finish(),M.sortObjects===!0&&_.sort(H,q),this.info.render.frame++,we===!0&&De.beginShadows();const be=b.state.shadowsArray;if(je.render(be,V,fe),we===!0&&De.endShadows(),this.info.autoReset===!0&&this.info.reset(),at.render(_,V),b.setupLights(M._useLegacyLights),fe.isArrayCamera){const Se=fe.cameras;for(let Ee=0,yt=Se.length;Ee<yt;Ee++){const Tt=Se[Ee];ds(_,V,Tt,Tt.viewport)}}else ds(_,V,fe);R!==null&&(ot.updateMultisampleRenderTarget(R),ot.updateRenderTargetMipmap(R)),V.isScene===!0&&V.onAfterRender(M,V,fe),Et.resetDefaultState(),U=-1,O=null,S.pop(),S.length>0?b=S[S.length-1]:b=null,y.pop(),y.length>0?_=y[y.length-1]:_=null};function ur(V,fe,be,Se){if(V.visible===!1)return;if(V.layers.test(fe.layers)){if(V.isGroup)be=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(fe);else if(V.isLight)b.pushLight(V),V.castShadow&&b.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||xe.intersectsSprite(V)){Se&&ct.setFromMatrixPosition(V.matrixWorld).applyMatrix4(Ye);const Tt=$.update(V),Gt=V.material;Gt.visible&&_.push(V,Tt,Gt,be,ct.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||xe.intersectsObject(V))){const Tt=$.update(V),Gt=V.material;if(Se&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),ct.copy(V.boundingSphere.center)):(Tt.boundingSphere===null&&Tt.computeBoundingSphere(),ct.copy(Tt.boundingSphere.center)),ct.applyMatrix4(V.matrixWorld).applyMatrix4(Ye)),Array.isArray(Gt)){const Bt=Tt.groups;for(let rn=0,en=Bt.length;rn<en;rn++){const on=Bt[rn],fr=Gt[on.materialIndex];fr&&fr.visible&&_.push(V,Tt,fr,be,ct.z,on)}}else Gt.visible&&_.push(V,Tt,Gt,be,ct.z,null)}}const yt=V.children;for(let Tt=0,Gt=yt.length;Tt<Gt;Tt++)ur(yt[Tt],fe,be,Se)}function ds(V,fe,be,Se){const Ee=V.opaque,yt=V.transmissive,Tt=V.transparent;b.setupLightsView(be),we===!0&&De.setGlobalState(M.clippingPlanes,be),yt.length>0&&hs(Ee,yt,fe,be),Se&&Ue.viewport(N.copy(Se)),Ee.length>0&&Ks(Ee,fe,be),yt.length>0&&Ks(yt,fe,be),Tt.length>0&&Ks(Tt,fe,be),Ue.buffers.depth.setTest(!0),Ue.buffers.depth.setMask(!0),Ue.buffers.color.setMask(!0),Ue.setPolygonOffset(!1)}function hs(V,fe,be,Se){if((be.isScene===!0?be.overrideMaterial:null)!==null)return;const yt=ve.isWebGL2;Ve===null&&(Ve=new Rl(1,1,{generateMipmaps:!0,type:ge.has("EXT_color_buffer_half_float")?Yh:is,minFilter:Zf,samples:yt?4:0})),M.getDrawingBufferSize(et),yt?Ve.setSize(et.x,et.y):Ve.setSize(zS(et.x),zS(et.y));const Tt=M.getRenderTarget();M.setRenderTarget(Ve),M.getClearColor(J),G=M.getClearAlpha(),G<1&&M.setClearColor(16777215,.5),M.clear();const Gt=M.toneMapping;M.toneMapping=pc,Ks(V,be,Se),ot.updateMultisampleRenderTarget(Ve),ot.updateRenderTargetMipmap(Ve);let Bt=!1;for(let rn=0,en=fe.length;rn<en;rn++){const on=fe[rn],fr=on.object,si=on.geometry,tr=on.material,li=on.group;if(tr.side===xl&&fr.layers.test(Se.layers)){const Xt=tr.side;tr.side=jo,tr.needsUpdate=!0,Ko(fr,be,Se,si,tr,li),tr.side=Xt,tr.needsUpdate=!0,Bt=!0}}Bt===!0&&(ot.updateMultisampleRenderTarget(Ve),ot.updateRenderTargetMipmap(Ve)),M.setRenderTarget(Tt),M.setClearColor(J,G),M.toneMapping=Gt}function Ks(V,fe,be){const Se=fe.isScene===!0?fe.overrideMaterial:null;for(let Ee=0,yt=V.length;Ee<yt;Ee++){const Tt=V[Ee],Gt=Tt.object,Bt=Tt.geometry,rn=Se===null?Tt.material:Se,en=Tt.group;Gt.layers.test(be.layers)&&Ko(Gt,fe,be,Bt,rn,en)}}function Ko(V,fe,be,Se,Ee,yt){V.onBeforeRender(M,fe,be,Se,Ee,yt),V.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),Ee.onBeforeRender(M,fe,be,Se,V,yt),Ee.transparent===!0&&Ee.side===xl&&Ee.forceSinglePass===!1?(Ee.side=jo,Ee.needsUpdate=!0,M.renderBufferDirect(be,fe,Se,Ee,V,yt),Ee.side=Mu,Ee.needsUpdate=!0,M.renderBufferDirect(be,fe,Se,Ee,V,yt),Ee.side=xl):M.renderBufferDirect(be,fe,Se,Ee,V,yt),V.onAfterRender(M,fe,be,Se,Ee,yt)}function Sa(V,fe,be){fe.isScene!==!0&&(fe=Lt);const Se=Je.get(V),Ee=b.state.lights,yt=b.state.shadowsArray,Tt=Ee.state.version,Gt=ye.getParameters(V,Ee.state,yt,fe,be),Bt=ye.getProgramCacheKey(Gt);let rn=Se.programs;Se.environment=V.isMeshStandardMaterial?fe.environment:null,Se.fog=fe.fog,Se.envMap=(V.isMeshStandardMaterial?lt:ft).get(V.envMap||Se.environment),rn===void 0&&(V.addEventListener("dispose",rt),rn=new Map,Se.programs=rn);let en=rn.get(Bt);if(en!==void 0){if(Se.currentProgram===en&&Se.lightsStateVersion===Tt)return Ma(V,Gt),en}else Gt.uniforms=ye.getUniforms(V),V.onBuild(be,Gt,M),V.onBeforeCompile(Gt,M),en=ye.acquireProgram(Gt,Bt),rn.set(Bt,en),Se.uniforms=Gt.uniforms;const on=Se.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(on.clippingPlanes=De.uniform),Ma(V,Gt),Se.needsLights=Ke(V),Se.lightsStateVersion=Tt,Se.needsLights&&(on.ambientLightColor.value=Ee.state.ambient,on.lightProbe.value=Ee.state.probe,on.directionalLights.value=Ee.state.directional,on.directionalLightShadows.value=Ee.state.directionalShadow,on.spotLights.value=Ee.state.spot,on.spotLightShadows.value=Ee.state.spotShadow,on.rectAreaLights.value=Ee.state.rectArea,on.ltc_1.value=Ee.state.rectAreaLTC1,on.ltc_2.value=Ee.state.rectAreaLTC2,on.pointLights.value=Ee.state.point,on.pointLightShadows.value=Ee.state.pointShadow,on.hemisphereLights.value=Ee.state.hemi,on.directionalShadowMap.value=Ee.state.directionalShadowMap,on.directionalShadowMatrix.value=Ee.state.directionalShadowMatrix,on.spotShadowMap.value=Ee.state.spotShadowMap,on.spotLightMatrix.value=Ee.state.spotLightMatrix,on.spotLightMap.value=Ee.state.spotLightMap,on.pointShadowMap.value=Ee.state.pointShadowMap,on.pointShadowMatrix.value=Ee.state.pointShadowMatrix),Se.currentProgram=en,Se.uniformsList=null,en}function Zo(V){if(V.uniformsList===null){const fe=V.currentProgram.getUniforms();V.uniformsList=Xw.seqWithValue(fe.seq,V.uniforms)}return V.uniformsList}function Ma(V,fe){const be=Je.get(V);be.outputColorSpace=fe.outputColorSpace,be.instancing=fe.instancing,be.instancingColor=fe.instancingColor,be.skinning=fe.skinning,be.morphTargets=fe.morphTargets,be.morphNormals=fe.morphNormals,be.morphColors=fe.morphColors,be.morphTargetsCount=fe.morphTargetsCount,be.numClippingPlanes=fe.numClippingPlanes,be.numIntersection=fe.numClipIntersection,be.vertexAlphas=fe.vertexAlphas,be.vertexTangents=fe.vertexTangents,be.toneMapping=fe.toneMapping}function Fe(V,fe,be,Se,Ee){fe.isScene!==!0&&(fe=Lt),ot.resetTextureUnits();const yt=fe.fog,Tt=Se.isMeshStandardMaterial?fe.environment:null,Gt=R===null?M.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:_c,Bt=(Se.isMeshStandardMaterial?lt:ft).get(Se.envMap||Tt),rn=Se.vertexColors===!0&&!!be.attributes.color&&be.attributes.color.itemSize===4,en=!!be.attributes.tangent&&(!!Se.normalMap||Se.anisotropy>0),on=!!be.morphAttributes.position,fr=!!be.morphAttributes.normal,si=!!be.morphAttributes.color;let tr=pc;Se.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(tr=M.toneMapping);const li=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,Xt=li!==void 0?li.length:0,Mt=Je.get(Se),Qo=b.state.lights;if(we===!0&&(Te===!0||V!==O)){const ui=V===O&&Se.id===U;De.setState(Se,V,ui)}let Mn=!1;Se.version===Mt.__version?(Mt.needsLights&&Mt.lightsStateVersion!==Qo.state.version||Mt.outputColorSpace!==Gt||Ee.isInstancedMesh&&Mt.instancing===!1||!Ee.isInstancedMesh&&Mt.instancing===!0||Ee.isSkinnedMesh&&Mt.skinning===!1||!Ee.isSkinnedMesh&&Mt.skinning===!0||Ee.isInstancedMesh&&Mt.instancingColor===!0&&Ee.instanceColor===null||Ee.isInstancedMesh&&Mt.instancingColor===!1&&Ee.instanceColor!==null||Mt.envMap!==Bt||Se.fog===!0&&Mt.fog!==yt||Mt.numClippingPlanes!==void 0&&(Mt.numClippingPlanes!==De.numPlanes||Mt.numIntersection!==De.numIntersection)||Mt.vertexAlphas!==rn||Mt.vertexTangents!==en||Mt.morphTargets!==on||Mt.morphNormals!==fr||Mt.morphColors!==si||Mt.toneMapping!==tr||ve.isWebGL2===!0&&Mt.morphTargetsCount!==Xt)&&(Mn=!0):(Mn=!0,Mt.__version=Se.version);let vr=Mt.currentProgram;Mn===!0&&(vr=Sa(Se,fe,Ee));let Ea=!1,co=!1,ci=!1;const Rr=vr.getUniforms(),To=Mt.uniforms;if(Ue.useProgram(vr.program)&&(Ea=!0,co=!0,ci=!0),Se.id!==U&&(U=Se.id,co=!0),Ea||O!==V){Rr.setValue(oe,"projectionMatrix",V.projectionMatrix),Rr.setValue(oe,"viewMatrix",V.matrixWorldInverse);const ui=Rr.map.cameraPosition;ui!==void 0&&ui.setValue(oe,ct.setFromMatrixPosition(V.matrixWorld)),ve.logarithmicDepthBuffer&&Rr.setValue(oe,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(Se.isMeshPhongMaterial||Se.isMeshToonMaterial||Se.isMeshLambertMaterial||Se.isMeshBasicMaterial||Se.isMeshStandardMaterial||Se.isShaderMaterial)&&Rr.setValue(oe,"isOrthographic",V.isOrthographicCamera===!0),O!==V&&(O=V,co=!0,ci=!0)}if(Ee.isSkinnedMesh){Rr.setOptional(oe,Ee,"bindMatrix"),Rr.setOptional(oe,Ee,"bindMatrixInverse");const ui=Ee.skeleton;ui&&(ve.floatVertexTextures?(ui.boneTexture===null&&ui.computeBoneTexture(),Rr.setValue(oe,"boneTexture",ui.boneTexture,ot),Rr.setValue(oe,"boneTextureSize",ui.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ac=be.morphAttributes;if((Ac.position!==void 0||Ac.normal!==void 0||Ac.color!==void 0&&ve.isWebGL2===!0)&&At.update(Ee,be,vr),(co||Mt.receiveShadow!==Ee.receiveShadow)&&(Mt.receiveShadow=Ee.receiveShadow,Rr.setValue(oe,"receiveShadow",Ee.receiveShadow)),Se.isMeshGouraudMaterial&&Se.envMap!==null&&(To.envMap.value=Bt,To.flipEnvMap.value=Bt.isCubeTexture&&Bt.isRenderTargetTexture===!1?-1:1),co&&(Rr.setValue(oe,"toneMappingExposure",M.toneMappingExposure),Mt.needsLights&&Ie(To,ci),yt&&Se.fog===!0&&Ge.refreshFogUniforms(To,yt),Ge.refreshMaterialUniforms(To,Se,se,ie,Ve),Xw.upload(oe,Zo(Mt),To,ot)),Se.isShaderMaterial&&Se.uniformsNeedUpdate===!0&&(Xw.upload(oe,Zo(Mt),To,ot),Se.uniformsNeedUpdate=!1),Se.isSpriteMaterial&&Rr.setValue(oe,"center",Ee.center),Rr.setValue(oe,"modelViewMatrix",Ee.modelViewMatrix),Rr.setValue(oe,"normalMatrix",Ee.normalMatrix),Rr.setValue(oe,"modelMatrix",Ee.matrixWorld),Se.isShaderMaterial||Se.isRawShaderMaterial){const ui=Se.uniformsGroups;for(let Rc=0,uo=ui.length;Rc<uo;Rc++)if(ve.isWebGL2){const Fu=ui[Rc];Nt.update(Fu,vr),Nt.bind(Fu,vr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return vr}function Ie(V,fe){V.ambientLightColor.needsUpdate=fe,V.lightProbe.needsUpdate=fe,V.directionalLights.needsUpdate=fe,V.directionalLightShadows.needsUpdate=fe,V.pointLights.needsUpdate=fe,V.pointLightShadows.needsUpdate=fe,V.spotLights.needsUpdate=fe,V.spotLightShadows.needsUpdate=fe,V.rectAreaLights.needsUpdate=fe,V.hemisphereLights.needsUpdate=fe}function Ke(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(V,fe,be){Je.get(V.texture).__webglTexture=fe,Je.get(V.depthTexture).__webglTexture=be;const Se=Je.get(V);Se.__hasExternalTextures=!0,Se.__hasExternalTextures&&(Se.__autoAllocateDepthBuffer=be===void 0,Se.__autoAllocateDepthBuffer||ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Se.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(V,fe){const be=Je.get(V);be.__webglFramebuffer=fe,be.__useDefaultFramebuffer=fe===void 0},this.setRenderTarget=function(V,fe=0,be=0){R=V,P=fe,A=be;let Se=!0,Ee=null,yt=!1,Tt=!1;if(V){const Bt=Je.get(V);Bt.__useDefaultFramebuffer!==void 0?(Ue.bindFramebuffer(oe.FRAMEBUFFER,null),Se=!1):Bt.__webglFramebuffer===void 0?ot.setupRenderTarget(V):Bt.__hasExternalTextures&&ot.rebindTextures(V,Je.get(V.texture).__webglTexture,Je.get(V.depthTexture).__webglTexture);const rn=V.texture;(rn.isData3DTexture||rn.isDataArrayTexture||rn.isCompressedArrayTexture)&&(Tt=!0);const en=Je.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(en[fe])?Ee=en[fe][be]:Ee=en[fe],yt=!0):ve.isWebGL2&&V.samples>0&&ot.useMultisampledRTT(V)===!1?Ee=Je.get(V).__webglMultisampledFramebuffer:Array.isArray(en)?Ee=en[be]:Ee=en,N.copy(V.viewport),B.copy(V.scissor),Y=V.scissorTest}else N.copy(te).multiplyScalar(se).floor(),B.copy(Q).multiplyScalar(se).floor(),Y=ae;if(Ue.bindFramebuffer(oe.FRAMEBUFFER,Ee)&&ve.drawBuffers&&Se&&Ue.drawBuffers(V,Ee),Ue.viewport(N),Ue.scissor(B),Ue.setScissorTest(Y),yt){const Bt=Je.get(V.texture);oe.framebufferTexture2D(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Bt.__webglTexture,be)}else if(Tt){const Bt=Je.get(V.texture),rn=fe||0;oe.framebufferTextureLayer(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,Bt.__webglTexture,be||0,rn)}U=-1},this.readRenderTargetPixels=function(V,fe,be,Se,Ee,yt,Tt){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Gt=Je.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&Tt!==void 0&&(Gt=Gt[Tt]),Gt){Ue.bindFramebuffer(oe.FRAMEBUFFER,Gt);try{const Bt=V.texture,rn=Bt.format,en=Bt.type;if(rn!==Wo&&Ut.convert(rn)!==oe.getParameter(oe.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const on=en===Yh&&(ge.has("EXT_color_buffer_half_float")||ve.isWebGL2&&ge.has("EXT_color_buffer_float"));if(en!==is&&Ut.convert(en)!==oe.getParameter(oe.IMPLEMENTATION_COLOR_READ_TYPE)&&!(en===Sl&&(ve.isWebGL2||ge.has("OES_texture_float")||ge.has("WEBGL_color_buffer_float")))&&!on){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}fe>=0&&fe<=V.width-Se&&be>=0&&be<=V.height-Ee&&oe.readPixels(fe,be,Se,Ee,Ut.convert(rn),Ut.convert(en),yt)}finally{const Bt=R!==null?Je.get(R).__webglFramebuffer:null;Ue.bindFramebuffer(oe.FRAMEBUFFER,Bt)}}},this.copyFramebufferToTexture=function(V,fe,be=0){const Se=Math.pow(2,-be),Ee=Math.floor(fe.image.width*Se),yt=Math.floor(fe.image.height*Se);ot.setTexture2D(fe,0),oe.copyTexSubImage2D(oe.TEXTURE_2D,be,0,0,V.x,V.y,Ee,yt),Ue.unbindTexture()},this.copyTextureToTexture=function(V,fe,be,Se=0){const Ee=fe.image.width,yt=fe.image.height,Tt=Ut.convert(be.format),Gt=Ut.convert(be.type);ot.setTexture2D(be,0),oe.pixelStorei(oe.UNPACK_FLIP_Y_WEBGL,be.flipY),oe.pixelStorei(oe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,be.premultiplyAlpha),oe.pixelStorei(oe.UNPACK_ALIGNMENT,be.unpackAlignment),fe.isDataTexture?oe.texSubImage2D(oe.TEXTURE_2D,Se,V.x,V.y,Ee,yt,Tt,Gt,fe.image.data):fe.isCompressedTexture?oe.compressedTexSubImage2D(oe.TEXTURE_2D,Se,V.x,V.y,fe.mipmaps[0].width,fe.mipmaps[0].height,Tt,fe.mipmaps[0].data):oe.texSubImage2D(oe.TEXTURE_2D,Se,V.x,V.y,Tt,Gt,fe.image),Se===0&&be.generateMipmaps&&oe.generateMipmap(oe.TEXTURE_2D),Ue.unbindTexture()},this.copyTextureToTexture3D=function(V,fe,be,Se,Ee=0){if(M.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const yt=V.max.x-V.min.x+1,Tt=V.max.y-V.min.y+1,Gt=V.max.z-V.min.z+1,Bt=Ut.convert(Se.format),rn=Ut.convert(Se.type);let en;if(Se.isData3DTexture)ot.setTexture3D(Se,0),en=oe.TEXTURE_3D;else if(Se.isDataArrayTexture)ot.setTexture2DArray(Se,0),en=oe.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}oe.pixelStorei(oe.UNPACK_FLIP_Y_WEBGL,Se.flipY),oe.pixelStorei(oe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Se.premultiplyAlpha),oe.pixelStorei(oe.UNPACK_ALIGNMENT,Se.unpackAlignment);const on=oe.getParameter(oe.UNPACK_ROW_LENGTH),fr=oe.getParameter(oe.UNPACK_IMAGE_HEIGHT),si=oe.getParameter(oe.UNPACK_SKIP_PIXELS),tr=oe.getParameter(oe.UNPACK_SKIP_ROWS),li=oe.getParameter(oe.UNPACK_SKIP_IMAGES),Xt=be.isCompressedTexture?be.mipmaps[0]:be.image;oe.pixelStorei(oe.UNPACK_ROW_LENGTH,Xt.width),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,Xt.height),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,V.min.x),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,V.min.y),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,V.min.z),be.isDataTexture||be.isData3DTexture?oe.texSubImage3D(en,Ee,fe.x,fe.y,fe.z,yt,Tt,Gt,Bt,rn,Xt.data):be.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),oe.compressedTexSubImage3D(en,Ee,fe.x,fe.y,fe.z,yt,Tt,Gt,Bt,Xt.data)):oe.texSubImage3D(en,Ee,fe.x,fe.y,fe.z,yt,Tt,Gt,Bt,rn,Xt),oe.pixelStorei(oe.UNPACK_ROW_LENGTH,on),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,fr),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,si),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,tr),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,li),Ee===0&&Se.generateMipmaps&&oe.generateMipmap(en),Ue.unbindTexture()},this.initTexture=function(V){V.isCubeTexture?ot.setTextureCube(V,0):V.isData3DTexture?ot.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?ot.setTexture2DArray(V,0):ot.setTexture2D(V,0),Ue.unbindTexture()},this.resetState=function(){P=0,A=0,R=null,Ue.reset(),Et.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ac}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===AE?"display-p3":"srgb",n.unpackColorSpace=Qn.workingColorSpace===cx?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Mi?Vf:GI}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Vf?Mi:_c}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class d9 extends eL{}d9.prototype.isWebGL1Renderer=!0;class LE{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new _t(e),this.density=n}clone(){return new LE(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class OE{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new _t(e),this.near=n,this.far=r}clone(){return new OE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class BS extends $n{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class kE{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=T1,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=os()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=os()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=os()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fo=new K;class Zh{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Fo.fromBufferAttribute(this,n),Fo.applyMatrix4(e),this.setXYZ(n,Fo.x,Fo.y,Fo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Fo.fromBufferAttribute(this,n),Fo.applyNormalMatrix(e),this.setXYZ(n,Fo.x,Fo.y,Fo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Fo.fromBufferAttribute(this,n),Fo.transformDirection(e),this.setXYZ(n,Fo.x,Fo.y,Fo.z);return this}setX(e,n){return this.normalized&&(n=_n(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=_n(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=_n(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=_n(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=fa(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=fa(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=fa(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=fa(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array),o=_n(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new lr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Zh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class tL extends so{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new _t(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Mm;const Bv=new K,Em=new K,Cm=new K,Tm=new ze,$v=new ze,h9=new dn,N_=new K,Hv=new K,D_=new K,nD=new ze,_T=new ze,rD=new ze;class p9 extends $n{constructor(e=new tL){if(super(),this.isSprite=!0,this.type="Sprite",Mm===void 0){Mm=new Tn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new kE(n,5);Mm.setIndex([0,1,2,0,2,3]),Mm.setAttribute("position",new Zh(r,3,0,!1)),Mm.setAttribute("uv",new Zh(r,2,3,!1))}this.geometry=Mm,this.material=e,this.center=new ze(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Em.setFromMatrixScale(this.matrixWorld),h9.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Cm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Em.multiplyScalar(-Cm.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;F_(N_.set(-.5,-.5,0),Cm,a,Em,i,o),F_(Hv.set(.5,-.5,0),Cm,a,Em,i,o),F_(D_.set(.5,.5,0),Cm,a,Em,i,o),nD.set(0,0),_T.set(1,0),rD.set(1,1);let s=e.ray.intersectTriangle(N_,Hv,D_,!1,Bv);if(s===null&&(F_(Hv.set(-.5,.5,0),Cm,a,Em,i,o),_T.set(0,1),s=e.ray.intersectTriangle(N_,D_,Hv,!1,Bv),s===null))return;const l=e.ray.origin.distanceTo(Bv);l<e.near||l>e.far||n.push({distance:l,point:Bv.clone(),uv:ua.getInterpolation(Bv,N_,Hv,D_,nD,_T,rD,new ze),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function F_(t,e,n,r,i,o){Tm.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?($v.x=o*Tm.x-i*Tm.y,$v.y=i*Tm.x+o*Tm.y):$v.copy(Tm),t.copy(e),t.x+=$v.x,t.y+=$v.y,t.applyMatrix4(h9)}const U_=new K,iD=new K;class m9 extends $n{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){U_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(U_);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){U_.setFromMatrixPosition(e.matrixWorld),iD.setFromMatrixPosition(this.matrixWorld);const r=U_.distanceTo(iD)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const oD=new K,aD=new Yn,sD=new Yn,vve=new K,lD=new dn,z_=new K,wT=new Pl,cD=new dn,ST=new g0;class g9 extends no{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=DR,this.bindMatrix=new dn,this.bindMatrixInverse=new dn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ys),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,z_),this.boundingBox.expandByPoint(z_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Pl),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,z_),this.boundingSphere.expandByPoint(z_)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),wT.copy(this.boundingSphere),wT.applyMatrix4(i),e.ray.intersectsSphere(wT)!==!1&&(cD.copy(i).invert(),ST.copy(e.ray).applyMatrix4(cD),!(this.boundingBox!==null&&ST.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,ST)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Yn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===DR?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===E7?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;aD.fromBufferAttribute(i.attributes.skinIndex,e),sD.fromBufferAttribute(i.attributes.skinWeight,e),oD.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=sD.getComponent(o);if(a!==0){const s=aD.getComponent(o);lD.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(vve.copy(oD).applyMatrix4(lD),a)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class nL extends $n{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Wf extends Kr{constructor(e=null,n=1,r=1,i,o,a,s,l,c=qr,f=qr,p,m){super(null,a,s,l,c,f,i,o,p,m),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const uD=new dn,yve=new dn;class NE{constructor(e=[],n=[]){this.uuid=os(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new dn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new dn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:yve;uD.multiplyMatrices(s,n[o]),uD.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new NE(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=q7(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Wf(n,e,e,Wo,Sl);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new nL),this.bones.push(a),this.boneInverses.push(new dn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class r0 extends lr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Am=new dn,fD=new dn,B_=[],dD=new Ys,xve=new dn,Vv=new no,Wv=new Pl;class v9 extends no{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new r0(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,xve)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ys),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Am),dD.copy(e.boundingBox).applyMatrix4(Am),this.boundingBox.union(dD)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Pl),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Am),Wv.copy(e.boundingSphere).applyMatrix4(Am),this.boundingSphere.union(Wv)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Vv.geometry=this.geometry,Vv.material=this.material,Vv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Wv.copy(this.boundingSphere),Wv.applyMatrix4(r),e.ray.intersectsSphere(Wv)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Am),fD.multiplyMatrices(r,Am),Vv.matrixWorld=fD,Vv.raycast(e,B_);for(let a=0,s=B_.length;a<s;a++){const l=B_[a];l.instanceId=o,l.object=this,n.push(l)}B_.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new r0(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Yo extends so{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new _t(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const hD=new K,pD=new K,mD=new dn,MT=new g0,$_=new Pl;let Cu=class extends $n{constructor(e=new Tn,n=new Yo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)hD.fromBufferAttribute(n,i-1),pD.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=hD.distanceTo(pD);e.setAttribute("lineDistance",new It(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$_.copy(r.boundingSphere),$_.applyMatrix4(i),$_.radius+=o,e.ray.intersectsSphere($_)===!1)return;mD.copy(i).invert(),MT.copy(e.ray).applyMatrix4(mD);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=new K,f=new K,p=new K,m=new K,v=this.isLineSegments?2:1,x=r.index,b=r.attributes.position;if(x!==null){const y=Math.max(0,a.start),S=Math.min(x.count,a.start+a.count);for(let M=y,C=S-1;M<C;M+=v){const P=x.getX(M),A=x.getX(M+1);if(c.fromBufferAttribute(b,P),f.fromBufferAttribute(b,A),MT.distanceSqToSegment(c,f,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const U=e.ray.origin.distanceTo(m);U<e.near||U>e.far||n.push({distance:U,point:p.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,a.start),S=Math.min(b.count,a.start+a.count);for(let M=y,C=S-1;M<C;M+=v){if(c.fromBufferAttribute(b,M),f.fromBufferAttribute(b,M+1),MT.distanceSqToSegment(c,f,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(m);A<e.near||A>e.far||n.push({distance:A,point:p.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}};const gD=new K,vD=new K;class Ec extends Cu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)gD.fromBufferAttribute(n,i),vD.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+gD.distanceTo(vD);e.setAttribute("lineDistance",new It(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class y9 extends Cu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class rL extends so{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new _t(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const yD=new dn,h3=new g0,H_=new Pl,V_=new K;class x9 extends $n{constructor(e=new Tn,n=new rL){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),H_.copy(r.boundingSphere),H_.applyMatrix4(i),H_.radius+=o,e.ray.intersectsSphere(H_)===!1)return;yD.copy(i).invert(),h3.copy(e.ray).applyMatrix4(yD);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,p=r.attributes.position;if(c!==null){const m=Math.max(0,a.start),v=Math.min(c.count,a.start+a.count);for(let x=m,_=v;x<_;x++){const b=c.getX(x);V_.fromBufferAttribute(p,b),xD(V_,b,l,i,e,n,this)}}else{const m=Math.max(0,a.start),v=Math.min(p.count,a.start+a.count);for(let x=m,_=v;x<_;x++)V_.fromBufferAttribute(p,x),xD(V_,x,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function xD(t,e,n,r,i,o,a){const s=h3.distanceSqToPoint(t);if(s<n){const l=new K;h3.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:a})}}class bve extends Kr{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:ai,this.magFilter=o!==void 0?o:ai,this.generateMipmaps=!1;const f=this;function p(){f.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class _ve extends Kr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=qr,this.minFilter=qr,this.generateMipmaps=!1,this.needsUpdate=!0}}class DE extends Kr{constructor(e,n,r,i,o,a,s,l,c,f,p,m){super(null,a,s,l,c,f,i,o,p,m),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class wve extends DE{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Vi}}class Sve extends DE{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Eu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Mve extends Kr{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Il{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-a,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const f=r[i],m=r[i+1]-f,v=(a-f)/m;return(i+v)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new ze:new K);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new K,i=[],o=[],a=[],s=new K,l=new dn;for(let v=0;v<=e;v++){const x=v/e;i[v]=this.getTangentAt(x,new K)}o[0]=new K,a[0]=new K;let c=Number.MAX_VALUE;const f=Math.abs(i[0].x),p=Math.abs(i[0].y),m=Math.abs(i[0].z);f<=c&&(c=f,r.set(1,0,0)),p<=c&&(c=p,r.set(0,1,0)),m<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let v=1;v<=e;v++){if(o[v]=o[v-1].clone(),a[v]=a[v-1].clone(),s.crossVectors(i[v-1],i[v]),s.length()>Number.EPSILON){s.normalize();const x=Math.acos(Yr(i[v-1].dot(i[v]),-1,1));o[v].applyMatrix4(l.makeRotationAxis(s,x))}a[v].crossVectors(i[v],o[v])}if(n===!0){let v=Math.acos(Yr(o[0].dot(o[e]),-1,1));v/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(v=-v);for(let x=1;x<=e;x++)o[x].applyMatrix4(l.makeRotationAxis(i[x],v*x)),a[x].crossVectors(i[x],o[x])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class FE extends Il{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n){const r=n||new ze,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const f=Math.cos(this.aRotation),p=Math.sin(this.aRotation),m=l-this.aX,v=c-this.aY;l=m*f-v*p+this.aX,c=m*p+v*f+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class b9 extends FE{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function iL(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){i(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,f,p){let m=(a-o)/c-(s-o)/(c+f)+(s-a)/f,v=(s-a)/f-(l-a)/(f+p)+(l-s)/p;m*=f,v*=f,i(a,s,m,v)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const W_=new K,ET=new iL,CT=new iL,TT=new iL;class _9 extends Il{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new K){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,f;this.closed||s>0?c=i[(s-1)%o]:(W_.subVectors(i[0],i[1]).add(i[0]),c=W_);const p=i[s%o],m=i[(s+1)%o];if(this.closed||s+2<o?f=i[(s+2)%o]:(W_.subVectors(i[o-1],i[o-2]).add(i[o-1]),f=W_),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let x=Math.pow(c.distanceToSquared(p),v),_=Math.pow(p.distanceToSquared(m),v),b=Math.pow(m.distanceToSquared(f),v);_<1e-4&&(_=1),x<1e-4&&(x=_),b<1e-4&&(b=_),ET.initNonuniformCatmullRom(c.x,p.x,m.x,f.x,x,_,b),CT.initNonuniformCatmullRom(c.y,p.y,m.y,f.y,x,_,b),TT.initNonuniformCatmullRom(c.z,p.z,m.z,f.z,x,_,b)}else this.curveType==="catmullrom"&&(ET.initCatmullRom(c.x,p.x,m.x,f.x,this.tension),CT.initCatmullRom(c.y,p.y,m.y,f.y,this.tension),TT.initCatmullRom(c.z,p.z,m.z,f.z,this.tension));return r.set(ET.calc(l),CT.calc(l),TT.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new K().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function bD(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function Eve(t,e){const n=1-t;return n*n*e}function Cve(t,e){return 2*(1-t)*t*e}function Tve(t,e){return t*t*e}function Dy(t,e,n,r){return Eve(t,e)+Cve(t,n)+Tve(t,r)}function Ave(t,e){const n=1-t;return n*n*n*e}function Rve(t,e){const n=1-t;return 3*n*n*t*e}function Pve(t,e){return 3*(1-t)*t*t*e}function Ive(t,e){return t*t*t*e}function Fy(t,e,n,r,i){return Ave(t,e)+Rve(t,n)+Pve(t,r)+Ive(t,i)}class oL extends Il{constructor(e=new ze,n=new ze,r=new ze,i=new ze){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ze){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Fy(e,i.x,o.x,a.x,s.x),Fy(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class w9 extends Il{constructor(e=new K,n=new K,r=new K,i=new K){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new K){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Fy(e,i.x,o.x,a.x,s.x),Fy(e,i.y,o.y,a.y,s.y),Fy(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class aL extends Il{constructor(e=new ze,n=new ze){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ze){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ze){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class S9 extends Il{constructor(e=new K,n=new K){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new K){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new K){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sL extends Il{constructor(e=new ze,n=new ze,r=new ze){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ze){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Dy(e,i.x,o.x,a.x),Dy(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lL extends Il{constructor(e=new K,n=new K,r=new K){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new K){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Dy(e,i.x,o.x,a.x),Dy(e,i.y,o.y,a.y),Dy(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cL extends Il{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ze){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],c=i[a],f=i[a>i.length-2?i.length-1:a+1],p=i[a>i.length-3?i.length-1:a+2];return r.set(bD(s,l.x,c.x,f.x,p.x),bD(s,l.y,c.y,f.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ze().fromArray(i))}return this}}var $S=Object.freeze({__proto__:null,ArcCurve:b9,CatmullRomCurve3:_9,CubicBezierCurve:oL,CubicBezierCurve3:w9,EllipseCurve:FE,LineCurve:aL,LineCurve3:S9,QuadraticBezierCurve:sL,QuadraticBezierCurve3:lL,SplineCurve:cL});class M9 extends Il{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new $S[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const f=l[c];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new $S[i.type]().fromJSON(i))}return this}}class P1 extends M9{constructor(e){super(),this.type="Path",this.currentPoint=new ze,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new aL(this.currentPoint.clone(),new ze(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new sL(this.currentPoint.clone(),new ze(e,n),new ze(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new oL(this.currentPoint.clone(),new ze(e,n),new ze(r,i),new ze(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new cL(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,n+f,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const c=new FE(e,n,r,i,o,a,s,l);if(this.curves.length>0){const p=c.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class mx extends Tn{constructor(e=[new ze(0,-.5),new ze(.5,0),new ze(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Yr(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],c=[],f=1/n,p=new K,m=new ze,v=new K,x=new K,_=new K;let b=0,y=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:b=e[S+1].x-e[S].x,y=e[S+1].y-e[S].y,v.x=y*1,v.y=-b,v.z=y*0,_.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:b=e[S+1].x-e[S].x,y=e[S+1].y-e[S].y,v.x=y*1,v.y=-b,v.z=y*0,x.copy(v),v.x+=_.x,v.y+=_.y,v.z+=_.z,v.normalize(),l.push(v.x,v.y,v.z),_.copy(x)}for(let S=0;S<=n;S++){const M=r+S*f*i,C=Math.sin(M),P=Math.cos(M);for(let A=0;A<=e.length-1;A++){p.x=e[A].x*C,p.y=e[A].y,p.z=e[A].x*P,a.push(p.x,p.y,p.z),m.x=S/n,m.y=A/(e.length-1),s.push(m.x,m.y);const R=l[3*A+0]*C,U=l[3*A+1],O=l[3*A+0]*P;c.push(R,U,O)}}for(let S=0;S<n;S++)for(let M=0;M<e.length-1;M++){const C=M+S*e.length,P=C,A=C+e.length,R=C+e.length+1,U=C+1;o.push(P,A,U),o.push(R,U,A)}this.setIndex(o),this.setAttribute("position",new It(a,3)),this.setAttribute("uv",new It(s,2)),this.setAttribute("normal",new It(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mx(e.points,e.segments,e.phiStart,e.phiLength)}}class UE extends mx{constructor(e=1,n=1,r=4,i=8){const o=new P1;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new UE(e.radius,e.length,e.capSegments,e.radialSegments)}}class zE extends Tn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],c=new K,f=new ze;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let p=0,m=3;p<=n;p++,m+=3){const v=r+p/n*i;c.x=e*Math.cos(v),c.y=e*Math.sin(v),a.push(c.x,c.y,c.z),s.push(0,0,1),f.x=(a[m]/e+1)/2,f.y=(a[m+1]/e+1)/2,l.push(f.x,f.y)}for(let p=1;p<=n;p++)o.push(p,p+1,0);this.setIndex(o),this.setAttribute("position",new It(a,3)),this.setAttribute("normal",new It(s,3)),this.setAttribute("uv",new It(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class y0 extends Tn{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const f=[],p=[],m=[],v=[];let x=0;const _=[],b=r/2;let y=0;S(),a===!1&&(e>0&&M(!0),n>0&&M(!1)),this.setIndex(f),this.setAttribute("position",new It(p,3)),this.setAttribute("normal",new It(m,3)),this.setAttribute("uv",new It(v,2));function S(){const C=new K,P=new K;let A=0;const R=(n-e)/r;for(let U=0;U<=o;U++){const O=[],N=U/o,B=N*(n-e)+e;for(let Y=0;Y<=i;Y++){const J=Y/i,G=J*l+s,ne=Math.sin(G),ie=Math.cos(G);P.x=B*ne,P.y=-N*r+b,P.z=B*ie,p.push(P.x,P.y,P.z),C.set(ne,R,ie).normalize(),m.push(C.x,C.y,C.z),v.push(J,1-N),O.push(x++)}_.push(O)}for(let U=0;U<i;U++)for(let O=0;O<o;O++){const N=_[O][U],B=_[O+1][U],Y=_[O+1][U+1],J=_[O][U+1];f.push(N,B,J),f.push(B,Y,J),A+=6}c.addGroup(y,A,0),y+=A}function M(C){const P=x,A=new ze,R=new K;let U=0;const O=C===!0?e:n,N=C===!0?1:-1;for(let Y=1;Y<=i;Y++)p.push(0,b*N,0),m.push(0,N,0),v.push(.5,.5),x++;const B=x;for(let Y=0;Y<=i;Y++){const G=Y/i*l+s,ne=Math.cos(G),ie=Math.sin(G);R.x=O*ie,R.y=b*N,R.z=O*ne,p.push(R.x,R.y,R.z),m.push(0,N,0),A.x=ne*.5+.5,A.y=ie*.5*N+.5,v.push(A.x,A.y),x++}for(let Y=0;Y<i;Y++){const J=P+Y,G=B+Y;C===!0?f.push(G,G+1,J):f.push(G+1,G,J),U+=3}c.addGroup(y,U,C===!0?1:2),y+=U}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new y0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class BE extends y0{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new BE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fd extends Tn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),c(r),f(),this.setAttribute("position",new It(o,3)),this.setAttribute("normal",new It(o.slice(),3)),this.setAttribute("uv",new It(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(S){const M=new K,C=new K,P=new K;for(let A=0;A<n.length;A+=3)v(n[A+0],M),v(n[A+1],C),v(n[A+2],P),l(M,C,P,S)}function l(S,M,C,P){const A=P+1,R=[];for(let U=0;U<=A;U++){R[U]=[];const O=S.clone().lerp(C,U/A),N=M.clone().lerp(C,U/A),B=A-U;for(let Y=0;Y<=B;Y++)Y===0&&U===A?R[U][Y]=O:R[U][Y]=O.clone().lerp(N,Y/B)}for(let U=0;U<A;U++)for(let O=0;O<2*(A-U)-1;O++){const N=Math.floor(O/2);O%2===0?(m(R[U][N+1]),m(R[U+1][N]),m(R[U][N])):(m(R[U][N+1]),m(R[U+1][N+1]),m(R[U+1][N]))}}function c(S){const M=new K;for(let C=0;C<o.length;C+=3)M.x=o[C+0],M.y=o[C+1],M.z=o[C+2],M.normalize().multiplyScalar(S),o[C+0]=M.x,o[C+1]=M.y,o[C+2]=M.z}function f(){const S=new K;for(let M=0;M<o.length;M+=3){S.x=o[M+0],S.y=o[M+1],S.z=o[M+2];const C=b(S)/2/Math.PI+.5,P=y(S)/Math.PI+.5;a.push(C,1-P)}x(),p()}function p(){for(let S=0;S<a.length;S+=6){const M=a[S+0],C=a[S+2],P=a[S+4],A=Math.max(M,C,P),R=Math.min(M,C,P);A>.9&&R<.1&&(M<.2&&(a[S+0]+=1),C<.2&&(a[S+2]+=1),P<.2&&(a[S+4]+=1))}}function m(S){o.push(S.x,S.y,S.z)}function v(S,M){const C=S*3;M.x=e[C+0],M.y=e[C+1],M.z=e[C+2]}function x(){const S=new K,M=new K,C=new K,P=new K,A=new ze,R=new ze,U=new ze;for(let O=0,N=0;O<o.length;O+=9,N+=6){S.set(o[O+0],o[O+1],o[O+2]),M.set(o[O+3],o[O+4],o[O+5]),C.set(o[O+6],o[O+7],o[O+8]),A.set(a[N+0],a[N+1]),R.set(a[N+2],a[N+3]),U.set(a[N+4],a[N+5]),P.copy(S).add(M).add(C).divideScalar(3);const B=b(P);_(A,N+0,S,B),_(R,N+2,M,B),_(U,N+4,C,B)}}function _(S,M,C,P){P<0&&S.x===1&&(a[M]=S.x-1),C.x===0&&C.z===0&&(a[M]=P/2/Math.PI+.5)}function b(S){return Math.atan2(S.z,-S.x)}function y(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fd(e.vertices,e.indices,e.radius,e.details)}}class $E extends fd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new $E(e.radius,e.detail)}}const G_=new K,j_=new K,AT=new K,X_=new ua;class E9 extends Tn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(kh*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],f=["a","b","c"],p=new Array(3),m={},v=[];for(let x=0;x<l;x+=3){a?(c[0]=a.getX(x),c[1]=a.getX(x+1),c[2]=a.getX(x+2)):(c[0]=x,c[1]=x+1,c[2]=x+2);const{a:_,b,c:y}=X_;if(_.fromBufferAttribute(s,c[0]),b.fromBufferAttribute(s,c[1]),y.fromBufferAttribute(s,c[2]),X_.getNormal(AT),p[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,p[1]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,p[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let S=0;S<3;S++){const M=(S+1)%3,C=p[S],P=p[M],A=X_[f[S]],R=X_[f[M]],U=`${C}_${P}`,O=`${P}_${C}`;O in m&&m[O]?(AT.dot(m[O].normal)<=o&&(v.push(A.x,A.y,A.z),v.push(R.x,R.y,R.z)),m[O]=null):U in m||(m[U]={index0:c[S],index1:c[M],normal:AT.clone()})}}for(const x in m)if(m[x]){const{index0:_,index1:b}=m[x];G_.fromBufferAttribute(s,_),j_.fromBufferAttribute(s,b),v.push(G_.x,G_.y,G_.z),v.push(j_.x,j_.y,j_.z)}this.setAttribute("position",new It(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Dh extends P1{constructor(e){super(e),this.uuid=os(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new P1().fromJSON(i))}return this}}const Lve={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=C9(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,f,p,m,v;if(r&&(o=Fve(t,e,o,n)),t.length>80*n){s=c=t[0],l=f=t[1];for(let x=n;x<i;x+=n)p=t[x],m=t[x+1],p<s&&(s=p),m<l&&(l=m),p>c&&(c=p),m>f&&(f=m);v=Math.max(c-s,f-l),v=v!==0?32767/v:0}return I1(o,a,n,s,l,v,0),a}};function C9(t,e,n,r,i){let o,a;if(i===qve(t,e,n,r)>0)for(o=e;o<n;o+=r)a=_D(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=_D(o,t[o],t[o+1],a);return a&&HE(a,a.next)&&(O1(a),a=a.next),a}function Qh(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(HE(n,n.next)||Nr(n.prev,n,n.next)===0)){if(O1(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function I1(t,e,n,r,i,o,a){if(!t)return;!a&&o&&Hve(t,r,i,o);let s=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?kve(t,r,i,o):Ove(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),O1(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=Nve(Qh(t),e,n),I1(t,e,n,r,i,o,2)):a===2&&Dve(t,e,n,r,i,o):I1(Qh(t),e,n,r,i,o,1);break}}}function Ove(t){const e=t.prev,n=t,r=t.next;if(Nr(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,f=i<o?i<a?i:a:o<a?o:a,p=s<l?s<c?s:c:l<c?l:c,m=i>o?i>a?i:a:o>a?o:a,v=s>l?s>c?s:c:l>c?l:c;let x=r.next;for(;x!==e;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&yg(i,s,o,l,a,c,x.x,x.y)&&Nr(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function kve(t,e,n,r){const i=t.prev,o=t,a=t.next;if(Nr(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,f=i.y,p=o.y,m=a.y,v=s<l?s<c?s:c:l<c?l:c,x=f<p?f<m?f:m:p<m?p:m,_=s>l?s>c?s:c:l>c?l:c,b=f>p?f>m?f:m:p>m?p:m,y=p3(v,x,e,n,r),S=p3(_,b,e,n,r);let M=t.prevZ,C=t.nextZ;for(;M&&M.z>=y&&C&&C.z<=S;){if(M.x>=v&&M.x<=_&&M.y>=x&&M.y<=b&&M!==i&&M!==a&&yg(s,f,l,p,c,m,M.x,M.y)&&Nr(M.prev,M,M.next)>=0||(M=M.prevZ,C.x>=v&&C.x<=_&&C.y>=x&&C.y<=b&&C!==i&&C!==a&&yg(s,f,l,p,c,m,C.x,C.y)&&Nr(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;M&&M.z>=y;){if(M.x>=v&&M.x<=_&&M.y>=x&&M.y<=b&&M!==i&&M!==a&&yg(s,f,l,p,c,m,M.x,M.y)&&Nr(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;C&&C.z<=S;){if(C.x>=v&&C.x<=_&&C.y>=x&&C.y<=b&&C!==i&&C!==a&&yg(s,f,l,p,c,m,C.x,C.y)&&Nr(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Nve(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!HE(i,o)&&T9(i,r,r.next,o)&&L1(i,o)&&L1(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),O1(r),O1(r.next),r=t=o),r=r.next}while(r!==t);return Qh(r)}function Dve(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&Gve(a,s)){let l=A9(a,s);a=Qh(a,a.next),l=Qh(l,l.next),I1(a,e,n,r,i,o,0),I1(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function Fve(t,e,n,r){const i=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=C9(t,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Wve(c));for(i.sort(Uve),o=0;o<i.length;o++)n=zve(i[o],n);return n}function Uve(t,e){return t.x-e.x}function zve(t,e){const n=Bve(t,e);if(!n)return e;const r=A9(n,t);return Qh(r,r.next),Qh(n,n.next)}function Bve(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const m=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(m<=o&&m>r&&(r=m,i=n.x<n.next.x?n:n.next,m===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,c=i.y;let f=1/0,p;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&yg(a<c?o:r,a,l,c,a<c?r:o,a,n.x,n.y)&&(p=Math.abs(a-n.y)/(o-n.x),L1(n,t)&&(p<f||p===f&&(n.x>i.x||n.x===i.x&&$ve(i,n)))&&(i=n,f=p)),n=n.next;while(n!==s);return i}function $ve(t,e){return Nr(t.prev,t,e.prev)<0&&Nr(e.next,t,t.next)<0}function Hve(t,e,n,r){let i=t;do i.z===0&&(i.z=p3(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Vve(i)}function Vve(t){let e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return t}function p3(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Wve(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function yg(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Gve(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!jve(t,e)&&(L1(t,e)&&L1(e,t)&&Xve(t,e)&&(Nr(t.prev,t,e.prev)||Nr(t,e.prev,e))||HE(t,e)&&Nr(t.prev,t,t.next)>0&&Nr(e.prev,e,e.next)>0)}function Nr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function HE(t,e){return t.x===e.x&&t.y===e.y}function T9(t,e,n,r){const i=Y_(Nr(t,e,n)),o=Y_(Nr(t,e,r)),a=Y_(Nr(n,r,t)),s=Y_(Nr(n,r,e));return!!(i!==o&&a!==s||i===0&&q_(t,n,e)||o===0&&q_(t,r,e)||a===0&&q_(n,t,r)||s===0&&q_(n,e,r))}function q_(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Y_(t){return t>0?1:t<0?-1:0}function jve(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&T9(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function L1(t,e){return Nr(t.prev,t,t.next)<0?Nr(t,e,t.next)>=0&&Nr(t,t.prev,e)>=0:Nr(t,e,t.prev)<0||Nr(t,t.next,e)<0}function Xve(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function A9(t,e){const n=new m3(t.i,t.x,t.y),r=new m3(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function _D(t,e,n,r){const i=new m3(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function O1(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function m3(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qve(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class mc{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return mc.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];wD(e),SD(r,e);let a=e.length;n.forEach(wD);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,SD(r,n[l]);const s=Lve.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function wD(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function SD(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class VE extends Tn{constructor(e=new Dh([new ze(.5,.5),new ze(-.5,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new It(i,3)),this.setAttribute("uv",new It(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,p=n.depth!==void 0?n.depth:1;let m=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,x=n.bevelSize!==void 0?n.bevelSize:v-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const y=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:Yve;let M,C=!1,P,A,R,U;y&&(M=y.getSpacedPoints(f),C=!0,m=!1,P=y.computeFrenetFrames(f,!1),A=new K,R=new K,U=new K),m||(b=0,v=0,x=0,_=0);const O=s.extractPoints(c);let N=O.shape;const B=O.holes;if(!mc.isClockWise(N)){N=N.reverse();for(let oe=0,Ae=B.length;oe<Ae;oe++){const ge=B[oe];mc.isClockWise(ge)&&(B[oe]=ge.reverse())}}const J=mc.triangulateShape(N,B),G=N;for(let oe=0,Ae=B.length;oe<Ae;oe++){const ge=B[oe];N=N.concat(ge)}function ne(oe,Ae,ge){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),oe.clone().addScaledVector(Ae,ge)}const ie=N.length,se=J.length;function H(oe,Ae,ge){let ve,Ue,We;const Je=oe.x-Ae.x,ot=oe.y-Ae.y,ft=ge.x-oe.x,lt=ge.y-oe.y,Ht=Je*Je+ot*ot,ee=Je*lt-ot*ft;if(Math.abs(ee)>Number.EPSILON){const $=Math.sqrt(Ht),ye=Math.sqrt(ft*ft+lt*lt),Ge=Ae.x-ot/$,Le=Ae.y+Je/$,Me=ge.x-lt/ye,De=ge.y+ft/ye,je=((Me-Ge)*lt-(De-Le)*ft)/(Je*lt-ot*ft);ve=Ge+Je*je-oe.x,Ue=Le+ot*je-oe.y;const at=ve*ve+Ue*Ue;if(at<=2)return new ze(ve,Ue);We=Math.sqrt(at/2)}else{let $=!1;Je>Number.EPSILON?ft>Number.EPSILON&&($=!0):Je<-Number.EPSILON?ft<-Number.EPSILON&&($=!0):Math.sign(ot)===Math.sign(lt)&&($=!0),$?(ve=-ot,Ue=Je,We=Math.sqrt(Ht)):(ve=Je,Ue=ot,We=Math.sqrt(Ht/2))}return new ze(ve/We,Ue/We)}const q=[];for(let oe=0,Ae=G.length,ge=Ae-1,ve=oe+1;oe<Ae;oe++,ge++,ve++)ge===Ae&&(ge=0),ve===Ae&&(ve=0),q[oe]=H(G[oe],G[ge],G[ve]);const te=[];let Q,ae=q.concat();for(let oe=0,Ae=B.length;oe<Ae;oe++){const ge=B[oe];Q=[];for(let ve=0,Ue=ge.length,We=Ue-1,Je=ve+1;ve<Ue;ve++,We++,Je++)We===Ue&&(We=0),Je===Ue&&(Je=0),Q[ve]=H(ge[ve],ge[We],ge[Je]);te.push(Q),ae=ae.concat(Q)}for(let oe=0;oe<b;oe++){const Ae=oe/b,ge=v*Math.cos(Ae*Math.PI/2),ve=x*Math.sin(Ae*Math.PI/2)+_;for(let Ue=0,We=G.length;Ue<We;Ue++){const Je=ne(G[Ue],q[Ue],ve);Ye(Je.x,Je.y,-ge)}for(let Ue=0,We=B.length;Ue<We;Ue++){const Je=B[Ue];Q=te[Ue];for(let ot=0,ft=Je.length;ot<ft;ot++){const lt=ne(Je[ot],Q[ot],ve);Ye(lt.x,lt.y,-ge)}}}const xe=x+_;for(let oe=0;oe<ie;oe++){const Ae=m?ne(N[oe],ae[oe],xe):N[oe];C?(R.copy(P.normals[0]).multiplyScalar(Ae.x),A.copy(P.binormals[0]).multiplyScalar(Ae.y),U.copy(M[0]).add(R).add(A),Ye(U.x,U.y,U.z)):Ye(Ae.x,Ae.y,0)}for(let oe=1;oe<=f;oe++)for(let Ae=0;Ae<ie;Ae++){const ge=m?ne(N[Ae],ae[Ae],xe):N[Ae];C?(R.copy(P.normals[oe]).multiplyScalar(ge.x),A.copy(P.binormals[oe]).multiplyScalar(ge.y),U.copy(M[oe]).add(R).add(A),Ye(U.x,U.y,U.z)):Ye(ge.x,ge.y,p/f*oe)}for(let oe=b-1;oe>=0;oe--){const Ae=oe/b,ge=v*Math.cos(Ae*Math.PI/2),ve=x*Math.sin(Ae*Math.PI/2)+_;for(let Ue=0,We=G.length;Ue<We;Ue++){const Je=ne(G[Ue],q[Ue],ve);Ye(Je.x,Je.y,p+ge)}for(let Ue=0,We=B.length;Ue<We;Ue++){const Je=B[Ue];Q=te[Ue];for(let ot=0,ft=Je.length;ot<ft;ot++){const lt=ne(Je[ot],Q[ot],ve);C?Ye(lt.x,lt.y+M[f-1].y,M[f-1].x+ge):Ye(lt.x,lt.y,p+ge)}}}we(),Te();function we(){const oe=i.length/3;if(m){let Ae=0,ge=ie*Ae;for(let ve=0;ve<se;ve++){const Ue=J[ve];et(Ue[2]+ge,Ue[1]+ge,Ue[0]+ge)}Ae=f+b*2,ge=ie*Ae;for(let ve=0;ve<se;ve++){const Ue=J[ve];et(Ue[0]+ge,Ue[1]+ge,Ue[2]+ge)}}else{for(let Ae=0;Ae<se;Ae++){const ge=J[Ae];et(ge[2],ge[1],ge[0])}for(let Ae=0;Ae<se;Ae++){const ge=J[Ae];et(ge[0]+ie*f,ge[1]+ie*f,ge[2]+ie*f)}}r.addGroup(oe,i.length/3-oe,0)}function Te(){const oe=i.length/3;let Ae=0;Ve(G,Ae),Ae+=G.length;for(let ge=0,ve=B.length;ge<ve;ge++){const Ue=B[ge];Ve(Ue,Ae),Ae+=Ue.length}r.addGroup(oe,i.length/3-oe,1)}function Ve(oe,Ae){let ge=oe.length;for(;--ge>=0;){const ve=ge;let Ue=ge-1;Ue<0&&(Ue=oe.length-1);for(let We=0,Je=f+b*2;We<Je;We++){const ot=ie*We,ft=ie*(We+1),lt=Ae+ve+ot,Ht=Ae+Ue+ot,ee=Ae+Ue+ft,$=Ae+ve+ft;ct(lt,Ht,ee,$)}}}function Ye(oe,Ae,ge){l.push(oe),l.push(Ae),l.push(ge)}function et(oe,Ae,ge){Lt(oe),Lt(Ae),Lt(ge);const ve=i.length/3,Ue=S.generateTopUV(r,i,ve-3,ve-2,ve-1);$e(Ue[0]),$e(Ue[1]),$e(Ue[2])}function ct(oe,Ae,ge,ve){Lt(oe),Lt(Ae),Lt(ve),Lt(Ae),Lt(ge),Lt(ve);const Ue=i.length/3,We=S.generateSideWallUV(r,i,Ue-6,Ue-3,Ue-2,Ue-1);$e(We[0]),$e(We[1]),$e(We[3]),$e(We[1]),$e(We[2]),$e(We[3])}function Lt(oe){i.push(l[oe*3+0]),i.push(l[oe*3+1]),i.push(l[oe*3+2])}function $e(oe){o.push(oe.x),o.push(oe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Kve(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new $S[i.type]().fromJSON(i)),new VE(r,e.options)}}const Yve={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],f=e[i*3+1];return[new ze(o,a),new ze(s,l),new ze(c,f)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[r*3],f=e[r*3+1],p=e[r*3+2],m=e[i*3],v=e[i*3+1],x=e[i*3+2],_=e[o*3],b=e[o*3+1],y=e[o*3+2];return Math.abs(s-f)<Math.abs(a-c)?[new ze(a,1-l),new ze(c,1-p),new ze(m,1-x),new ze(_,1-y)]:[new ze(s,1-l),new ze(f,1-p),new ze(v,1-x),new ze(b,1-y)]}};function Kve(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class WE extends fd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new WE(e.radius,e.detail)}}class gx extends fd{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new gx(e.radius,e.detail)}}class GE extends Tn{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],c=[],f=[];let p=e;const m=(n-e)/i,v=new K,x=new ze;for(let _=0;_<=i;_++){for(let b=0;b<=r;b++){const y=o+b/r*a;v.x=p*Math.cos(y),v.y=p*Math.sin(y),l.push(v.x,v.y,v.z),c.push(0,0,1),x.x=(v.x/n+1)/2,x.y=(v.y/n+1)/2,f.push(x.x,x.y)}p+=m}for(let _=0;_<i;_++){const b=_*(r+1);for(let y=0;y<r;y++){const S=y+b,M=S,C=S+r+1,P=S+r+2,A=S+1;s.push(M,C,A),s.push(C,P,A)}}this.setIndex(s),this.setAttribute("position",new It(l,3)),this.setAttribute("normal",new It(c,3)),this.setAttribute("uv",new It(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new GE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class jE extends Tn{constructor(e=new Dh([new ze(0,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(s,l,f),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new It(i,3)),this.setAttribute("normal",new It(o,3)),this.setAttribute("uv",new It(a,2));function c(f){const p=i.length/3,m=f.extractPoints(n);let v=m.shape;const x=m.holes;mc.isClockWise(v)===!1&&(v=v.reverse());for(let b=0,y=x.length;b<y;b++){const S=x[b];mc.isClockWise(S)===!0&&(x[b]=S.reverse())}const _=mc.triangulateShape(v,x);for(let b=0,y=x.length;b<y;b++){const S=x[b];v=v.concat(S)}for(let b=0,y=v.length;b<y;b++){const S=v[b];i.push(S.x,S.y,0),o.push(0,0,1),a.push(S.x,S.y)}for(let b=0,y=_.length;b<y;b++){const S=_[b],M=S[0]+p,C=S[1]+p,P=S[2]+p;r.push(M,C,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Zve(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new jE(r,e.curveSegments)}}function Zve(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class vx extends Tn{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let c=0;const f=[],p=new K,m=new K,v=[],x=[],_=[],b=[];for(let y=0;y<=r;y++){const S=[],M=y/r;let C=0;y===0&&a===0?C=.5/n:y===r&&l===Math.PI&&(C=-.5/n);for(let P=0;P<=n;P++){const A=P/n;p.x=-e*Math.cos(i+A*o)*Math.sin(a+M*s),p.y=e*Math.cos(a+M*s),p.z=e*Math.sin(i+A*o)*Math.sin(a+M*s),x.push(p.x,p.y,p.z),m.copy(p).normalize(),_.push(m.x,m.y,m.z),b.push(A+C,1-M),S.push(c++)}f.push(S)}for(let y=0;y<r;y++)for(let S=0;S<n;S++){const M=f[y][S+1],C=f[y][S],P=f[y+1][S],A=f[y+1][S+1];(y!==0||a>0)&&v.push(M,C,A),(y!==r-1||l<Math.PI)&&v.push(C,P,A)}this.setIndex(v),this.setAttribute("position",new It(x,3)),this.setAttribute("normal",new It(_,3)),this.setAttribute("uv",new It(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class XE extends fd{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new XE(e.radius,e.detail)}}class qE extends Tn{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],c=[],f=new K,p=new K,m=new K;for(let v=0;v<=r;v++)for(let x=0;x<=i;x++){const _=x/i*o,b=v/r*Math.PI*2;p.x=(e+n*Math.cos(b))*Math.cos(_),p.y=(e+n*Math.cos(b))*Math.sin(_),p.z=n*Math.sin(b),s.push(p.x,p.y,p.z),f.x=e*Math.cos(_),f.y=e*Math.sin(_),m.subVectors(p,f).normalize(),l.push(m.x,m.y,m.z),c.push(x/i),c.push(v/r)}for(let v=1;v<=r;v++)for(let x=1;x<=i;x++){const _=(i+1)*v+x-1,b=(i+1)*(v-1)+x-1,y=(i+1)*(v-1)+x,S=(i+1)*v+x;a.push(_,b,S),a.push(b,y,S)}this.setIndex(a),this.setAttribute("position",new It(s,3)),this.setAttribute("normal",new It(l,3)),this.setAttribute("uv",new It(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class YE extends Tn{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],c=[],f=[],p=new K,m=new K,v=new K,x=new K,_=new K,b=new K,y=new K;for(let M=0;M<=r;++M){const C=M/r*o*Math.PI*2;S(C,o,a,e,v),S(C+.01,o,a,e,x),b.subVectors(x,v),y.addVectors(x,v),_.crossVectors(b,y),y.crossVectors(_,b),_.normalize(),y.normalize();for(let P=0;P<=i;++P){const A=P/i*Math.PI*2,R=-n*Math.cos(A),U=n*Math.sin(A);p.x=v.x+(R*y.x+U*_.x),p.y=v.y+(R*y.y+U*_.y),p.z=v.z+(R*y.z+U*_.z),l.push(p.x,p.y,p.z),m.subVectors(p,v).normalize(),c.push(m.x,m.y,m.z),f.push(M/r),f.push(P/i)}}for(let M=1;M<=r;M++)for(let C=1;C<=i;C++){const P=(i+1)*(M-1)+(C-1),A=(i+1)*M+(C-1),R=(i+1)*M+C,U=(i+1)*(M-1)+C;s.push(P,A,U),s.push(A,R,U)}this.setIndex(s),this.setAttribute("position",new It(l,3)),this.setAttribute("normal",new It(c,3)),this.setAttribute("uv",new It(f,2));function S(M,C,P,A,R){const U=Math.cos(M),O=Math.sin(M),N=P/C*M,B=Math.cos(N);R.x=A*(2+B)*.5*U,R.y=A*(2+B)*O*.5,R.z=A*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new YE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class KE extends Tn{constructor(e=new lL(new K(-1,-1,0),new K(-1,1,0),new K(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new K,l=new K,c=new ze;let f=new K;const p=[],m=[],v=[],x=[];_(),this.setIndex(x),this.setAttribute("position",new It(p,3)),this.setAttribute("normal",new It(m,3)),this.setAttribute("uv",new It(v,2));function _(){for(let M=0;M<n;M++)b(M);b(o===!1?n:0),S(),y()}function b(M){f=e.getPointAt(M/n,f);const C=a.normals[M],P=a.binormals[M];for(let A=0;A<=i;A++){const R=A/i*Math.PI*2,U=Math.sin(R),O=-Math.cos(R);l.x=O*C.x+U*P.x,l.y=O*C.y+U*P.y,l.z=O*C.z+U*P.z,l.normalize(),m.push(l.x,l.y,l.z),s.x=f.x+r*l.x,s.y=f.y+r*l.y,s.z=f.z+r*l.z,p.push(s.x,s.y,s.z)}}function y(){for(let M=1;M<=n;M++)for(let C=1;C<=i;C++){const P=(i+1)*(M-1)+(C-1),A=(i+1)*M+(C-1),R=(i+1)*M+C,U=(i+1)*(M-1)+C;x.push(P,A,U),x.push(A,R,U)}}function S(){for(let M=0;M<=n;M++)for(let C=0;C<=i;C++)c.x=M/n,c.y=C/i,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new KE(new $S[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class R9 extends Tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new K,o=new K;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const p=l[c],m=p.start,v=p.count;for(let x=m,_=m+v;x<_;x+=3)for(let b=0;b<3;b++){const y=s.getX(x+b),S=s.getX(x+(b+1)%3);i.fromBufferAttribute(a,y),o.fromBufferAttribute(a,S),MD(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const f=3*s+c,p=3*s+(c+1)%3;i.fromBufferAttribute(a,f),o.fromBufferAttribute(a,p),MD(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new It(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function MD(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var ED=Object.freeze({__proto__:null,BoxGeometry:op,CapsuleGeometry:UE,CircleGeometry:zE,ConeGeometry:BE,CylinderGeometry:y0,DodecahedronGeometry:$E,EdgesGeometry:E9,ExtrudeGeometry:VE,IcosahedronGeometry:WE,LatheGeometry:mx,OctahedronGeometry:gx,PlaneGeometry:hx,PolyhedronGeometry:fd,RingGeometry:GE,ShapeGeometry:jE,SphereGeometry:vx,TetrahedronGeometry:XE,TorusGeometry:qE,TorusKnotGeometry:YE,TubeGeometry:KE,WireframeGeometry:R9});class P9 extends so{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new _t(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class I9 extends wc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class uL extends so{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new _t(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class L9 extends uL{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Yr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new _t(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new _t(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new _t(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class O9 extends so{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new _t(16777215),this.specular=new _t(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=sx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class k9 extends so{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new _t(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class N9 extends so{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class D9 extends so{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new _t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=sx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class F9 extends so{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new _t(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class U9 extends Yo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Mh(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function z9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function B9(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function g3(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function fL(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function Qve(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],f=c.getValueSize(),p=[],m=[];for(let v=0;v<c.times.length;++v){const x=c.times[v]*i;if(!(x<n||x>=r)){p.push(c.times[v]);for(let _=0;_<f;++_)m.push(c.values[v*f+_])}}p.length!==0&&(c.times=Mh(p,c.times.constructor),c.values=Mh(m,c.values.constructor),a.push(c))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function Jve(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(y){return y.name===s.name&&y.ValueTypeName===l});if(c===void 0)continue;let f=0;const p=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);let m=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);const x=s.times.length-1;let _;if(o<=s.times[0]){const y=f,S=p-f;_=s.values.slice(y,S)}else if(o>=s.times[x]){const y=x*p+f,S=y+p-f;_=s.values.slice(y,S)}else{const y=s.createInterpolant(),S=f,M=p-f;y.evaluate(o),_=y.resultBuffer.slice(S,M)}l==="quaternion"&&new ya().fromArray(_).normalize().conjugate().toArray(_);const b=c.times.length;for(let y=0;y<b;++y){const S=y*v+m;if(l==="quaternion")ya.multiplyQuaternionsFlat(c.values,S,_,0,c.values,S);else{const M=v-m*2;for(let C=0;C<M;++C)c.values[S+C]-=_[C]}}}return t.blendMode=WI,t}const eye={convertArray:Mh,isTypedArray:z9,getKeyframeOrder:B9,sortedArray:g3,flattenJSON:fL,subclip:Qve,makeClipAdditive:Jve};class yx{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class $9 extends yx{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:_h,endingEnd:_h}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case wh:o=e,s=2*n-r;break;case S1:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case wh:a=e,l=2*r-n;break;case S1:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,f=this.valueSize;this._weightPrev=c/(n-s),this._weightNext=c/(l-r),this._offsetPrev=o*f,this._offsetNext=a*f}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,f=this._offsetPrev,p=this._offsetNext,m=this._weightPrev,v=this._weightNext,x=(r-n)/(i-n),_=x*x,b=_*x,y=-m*b+2*m*_-m*x,S=(1+m)*b+(-1.5-2*m)*_+(-.5+m)*x+1,M=(-1-v)*b+(1.5+v)*_+.5*x,C=v*b-v*_;for(let P=0;P!==s;++P)o[P]=y*a[f+P]+S*a[c+P]+M*a[l+P]+C*a[p+P];return o}}class dL extends yx{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,f=(r-n)/(i-n),p=1-f;for(let m=0;m!==s;++m)o[m]=a[c+m]*p+a[l+m]*f;return o}}class H9 extends yx{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ll{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Mh(n,this.TimeBufferType),this.values=Mh(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Mh(e.times,Array),values:Mh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new H9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new dL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new $9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case _1:n=this.InterpolantFactoryMethodDiscrete;break;case w1:n=this.InterpolantFactoryMethodLinear;break;case jw:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _1;case this.InterpolantFactoryMethodLinear:return w1;case this.InterpolantFactoryMethodSmooth:return jw}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&z9(i))for(let s=0,l=i.length;s!==l;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===jw,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const c=e[s],f=e[s+1];if(c!==f&&(s!==1||c!==e[0]))if(i)l=!0;else{const p=s*r,m=p-r,v=p+r;for(let x=0;x!==r;++x){const _=n[p+x];if(_!==n[m+x]||_!==n[v+x]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const p=s*r,m=a*r;for(let v=0;v!==r;++v)n[m+v]=n[p+v]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[s+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ll.prototype.TimeBufferType=Float32Array;Ll.prototype.ValueBufferType=Float32Array;Ll.prototype.DefaultInterpolation=w1;class ap extends Ll{}ap.prototype.ValueTypeName="bool";ap.prototype.ValueBufferType=Array;ap.prototype.DefaultInterpolation=_1;ap.prototype.InterpolantFactoryMethodLinear=void 0;ap.prototype.InterpolantFactoryMethodSmooth=void 0;class hL extends Ll{}hL.prototype.ValueTypeName="color";class k1 extends Ll{}k1.prototype.ValueTypeName="number";class V9 extends yx{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let c=e*s;for(let f=c+s;c!==f;c+=4)ya.slerpFlat(o,0,a,c-s,a,c,l);return o}}class x0 extends Ll{InterpolantFactoryMethodLinear(e){return new V9(this.times,this.values,this.getValueSize(),e)}}x0.prototype.ValueTypeName="quaternion";x0.prototype.DefaultInterpolation=w1;x0.prototype.InterpolantFactoryMethodSmooth=void 0;class sp extends Ll{}sp.prototype.ValueTypeName="string";sp.prototype.ValueBufferType=Array;sp.prototype.DefaultInterpolation=_1;sp.prototype.InterpolantFactoryMethodLinear=void 0;sp.prototype.InterpolantFactoryMethodSmooth=void 0;class N1 extends Ll{}N1.prototype.ValueTypeName="vector";class D1{constructor(e,n=-1,r,i=TE){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=os(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(nye(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(Ll.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],c=[];l.push((s+o-1)%o,s,(s+1)%o),c.push(0,1,0);const f=B9(l);l=g3(l,1,f),c=g3(c,1,f),!i&&l[0]===0&&(l.push(o),c.push(c[0])),a.push(new k1(".morphTargetInfluences["+n[s].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],f=c.name.match(o);if(f&&f.length>1){const p=f[1];let m=i[p];m||(i[p]=m=[]),m.push(c)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(p,m,v,x,_){if(v.length!==0){const b=[],y=[];fL(v,b,y,x),b.length!==0&&_.push(new p(m,b,y))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let p=0;p<c.length;p++){const m=c[p].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const v={};let x;for(x=0;x<m.length;x++)if(m[x].morphTargets)for(let _=0;_<m[x].morphTargets.length;_++)v[m[x].morphTargets[_]]=-1;for(const _ in v){const b=[],y=[];for(let S=0;S!==m[x].morphTargets.length;++S){const M=m[x];b.push(M.time),y.push(M.morphTarget===_?1:0)}i.push(new k1(".morphTargetInfluence["+_+"]",b,y))}l=v.length*a}else{const v=".bones["+n[p].name+"]";r(N1,v+".position",m,"pos",i),r(x0,v+".quaternion",m,"rot",i),r(N1,v+".scale",m,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function tye(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return k1;case"vector":case"vector2":case"vector3":case"vector4":return N1;case"color":return hL;case"quaternion":return x0;case"bool":case"boolean":return ap;case"string":return sp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function nye(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=tye(t.type);if(t.times===void 0){const n=[],r=[];fL(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Jh={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class pL{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(f){s++,o===!1&&i.onStart!==void 0&&i.onStart(f,a,s),o=!0},this.itemEnd=function(f){a++,i.onProgress!==void 0&&i.onProgress(f,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,p){return c.push(f,p),this},this.removeHandler=function(f){const p=c.indexOf(f);return p!==-1&&c.splice(p,2),this},this.getHandler=function(f){for(let p=0,m=c.length;p<m;p+=2){const v=c[p],x=c[p+1];if(v.global&&(v.lastIndex=0),v.test(f))return x}return null}}}const W9=new pL;class ba{constructor(e){this.manager=e!==void 0?e:W9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ba.DEFAULT_MATERIAL_NAME="__DEFAULT";const Qc={};class rye extends Error{constructor(e,n){super(e),this.response=n}}class Tu extends ba{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Jh.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Qc[e]!==void 0){Qc[e].push({onLoad:n,onProgress:r,onError:i});return}Qc[e]=[],Qc[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=Qc[e],p=c.body.getReader(),m=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),v=m?parseInt(m):0,x=v!==0;let _=0;const b=new ReadableStream({start(y){S();function S(){p.read().then(({done:M,value:C})=>{if(M)y.close();else{_+=C.byteLength;const P=new ProgressEvent("progress",{lengthComputable:x,loaded:_,total:v});for(let A=0,R=f.length;A<R;A++){const U=f[A];U.onProgress&&U.onProgress(P)}y.enqueue(C),S()}})}}});return new Response(b)}else throw new rye(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,s));case"json":return c.json();default:if(s===void 0)return c.text();{const p=/charset="?([^;"\s]*)"?/i.exec(s),m=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(m);return c.arrayBuffer().then(x=>v.decode(x))}}}).then(c=>{Jh.add(e,c);const f=Qc[e];delete Qc[e];for(let p=0,m=f.length;p<m;p++){const v=f[p];v.onLoad&&v.onLoad(c)}}).catch(c=>{const f=Qc[e];if(f===void 0)throw this.manager.itemError(e),c;delete Qc[e];for(let p=0,m=f.length;p<m;p++){const v=f[p];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class iye extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Tu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=D1.parse(e[r]);n.push(i)}return n}}class oye extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new DE,l=new Tu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function f(p){l.load(e[p],function(m){const v=o.parse(m,!0);a[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(s.minFilter=ai),s.image=a,s.format=v.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let p=0,m=e.length;p<m;++p)f(p);else l.load(e,function(p){const m=o.parse(p,!0);if(m.isCubemap){const v=m.mipmaps.length/m.mipmapCount;for(let x=0;x<v;x++){a[x]={mipmaps:[]};for(let _=0;_<m.mipmapCount;_++)a[x].mipmaps.push(m.mipmaps[x*m.mipmapCount+_]),a[x].format=m.format,a[x].width=m.width,a[x].height=m.height}s.image=a}else s.image.width=m.width,s.image.height=m.height,s.mipmaps=m.mipmaps;m.mipmapCount===1&&(s.minFilter=ai),s.format=m.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class F1 extends ba{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Jh.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=R1("img");function l(){f(),Jh.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(p){f(),i&&i(p),o.manager.itemError(e),o.manager.itemEnd(e)}function f(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class aye extends ba{constructor(e){super(e)}load(e,n,r,i){const o=new dx;o.colorSpace=Mi;const a=new F1(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(c){a.load(e[c],function(f){o.images[c]=f,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class sye extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Wf,s=new Tu(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let c;try{c=o.parse(l)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Vi,a.wrapT=c.wrapT!==void 0?c.wrapT:Vi,a.magFilter=c.magFilter!==void 0?c.magFilter:ai,a.minFilter=c.minFilter!==void 0?c.minFilter:ai,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?a.colorSpace=c.colorSpace:c.encoding!==void 0&&(a.encoding=c.encoding),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Zf),c.mipmapCount===1&&(a.minFilter=ai),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class lye extends ba{constructor(e){super(e)}load(e,n,r,i){const o=new Kr,a=new F1(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class dd extends $n{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new _t(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class G9 extends dd{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy($n.DEFAULT_UP),this.updateMatrix(),this.groundColor=new _t(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const RT=new dn,CD=new K,TD=new K;class mL{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ze(512,512),this.map=null,this.mapPass=null,this.matrix=new dn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new PE,this._frameExtents=new ze(1,1),this._viewportCount=1,this._viewports=[new Yn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;CD.setFromMatrixPosition(e.matrixWorld),n.position.copy(CD),TD.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(TD),n.updateMatrixWorld(),RT.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(RT),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(RT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class cye extends mL{constructor(){super(new Hi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=t0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class j9 extends dd{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy($n.DEFAULT_UP),this.updateMatrix(),this.target=new $n,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new cye}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const AD=new dn,Gv=new K,PT=new K;class uye extends mL{constructor(){super(new Hi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ze(4,2),this._viewportCount=6,this._viewports=[new Yn(2,1,1,1),new Yn(0,1,1,1),new Yn(3,1,1,1),new Yn(1,1,1,1),new Yn(3,0,1,1),new Yn(1,0,1,1)],this._cubeDirections=[new K(1,0,0),new K(-1,0,0),new K(0,0,1),new K(0,0,-1),new K(0,1,0),new K(0,-1,0)],this._cubeUps=[new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,0,1),new K(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Gv.setFromMatrixPosition(e.matrixWorld),r.position.copy(Gv),PT.copy(r.position),PT.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(PT),r.updateMatrixWorld(),i.makeTranslation(-Gv.x,-Gv.y,-Gv.z),AD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(AD)}}class X9 extends dd{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new uye}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class fye extends mL{constructor(){super(new px(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class q9 extends dd{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy($n.DEFAULT_UP),this.updateMatrix(),this.target=new $n,this.shadow=new fye}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Y9 extends dd{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class K9 extends dd{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Z9{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new K)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class Q9 extends dd{constructor(e=new Z9,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class ZE extends ba{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new Tu(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=ZE.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new _t().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new _t().setHex(a.value);break;case"v2":i.uniforms[o].value=new ze().fromArray(a.value);break;case"v3":i.uniforms[o].value=new K().fromArray(a.value);break;case"v4":i.uniforms[o].value=new Yn().fromArray(a.value);break;case"m3":i.uniforms[o].value=new Cn().fromArray(a.value);break;case"m4":i.uniforms[o].value=new dn().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new ze().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ze().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:P9,SpriteMaterial:tL,RawShaderMaterial:I9,ShaderMaterial:wc,PointsMaterial:rL,MeshPhysicalMaterial:L9,MeshStandardMaterial:uL,MeshPhongMaterial:O9,MeshToonMaterial:k9,MeshNormalMaterial:N9,MeshLambertMaterial:D9,MeshDepthMaterial:QI,MeshDistanceMaterial:JI,MeshBasicMaterial:ud,MeshMatcapMaterial:F9,LineDashedMaterial:U9,LineBasicMaterial:Yo,Material:so};return new n[e]}}class v3{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class J9 extends Tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class eH extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Tu(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(v,x){if(n[x]!==void 0)return n[x];const b=v.interleavedBuffers[x],y=o(v,b.buffer),S=mg(b.type,y),M=new kE(S,b.stride);return M.uuid=b.uuid,n[x]=M,M}function o(v,x){if(r[x]!==void 0)return r[x];const b=v.arrayBuffers[x],y=new Uint32Array(b).buffer;return r[x]=y,y}const a=e.isInstancedBufferGeometry?new J9:new Tn,s=e.data.index;if(s!==void 0){const v=mg(s.type,s.array);a.setIndex(new lr(v,1))}const l=e.data.attributes;for(const v in l){const x=l[v];let _;if(x.isInterleavedBufferAttribute){const b=i(e.data,x.data);_=new Zh(b,x.itemSize,x.offset,x.normalized)}else{const b=mg(x.type,x.array),y=x.isInstancedBufferAttribute?r0:lr;_=new y(b,x.itemSize,x.normalized)}x.name!==void 0&&(_.name=x.name),x.usage!==void 0&&_.setUsage(x.usage),x.updateRange!==void 0&&(_.updateRange.offset=x.updateRange.offset,_.updateRange.count=x.updateRange.count),a.setAttribute(v,_)}const c=e.data.morphAttributes;if(c)for(const v in c){const x=c[v],_=[];for(let b=0,y=x.length;b<y;b++){const S=x[b];let M;if(S.isInterleavedBufferAttribute){const C=i(e.data,S.data);M=new Zh(C,S.itemSize,S.offset,S.normalized)}else{const C=mg(S.type,S.array);M=new lr(C,S.itemSize,S.normalized)}S.name!==void 0&&(M.name=S.name),_.push(M)}a.morphAttributes[v]=_}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,x=p.length;v!==x;++v){const _=p[v];a.addGroup(_.start,_.count,_.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const v=new K;m.center!==void 0&&v.fromArray(m.center),a.boundingSphere=new Pl(v,m.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class dye extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?v3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new Tu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?v3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new Tu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,o,l,s,r),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),n!==void 0){let p=!1;for(const m in a)if(a[m].data instanceof HTMLImageElement){p=!0;break}p===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new Dh().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new NE().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new eH;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in ED?s=ED[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new ZE;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=D1.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(f)}else return l.data?{data:mg(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new pL(n);o=new F1(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const p=e[c],m=p.url;if(Array.isArray(m)){const v=[];for(let x=0,_=m.length;x<_;x++){const b=m[x],y=s(b);y!==null&&(y instanceof HTMLImageElement?v.push(y):v.push(new Wf(y.data,y.width,y.height)))}i[p.uuid]=new Sh(v)}else{const v=s(p.url);i[p.uuid]=new Sh(v)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:mg(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new F1(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const f=[];for(let p=0,m=c.length;p<m;p++){const v=c[p],x=await o(v);x!==null&&(x instanceof HTMLImageElement?f.push(x):f.push(new Wf(x.data,x.width,x.height)))}r[l.uuid]=new Sh(f)}else{const f=await o(l.url);r[l.uuid]=new Sh(f)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],c=l.data;let f;Array.isArray(c)?(f=new dx,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new Wf:f=new Kr,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=s.uuid,s.name!==void 0&&(f.name=s.name),s.mapping!==void 0&&(f.mapping=r(s.mapping,hye)),s.channel!==void 0&&(f.channel=s.channel),s.offset!==void 0&&f.offset.fromArray(s.offset),s.repeat!==void 0&&f.repeat.fromArray(s.repeat),s.center!==void 0&&f.center.fromArray(s.center),s.rotation!==void 0&&(f.rotation=s.rotation),s.wrap!==void 0&&(f.wrapS=r(s.wrap[0],RD),f.wrapT=r(s.wrap[1],RD)),s.format!==void 0&&(f.format=s.format),s.internalFormat!==void 0&&(f.internalFormat=s.internalFormat),s.type!==void 0&&(f.type=s.type),s.colorSpace!==void 0&&(f.colorSpace=s.colorSpace),s.encoding!==void 0&&(f.encoding=s.encoding),s.minFilter!==void 0&&(f.minFilter=r(s.minFilter,PD)),s.magFilter!==void 0&&(f.magFilter=r(s.magFilter,PD)),s.anisotropy!==void 0&&(f.anisotropy=s.anisotropy),s.flipY!==void 0&&(f.flipY=s.flipY),s.generateMipmaps!==void 0&&(f.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(f.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(f.compareFunction=s.compareFunction),s.userData!==void 0&&(f.userData=s.userData),i[s.uuid]=f}return i}parseObject(e,n,r,i,o){let a;function s(m){return n[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),n[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const v=[];for(let x=0,_=m.length;x<_;x++){const b=m[x];r[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),v.push(r[b])}return v}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function c(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let f,p;switch(e.type){case"Scene":a=new BS,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new _t(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new OE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new LE(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new Hi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new px(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Y9(e.color,e.intensity);break;case"DirectionalLight":a=new q9(e.color,e.intensity);break;case"PointLight":a=new X9(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new K9(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new j9(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new G9(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Q9().fromJSON(e);break;case"SkinnedMesh":f=s(e.geometry),p=l(e.material),a=new g9(f,p),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":f=s(e.geometry),p=l(e.material),a=new no(f,p);break;case"InstancedMesh":f=s(e.geometry),p=l(e.material);const m=e.count,v=e.instanceMatrix,x=e.instanceColor;a=new v9(f,p,m),a.instanceMatrix=new r0(new Float32Array(v.array),16),x!==void 0&&(a.instanceColor=new r0(new Float32Array(x.array),x.itemSize));break;case"LOD":a=new m9;break;case"Line":a=new Cu(s(e.geometry),l(e.material));break;case"LineLoop":a=new y9(s(e.geometry),l(e.material));break;case"LineSegments":a=new Ec(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new x9(s(e.geometry),l(e.material));break;case"Sprite":a=new p9(l(e.material));break;case"Group":a=new vg;break;case"Bone":a=new nL;break;default:a=new $n}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let v=0;v<m.length;v++)a.add(this.parseObject(m[v],n,r,i,o))}if(e.animations!==void 0){const m=e.animations;for(let v=0;v<m.length;v++){const x=m[v];a.animations.push(o[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const m=e.levels;for(let v=0;v<m.length;v++){const x=m[v],_=a.getObjectByProperty("uuid",x.object);_!==void 0&&a.addLevel(_,x.distance,x.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const hye={UVMapping:lx,CubeReflectionMapping:Eu,CubeRefractionMapping:Kf,EquirectangularReflectionMapping:v1,EquirectangularRefractionMapping:y1,CubeUVReflectionMapping:m0},RD={RepeatWrapping:x1,ClampToEdgeWrapping:Vi,MirroredRepeatWrapping:b1},PD={NearestFilter:qr,NearestMipmapNearestFilter:FS,NearestMipmapLinearFilter:Oy,LinearFilter:ai,LinearMipmapNearestFilter:DI,LinearMipmapLinearFilter:Zf};class pye extends ba{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Jh.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,fetch(e,s).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){Jh.add(e,l),n&&n(l),o.manager.itemEnd(e)}).catch(function(l){i&&i(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let K_;class gL{static getContext(){return K_===void 0&&(K_=new(window.AudioContext||window.webkitAudioContext)),K_}static setContext(e){K_=e}}class mye extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Tu(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);gL.getContext().decodeAudioData(c,function(p){n(p)},s)}catch(c){s(c)}},r,i);function s(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const ID=new dn,LD=new dn,eh=new dn;class gye{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,eh.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(kh*n.fov*.5)/n.zoom;let s,l;LD.elements[12]=-i,ID.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,eh.elements[0]=2*n.near/(l-s),eh.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(eh),s=-a*n.aspect-o,l=a*n.aspect-o,eh.elements[0]=2*n.near/(l-s),eh.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(eh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(LD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ID)}}class vL{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=OD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=OD();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function OD(){return(typeof performance>"u"?Date:performance).now()}const th=new K,kD=new ya,vye=new K,nh=new K;class yye extends $n{constructor(){super(),this.type="AudioListener",this.context=gL.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vL}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(th,kD,vye),nh.set(0,0,-1).applyQuaternion(kD),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(th.x,i),n.positionY.linearRampToValueAtTime(th.y,i),n.positionZ.linearRampToValueAtTime(th.z,i),n.forwardX.linearRampToValueAtTime(nh.x,i),n.forwardY.linearRampToValueAtTime(nh.y,i),n.forwardZ.linearRampToValueAtTime(nh.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(th.x,th.y,th.z),n.setOrientation(nh.x,nh.y,nh.z,r.x,r.y,r.z)}}class tH extends $n{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const rh=new K,ND=new ya,xye=new K,ih=new K;class bye extends tH{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(rh,ND,xye),ih.set(0,0,1).applyQuaternion(ND);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(rh.x,r),n.positionY.linearRampToValueAtTime(rh.y,r),n.positionZ.linearRampToValueAtTime(rh.z,r),n.orientationX.linearRampToValueAtTime(ih.x,r),n.orientationY.linearRampToValueAtTime(ih.y,r),n.orientationZ.linearRampToValueAtTime(ih.z,r)}else n.setPosition(rh.x,rh.y,rh.z),n.setOrientation(ih.x,ih.y,ih.z)}}class _ye{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class nH{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){ya.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;ya.multiplyQuaternionsFlat(e,a,e,n,e,r),ya.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const yL="\\[\\]\\.:\\/",wye=new RegExp("["+yL+"]","g"),xL="[^"+yL+"]",Sye="[^"+yL.replace("\\.","")+"]",Mye=/((?:WC+[\/:])*)/.source.replace("WC",xL),Eye=/(WCOD+)?/.source.replace("WCOD",Sye),Cye=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xL),Tye=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xL),Aye=new RegExp("^"+Mye+Eye+Cye+Tye+"$"),Rye=["material","materials","bones","map"];class Pye{constructor(e,n,r){const i=r||Un.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Un{constructor(e,n,r){this.path=n,this.parsedPath=r||Un.parseTrackName(n),this.node=Un.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Un.Composite(e,n,r):new Un(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(wye,"")}static parseTrackName(e){const n=Aye.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);Rye.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Un.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Un.Composite=Pye;Un.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Un.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Un.prototype.GetterByBindingType=[Un.prototype._getValue_direct,Un.prototype._getValue_array,Un.prototype._getValue_arrayElement,Un.prototype._getValue_toArray];Un.prototype.SetterByBindingTypeAndVersioning=[[Un.prototype._setValue_direct,Un.prototype._setValue_direct_setNeedsUpdate,Un.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Un.prototype._setValue_array,Un.prototype._setValue_array_setNeedsUpdate,Un.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Un.prototype._setValue_arrayElement,Un.prototype._setValue_arrayElement_setNeedsUpdate,Un.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Un.prototype._setValue_fromArray,Un.prototype._setValue_fromArray_setNeedsUpdate,Un.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Iye{constructor(){this.isAnimationObjectGroup=!0,this.uuid=os(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,c=this.nCachedObjects_;for(let f=0,p=arguments.length;f!==p;++f){const m=arguments[f],v=m.uuid;let x=n[v];if(x===void 0){x=l++,n[v]=x,e.push(m);for(let _=0,b=a;_!==b;++_)o[_].push(new Un(m,r[_],i[_]))}else if(x<c){s=e[x];const _=--c,b=e[_];n[b.uuid]=x,e[x]=b,n[v]=_,e[_]=m;for(let y=0,S=a;y!==S;++y){const M=o[y],C=M[_];let P=M[x];M[x]=C,P===void 0&&(P=new Un(m,r[y],i[y])),M[_]=P}}else e[x]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,f=n[c];if(f!==void 0&&f>=o){const p=o++,m=e[p];n[m.uuid]=f,e[f]=m,n[c]=p,e[p]=l;for(let v=0,x=i;v!==x;++v){const _=r[v],b=_[p],y=_[f];_[f]=b,_[p]=y}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],f=c.uuid,p=n[f];if(p!==void 0)if(delete n[f],p<o){const m=--o,v=e[m],x=--a,_=e[x];n[v.uuid]=p,e[p]=v,n[_.uuid]=m,e[m]=_,e.pop();for(let b=0,y=i;b!==y;++b){const S=r[b],M=S[m],C=S[x];S[p]=M,S[m]=C,S.pop()}}else{const m=--a,v=e[m];m>0&&(n[v.uuid]=p),e[p]=v,e.pop();for(let x=0,_=i;x!==_;++x){const b=r[x];b[p]=b[m],b.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,p=new Array(c);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(p);for(let m=f,v=l.length;m!==v;++m){const x=l[m];p[m]=new Un(x,e,n)}return p}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],c=e[s];n[c]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class rH{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:_h,endingEnd:_h};for(let c=0;c!==a;++c){const f=o[c].createInterpolant(null);s[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=N7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case WI:for(let f=0,p=l.length;f!==p;++f)l[f].evaluate(a),c[f].accumulateAdditive(s);break;case TE:default:for(let f=0,p=l.length;f!==p;++f)l[f].evaluate(a),c[f].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===D7;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===k7){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=wh,i.endingEnd=wh):(e?i.endingStart=this.zeroSlopeAtStart?wh:_h:i.endingStart=S1,n?i.endingEnd=this.zeroSlopeAtEnd?wh:_h:i.endingEnd=S1)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const Lye=new Float32Array(1);class Oye extends Ou{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let p=0;p!==o;++p){const m=i[p],v=m.name;let x=f[v];if(x!==void 0)++x.referenceCount,a[p]=x;else{if(x=a[p],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,v));continue}const _=n&&n._propertyBindings[p].binding.parsedPath;x=new nH(Un.create(r,v,_),m.ValueTypeName,m.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,v),a[p]=x}s[p].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const p=s.actionByRoot,m=(e._localRoot||this._root).uuid;delete p[m],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new dL(new Float32Array(2),new Float32Array(2),1,Lye),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?D1.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=TE),l!==void 0){const p=l.actionByRoot[o];if(p!==void 0&&p.blendMode===r)return p;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const f=new rH(this,a,n,r);return this._bindAction(f,c),this._addInactiveAction(f,s,o),f}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?D1.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const c=a[s];this._deactivateAction(c);const f=c._cacheIndex,p=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,p._cacheIndex=f,n[f]=p,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class bL{constructor(e){this.value=e}clone(){return new bL(this.value.clone===void 0?this.value:this.value.clone())}}let kye=0;class Nye extends Ou{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:kye++}),this.name="",this.usage=T1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Dye extends kE{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Fye{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class iH{constructor(e,n,r=0,i=1/0){this.ray=new g0(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Nh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return y3(e,this,r,n),r.sort(DD),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)y3(e[i],this,r,n);return r.sort(DD),r}}function DD(t,e){return t.distance-e.distance}function y3(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,a=i.length;o<a;o++)y3(i[o],e,n,!0)}}class Uye{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Yr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class zye{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const FD=new ze;class Bye{constructor(e=new ze(1/0,1/0),n=new ze(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=FD.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,FD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const UD=new K,Z_=new K;class $ye{constructor(e=new K,n=new K){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){UD.subVectors(e,this.start),Z_.subVectors(this.end,this.start);const r=Z_.dot(Z_);let o=Z_.dot(UD)/r;return n&&(o=Yr(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const zD=new K;class Hye extends $n{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Tn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const c=a/l*Math.PI*2,f=s/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new It(i,3));const o=new Yo({fog:!1,toneMapped:!1});this.cone=new Ec(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),zD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(zD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _f=new K,Q_=new dn,IT=new dn;class Vye extends Ec{constructor(e){const n=oH(e),r=new Tn,i=[],o=[],a=new _t(0,0,1),s=new _t(0,1,0);for(let c=0;c<n.length;c++){const f=n[c];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new It(i,3)),r.setAttribute("color",new It(o,3));const l=new Yo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");IT.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(Q_.multiplyMatrices(IT,s.matrixWorld),_f.setFromMatrixPosition(Q_),i.setXYZ(a,_f.x,_f.y,_f.z),Q_.multiplyMatrices(IT,s.parent.matrixWorld),_f.setFromMatrixPosition(Q_),i.setXYZ(a+1,_f.x,_f.y,_f.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function oH(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,oH(t.children[n]));return e}class Wye extends no{constructor(e,n,r){const i=new vx(n,4,2),o=new ud({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Gye=new K,BD=new _t,$D=new _t;class jye extends $n{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new gx(n);i.rotateY(Math.PI*.5),this.material=new ud({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new lr(a,3)),this.add(new no(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");BD.copy(this.light.color),$D.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?BD:$D;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Gye.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Xye extends Ec{constructor(e=10,n=10,r=4473924,i=8947848){r=new _t(r),i=new _t(i);const o=n/2,a=e/n,s=e/2,l=[],c=[];for(let m=0,v=0,x=-s;m<=n;m++,x+=a){l.push(-s,0,x,s,0,x),l.push(x,0,-s,x,0,s);const _=m===o?r:i;_.toArray(c,v),v+=3,_.toArray(c,v),v+=3,_.toArray(c,v),v+=3,_.toArray(c,v),v+=3}const f=new Tn;f.setAttribute("position",new It(l,3)),f.setAttribute("color",new It(c,3));const p=new Yo({vertexColors:!0,toneMapped:!1});super(f,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class qye extends Ec{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new _t(o),a=new _t(a);const s=[],l=[];if(n>1)for(let p=0;p<n;p++){const m=p/n*(Math.PI*2),v=Math.sin(m)*e,x=Math.cos(m)*e;s.push(0,0,0),s.push(v,0,x);const _=p&1?o:a;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let p=0;p<r;p++){const m=p&1?o:a,v=e-e/r*p;for(let x=0;x<i;x++){let _=x/i*(Math.PI*2),b=Math.sin(_)*v,y=Math.cos(_)*v;s.push(b,0,y),l.push(m.r,m.g,m.b),_=(x+1)/i*(Math.PI*2),b=Math.sin(_)*v,y=Math.cos(_)*v,s.push(b,0,y),l.push(m.r,m.g,m.b)}}const c=new Tn;c.setAttribute("position",new It(s,3)),c.setAttribute("color",new It(l,3));const f=new Yo({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const HD=new K,J_=new K,VD=new K;class Yye extends $n{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Tn;i.setAttribute("position",new It([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Yo({fog:!1,toneMapped:!1});this.lightPlane=new Cu(i,o),this.add(this.lightPlane),i=new Tn,i.setAttribute("position",new It([0,0,0,0,0,1],3)),this.targetLine=new Cu(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),HD.setFromMatrixPosition(this.light.matrixWorld),J_.setFromMatrixPosition(this.light.target.matrixWorld),VD.subVectors(J_,HD),this.lightPlane.lookAt(J_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(J_),this.targetLine.scale.z=VD.length()}}const ew=new K,Wr=new fx;class Kye extends Ec{constructor(e){const n=new Tn,r=new Yo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(x,_){l(x),l(_)}function l(x){i.push(0,0,0),o.push(0,0,0),a[x]===void 0&&(a[x]=[]),a[x].push(i.length/3-1)}n.setAttribute("position",new It(i,3)),n.setAttribute("color",new It(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new _t(16755200),f=new _t(16711680),p=new _t(43775),m=new _t(16777215),v=new _t(3355443);this.setColors(c,f,p,m,v)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Wr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ri("c",n,e,Wr,0,0,-1),ri("t",n,e,Wr,0,0,1),ri("n1",n,e,Wr,-r,-i,-1),ri("n2",n,e,Wr,r,-i,-1),ri("n3",n,e,Wr,-r,i,-1),ri("n4",n,e,Wr,r,i,-1),ri("f1",n,e,Wr,-r,-i,1),ri("f2",n,e,Wr,r,-i,1),ri("f3",n,e,Wr,-r,i,1),ri("f4",n,e,Wr,r,i,1),ri("u1",n,e,Wr,r*.7,i*1.1,-1),ri("u2",n,e,Wr,-r*.7,i*1.1,-1),ri("u3",n,e,Wr,0,i*2,-1),ri("cf1",n,e,Wr,-r,0,1),ri("cf2",n,e,Wr,r,0,1),ri("cf3",n,e,Wr,0,-i,1),ri("cf4",n,e,Wr,0,i,1),ri("cn1",n,e,Wr,-r,0,-1),ri("cn2",n,e,Wr,r,0,-1),ri("cn3",n,e,Wr,0,-i,-1),ri("cn4",n,e,Wr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ri(t,e,n,r,i,o,a){ew.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let c=0,f=s.length;c<f;c++)l.setXYZ(s[c],ew.x,ew.y,ew.z)}}const tw=new Ys;class Zye extends Ec{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Tn;o.setIndex(new lr(r,1)),o.setAttribute("position",new lr(i,3)),super(o,new Yo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&tw.setFromObject(this.object),tw.isEmpty())return;const n=tw.min,r=tw.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qye extends Ec{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Tn;o.setIndex(new lr(r,1)),o.setAttribute("position",new It(i,3)),super(o,new Yo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jye extends Cu{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Tn;a.setAttribute("position",new It(o,3)),a.computeBoundingSphere(),super(a,new Yo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Tn;l.setAttribute("position",new It(s,3)),l.computeBoundingSphere(),this.add(new no(l,new ud({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const WD=new K;let nw,LT;class e1e extends $n{constructor(e=new K(0,0,1),n=new K(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",nw===void 0&&(nw=new Tn,nw.setAttribute("position",new It([0,0,0,0,1,0],3)),LT=new y0(0,.5,1,5,1),LT.translate(0,-.5,0)),this.position.copy(n),this.line=new Cu(nw,new Yo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new no(LT,new ud({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{WD.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(WD,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class t1e extends Ec{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Tn;i.setAttribute("position",new It(n,3)),i.setAttribute("color",new It(r,3));const o=new Yo({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new _t,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class n1e{constructor(){this.type="ShapePath",this.color=new _t,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new P1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){const S=[];for(let M=0,C=y.length;M<C;M++){const P=y[M],A=new Dh;A.curves=P.curves,S.push(A)}return S}function r(y,S){const M=S.length;let C=!1;for(let P=M-1,A=0;A<M;P=A++){let R=S[P],U=S[A],O=U.x-R.x,N=U.y-R.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(R=S[A],O=-O,U=S[P],N=-N),y.y<R.y||y.y>U.y)continue;if(y.y===R.y){if(y.x===R.x)return!0}else{const B=N*(y.x-R.x)-O*(y.y-R.y);if(B===0)return!0;if(B<0)continue;C=!C}}else{if(y.y!==R.y)continue;if(U.x<=y.x&&y.x<=R.x||R.x<=y.x&&y.x<=U.x)return!0}}return C}const i=mc.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new Dh,l.curves=s.curves,c.push(l),c;let f=!i(o[0].getPoints());f=e?!f:f;const p=[],m=[];let v=[],x=0,_;m[x]=void 0,v[x]=[];for(let y=0,S=o.length;y<S;y++)s=o[y],_=s.getPoints(),a=i(_),a=e?!a:a,a?(!f&&m[x]&&x++,m[x]={s:new Dh,p:_},m[x].s.curves=s.curves,f&&x++,v[x]=[]):v[x].push({h:s,p:_[0]});if(!m[0])return n(o);if(m.length>1){let y=!1,S=0;for(let M=0,C=m.length;M<C;M++)p[M]=[];for(let M=0,C=m.length;M<C;M++){const P=v[M];for(let A=0;A<P.length;A++){const R=P[A];let U=!0;for(let O=0;O<m.length;O++)r(R.p,m[O].p)&&(M!==O&&S++,U?(U=!1,p[O].push(R)):y=!0);U&&p[M].push(R)}}S>0&&y===!1&&(v=p)}let b;for(let y=0,S=m.length;y<S;y++){l=m[y].s,c.push(l),b=v[y];for(let M=0,C=b.length;M<C;M++)l.holes.push(b[M].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ME}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ME);const r1e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:NI,AddEquation:Rf,AddOperation:b7,AdditiveAnimationBlendMode:WI,AdditiveBlending:IR,AlphaFormat:A7,AlwaysCompare:X7,AlwaysDepth:h7,AlwaysStencilFunc:l3,AmbientLight:Y9,AnimationAction:rH,AnimationClip:D1,AnimationLoader:iye,AnimationMixer:Oye,AnimationObjectGroup:Iye,AnimationUtils:eye,ArcCurve:b9,ArrayCamera:u9,ArrowHelper:e1e,AttachedBindMode:DR,Audio:tH,AudioAnalyser:_ye,AudioContext:gL,AudioListener:yye,AudioLoader:mye,AxesHelper:t1e,BackSide:jo,BasicDepthPacking:F7,BasicShadowMap:Y$,Bone:nL,BooleanKeyframeTrack:ap,Box2:Bye,Box3:Ys,Box3Helper:Qye,BoxGeometry:op,BoxHelper:Zye,BufferAttribute:lr,BufferGeometry:Tn,BufferGeometryLoader:eH,ByteType:C7,Cache:Jh,Camera:fx,CameraHelper:Kye,CanvasTexture:Mve,CapsuleGeometry:UE,CatmullRomCurve3:_9,CineonToneMapping:S7,CircleGeometry:zE,ClampToEdgeWrapping:Vi,Clock:vL,Color:_t,ColorKeyframeTrack:hL,ColorManagement:Qn,CompressedArrayTexture:wve,CompressedCubeTexture:Sve,CompressedTexture:DE,CompressedTextureLoader:oye,ConeGeometry:BE,ConstantAlphaFactor:u7,ConstantColorFactor:l7,CubeCamera:n9,CubeReflectionMapping:Eu,CubeRefractionMapping:Kf,CubeTexture:dx,CubeTextureLoader:aye,CubeUVReflectionMapping:m0,CubicBezierCurve:oL,CubicBezierCurve3:w9,CubicInterpolant:$9,CullFaceBack:PR,CullFaceFront:q$,CullFaceFrontBack:_de,CullFaceNone:X$,Curve:Il,CurvePath:M9,CustomBlending:K$,CustomToneMapping:M7,CylinderGeometry:y0,Cylindrical:zye,Data3DTexture:qI,DataArrayTexture:RE,DataTexture:Wf,DataTextureLoader:sye,DataUtils:Rhe,DecrementStencilOp:Ode,DecrementWrapStencilOp:Nde,DefaultLoadingManager:W9,DepthFormat:Hf,DepthStencilFormat:Kh,DepthTexture:f9,DetachedBindMode:E7,DirectionalLight:q9,DirectionalLightHelper:Yye,DiscreteInterpolant:H9,DisplayP3ColorSpace:AE,DodecahedronGeometry:$E,DoubleSide:xl,DstAlphaFactor:r7,DstColorFactor:o7,DynamicCopyUsage:Kde,DynamicDrawUsage:Wde,DynamicReadUsage:Xde,EdgesGeometry:E9,EllipseCurve:FE,EqualCompare:H7,EqualDepth:m7,EqualStencilFunc:zde,EquirectangularReflectionMapping:v1,EquirectangularRefractionMapping:y1,Euler:ux,EventDispatcher:Ou,ExtrudeGeometry:VE,FileLoader:Tu,Float16BufferAttribute:Nhe,Float32BufferAttribute:It,Float64BufferAttribute:Dhe,FloatType:Sl,Fog:OE,FogExp2:LE,FramebufferTexture:_ve,FrontSide:Mu,Frustum:PE,GLBufferAttribute:Fye,GLSL1:Qde,GLSL3:c3,GreaterCompare:W7,GreaterDepth:v7,GreaterEqualCompare:j7,GreaterEqualDepth:g7,GreaterEqualStencilFunc:Vde,GreaterStencilFunc:$de,GridHelper:Xye,Group:vg,HalfFloatType:Yh,HemisphereLight:G9,HemisphereLightHelper:jye,IcosahedronGeometry:WE,ImageBitmapLoader:pye,ImageLoader:F1,ImageUtils:XI,IncrementStencilOp:Lde,IncrementWrapStencilOp:kde,InstancedBufferAttribute:r0,InstancedBufferGeometry:J9,InstancedInterleavedBuffer:Dye,InstancedMesh:v9,Int16BufferAttribute:Ohe,Int32BufferAttribute:khe,Int8BufferAttribute:Phe,IntType:FI,InterleavedBuffer:kE,InterleavedBufferAttribute:Zh,Interpolant:yx,InterpolateDiscrete:_1,InterpolateLinear:w1,InterpolateSmooth:jw,InvertStencilOp:Dde,KeepStencilOp:ch,KeyframeTrack:Ll,LOD:m9,LatheGeometry:mx,Layers:Nh,LessCompare:$7,LessDepth:p7,LessEqualCompare:V7,LessEqualDepth:g1,LessEqualStencilFunc:Bde,LessStencilFunc:Ude,Light:dd,LightProbe:Q9,Line:Cu,Line3:$ye,LineBasicMaterial:Yo,LineCurve:aL,LineCurve3:S9,LineDashedMaterial:U9,LineLoop:y9,LineSegments:Ec,LinearDisplayP3ColorSpace:cx,LinearEncoding:GI,LinearFilter:ai,LinearInterpolant:dL,LinearMipMapLinearFilter:Cde,LinearMipMapNearestFilter:Ede,LinearMipmapLinearFilter:Zf,LinearMipmapNearestFilter:DI,LinearSRGBColorSpace:_c,LinearToneMapping:_7,LinearTransfer:M1,Loader:ba,LoaderUtils:v3,LoadingManager:pL,LoopOnce:k7,LoopPingPong:D7,LoopRepeat:N7,LuminanceAlphaFormat:P7,LuminanceFormat:R7,MOUSE:xde,Material:so,MaterialLoader:ZE,MathUtils:Y7,Matrix3:Cn,Matrix4:dn,MaxEquation:NR,Mesh:no,MeshBasicMaterial:ud,MeshDepthMaterial:QI,MeshDistanceMaterial:JI,MeshLambertMaterial:D9,MeshMatcapMaterial:F9,MeshNormalMaterial:N9,MeshPhongMaterial:O9,MeshPhysicalMaterial:L9,MeshStandardMaterial:uL,MeshToonMaterial:k9,MinEquation:kR,MirroredRepeatWrapping:b1,MixOperation:x7,MultiplyBlending:OR,MultiplyOperation:sx,NearestFilter:qr,NearestMipMapLinearFilter:Mde,NearestMipMapNearestFilter:Sde,NearestMipmapLinearFilter:Oy,NearestMipmapNearestFilter:FS,NeverCompare:B7,NeverDepth:d7,NeverStencilFunc:Fde,NoBlending:gu,NoColorSpace:Ka,NoToneMapping:pc,NormalAnimationBlendMode:TE,NormalBlending:Oh,NotEqualCompare:G7,NotEqualDepth:y7,NotEqualStencilFunc:Hde,NumberKeyframeTrack:k1,Object3D:$n,ObjectLoader:dye,ObjectSpaceNormalMap:z7,OctahedronGeometry:gx,OneFactor:e7,OneMinusConstantAlphaFactor:f7,OneMinusConstantColorFactor:c7,OneMinusDstAlphaFactor:i7,OneMinusDstColorFactor:a7,OneMinusSrcAlphaFactor:DS,OneMinusSrcColorFactor:n7,OrthographicCamera:px,P3Primaries:C1,PCFShadowMap:EE,PCFSoftShadowMap:Ly,PMREMGenerator:f3,Path:P1,PerspectiveCamera:Hi,Plane:Ef,PlaneGeometry:hx,PlaneHelper:Jye,PointLight:X9,PointLightHelper:Wye,Points:x9,PointsMaterial:rL,PolarGridHelper:qye,PolyhedronGeometry:fd,PositionalAudio:bye,PropertyBinding:Un,PropertyMixer:nH,QuadraticBezierCurve:sL,QuadraticBezierCurve3:lL,Quaternion:ya,QuaternionKeyframeTrack:x0,QuaternionLinearInterpolant:V9,RED_GREEN_RGTC2_Format:a3,RED_RGTC1_Format:O7,REVISION:ME,RGBADepthPacking:U7,RGBAFormat:Wo,RGBAIntegerFormat:VI,RGBA_ASTC_10x10_Format:e3,RGBA_ASTC_10x5_Format:ZR,RGBA_ASTC_10x6_Format:QR,RGBA_ASTC_10x8_Format:JR,RGBA_ASTC_12x10_Format:t3,RGBA_ASTC_12x12_Format:n3,RGBA_ASTC_4x4_Format:VR,RGBA_ASTC_5x4_Format:WR,RGBA_ASTC_5x5_Format:GR,RGBA_ASTC_6x5_Format:jR,RGBA_ASTC_6x6_Format:XR,RGBA_ASTC_8x5_Format:qR,RGBA_ASTC_8x6_Format:YR,RGBA_ASTC_8x8_Format:KR,RGBA_BPTC_Format:Gw,RGBA_ETC2_EAC_Format:HR,RGBA_PVRTC_2BPPV1_Format:BR,RGBA_PVRTC_4BPPV1_Format:zR,RGBA_S3TC_DXT1_Format:Hw,RGBA_S3TC_DXT3_Format:Vw,RGBA_S3TC_DXT5_Format:Ww,RGB_BPTC_SIGNED_Format:r3,RGB_BPTC_UNSIGNED_Format:i3,RGB_ETC1_Format:L7,RGB_ETC2_Format:$R,RGB_PVRTC_2BPPV1_Format:UR,RGB_PVRTC_4BPPV1_Format:FR,RGB_S3TC_DXT1_Format:$w,RGFormat:I7,RGIntegerFormat:HI,RawShaderMaterial:I9,Ray:g0,Raycaster:iH,Rec709Primaries:E1,RectAreaLight:K9,RedFormat:BI,RedIntegerFormat:$I,ReinhardToneMapping:w7,RenderTarget:Q7,RepeatWrapping:x1,ReplaceStencilOp:Ide,ReverseSubtractEquation:Q$,RingGeometry:GE,SIGNED_RED_GREEN_RGTC2_Format:s3,SIGNED_RED_RGTC1_Format:o3,SRGBColorSpace:Mi,SRGBTransfer:mr,Scene:BS,ShaderChunk:bn,ShaderLib:yl,ShaderMaterial:wc,ShadowMaterial:P9,Shape:Dh,ShapeGeometry:jE,ShapePath:n1e,ShapeUtils:mc,ShortType:T7,Skeleton:NE,SkeletonHelper:Vye,SkinnedMesh:g9,Source:Sh,Sphere:Pl,SphereGeometry:vx,Spherical:Uye,SphericalHarmonics3:Z9,SplineCurve:cL,SpotLight:j9,SpotLightHelper:Hye,Sprite:p9,SpriteMaterial:tL,SrcAlphaFactor:NS,SrcAlphaSaturateFactor:s7,SrcColorFactor:t7,StaticCopyUsage:Yde,StaticDrawUsage:T1,StaticReadUsage:jde,StereoCamera:gye,StreamCopyUsage:Zde,StreamDrawUsage:Gde,StreamReadUsage:qde,StringKeyframeTrack:sp,SubtractEquation:Z$,SubtractiveBlending:LR,TOUCH:bde,TangentSpaceNormalMap:cd,TetrahedronGeometry:XE,Texture:Kr,TextureLoader:lye,TorusGeometry:qE,TorusKnotGeometry:YE,Triangle:ua,TriangleFanDrawMode:Rde,TriangleStripDrawMode:Ade,TrianglesDrawMode:Tde,TubeGeometry:KE,TwoPassDoubleSide:wde,UVMapping:lx,Uint16BufferAttribute:YI,Uint32BufferAttribute:KI,Uint8BufferAttribute:Ihe,Uint8ClampedBufferAttribute:Lhe,Uniform:bL,UniformsGroup:Nye,UniformsLib:pt,UniformsUtils:t9,UnsignedByteType:is,UnsignedInt248Type:$f,UnsignedIntType:fu,UnsignedShort4444Type:UI,UnsignedShort5551Type:zI,UnsignedShortType:CE,VSMShadowMap:ml,Vector2:ze,Vector3:K,Vector4:Yn,VectorKeyframeTrack:N1,VideoTexture:bve,WebGL1Renderer:d9,WebGL3DRenderTarget:vhe,WebGLArrayRenderTarget:ghe,WebGLCoordinateSystem:ac,WebGLCubeRenderTarget:r9,WebGLMultipleRenderTargets:yhe,WebGLRenderTarget:Rl,WebGLRenderer:eL,WebGLUtils:c9,WebGPUCoordinateSystem:A1,WireframeGeometry:R9,WrapAroundEnding:S1,ZeroCurvatureEnding:_h,ZeroFactor:J$,ZeroSlopeEnding:wh,ZeroStencilOp:Pde,_SRGBAFormat:US,createCanvasElement:Z7,sRGBEncoding:Vf},Symbol.toStringTag,{value:"Module"}));var aH={exports:{}},lp={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */lp.ConcurrentRoot=1;lp.ContinuousEventPriority=4;lp.DefaultEventPriority=16;lp.DiscreteEventPriority=1;lp.IdleEventPriority=536870912;lp.LegacyRoot=0;aH.exports=lp;var xg=aH.exports;function i1e(t){let e;const n=new Set,r=(c,f)=>{const p=typeof c=="function"?c(e):c;if(p!==e){const m=e;e=f?p:Object.assign({},e,p),n.forEach(v=>v(e,m))}},i=()=>e,o=(c,f=i,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=f(e);function v(){const x=f(e);if(!p(m,x)){const _=m;c(m=x,_)}}return n.add(v),()=>n.delete(v)},l={setState:r,getState:i,subscribe:(c,f,p)=>f||p?o(c,f,p):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const o1e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),GD=o1e?F.useEffect:F.useLayoutEffect;function a1e(t){const e=typeof t=="function"?i1e(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=F.useReducer(b=>b+1,0),a=e.getState(),s=F.useRef(a),l=F.useRef(r),c=F.useRef(i),f=F.useRef(!1),p=F.useRef();p.current===void 0&&(p.current=r(a));let m,v=!1;(s.current!==a||l.current!==r||c.current!==i||f.current)&&(m=r(a),v=!i(p.current,m)),GD(()=>{v&&(p.current=m),s.current=a,l.current=r,c.current=i,f.current=!1});const x=F.useRef(a);GD(()=>{const b=()=>{try{const S=e.getState(),M=l.current(S);c.current(p.current,M)||(s.current=S,p.current=M,o())}catch{f.current=!0,o()}},y=e.subscribe(b);return e.getState()!==x.current&&b(),y},[]);const _=v?m:p.current;return F.useDebugValue(_),_};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var sH={exports:{}},lH={exports:{}},cH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,q){var te=H.length;H.push(q);e:for(;0<te;){var Q=te-1>>>1,ae=H[Q];if(0<i(ae,q))H[Q]=q,H[te]=ae,te=Q;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var q=H[0],te=H.pop();if(te!==q){H[0]=te;e:for(var Q=0,ae=H.length,xe=ae>>>1;Q<xe;){var we=2*(Q+1)-1,Te=H[we],Ve=we+1,Ye=H[Ve];if(0>i(Te,te))Ve<ae&&0>i(Ye,Te)?(H[Q]=Ye,H[Ve]=te,Q=Ve):(H[Q]=Te,H[we]=te,Q=we);else if(Ve<ae&&0>i(Ye,te))H[Q]=Ye,H[Ve]=te,Q=Ve;else break e}}return q}function i(H,q){var te=H.sortIndex-q.sortIndex;return te!==0?te:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],f=1,p=null,m=3,v=!1,x=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(H){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=H)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function C(H){if(_=!1,M(H),!x)if(n(l)!==null)x=!0,ie(P);else{var q=n(c);q!==null&&se(C,q.startTime-H)}}function P(H,q){x=!1,_&&(_=!1,y(U),U=-1),v=!0;var te=m;try{for(M(q),p=n(l);p!==null&&(!(p.expirationTime>q)||H&&!B());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,m=p.priorityLevel;var ae=Q(p.expirationTime<=q);q=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(l)&&r(l),M(q)}else r(l);p=n(l)}if(p!==null)var xe=!0;else{var we=n(c);we!==null&&se(C,we.startTime-q),xe=!1}return xe}finally{p=null,m=te,v=!1}}var A=!1,R=null,U=-1,O=5,N=-1;function B(){return!(t.unstable_now()-N<O)}function Y(){if(R!==null){var H=t.unstable_now();N=H;var q=!0;try{q=R(!0,H)}finally{q?J():(A=!1,R=null)}}else A=!1}var J;if(typeof S=="function")J=function(){S(Y)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ne=G.port2;G.port1.onmessage=Y,J=function(){ne.postMessage(null)}}else J=function(){b(Y,0)};function ie(H){R=H,A||(A=!0,J())}function se(H,q){U=b(function(){H(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,ie(P))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var te=m;m=q;try{return H()}finally{m=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=m;m=H;try{return q()}finally{m=te}},t.unstable_scheduleCallback=function(H,q,te){var Q=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Q+te:Q):te=Q,H){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=te+ae,H={id:f++,callback:q,priorityLevel:H,startTime:te,expirationTime:ae,sortIndex:-1},te>Q?(H.sortIndex=te,e(c,H),n(l)===null&&H===n(c)&&(_?(y(U),U=-1):_=!0,se(C,te-Q))):(H.sortIndex=ae,e(l,H),x||v||(x=!0,ie(P))),H},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(H){var q=m;return function(){var te=m;m=q;try{return H.apply(this,arguments)}finally{m=te}}}})(cH);lH.exports=cH;var x3=lH.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1e=function(e){var n={},r=F,i=x3,o=Object.assign;function a(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)h+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),P=Symbol.iterator;function A(d){return d===null||typeof d!="object"?null:(d=P&&d[P]||d["@@iterator"],typeof d=="function"?d:null)}function R(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case f:return"Fragment";case c:return"Portal";case m:return"Profiler";case p:return"StrictMode";case b:return"Suspense";case y:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case x:return(d.displayName||"Context")+".Consumer";case v:return(d._context.displayName||"Context")+".Provider";case _:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case S:return h=d.displayName||null,h!==null?h:R(d.type)||"Memo";case M:h=d._payload,d=d._init;try{return R(d(h))}catch{}}return null}function U(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(h);case 8:return h===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function O(d){var h=d,w=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(w=h.return),d=h.return;while(d)}return h.tag===3?w:null}function N(d){if(O(d)!==d)throw Error(a(188))}function B(d){var h=d.alternate;if(!h){if(h=O(d),h===null)throw Error(a(188));return h!==d?null:d}for(var w=d,T=h;;){var I=w.return;if(I===null)break;var D=I.alternate;if(D===null){if(T=I.return,T!==null){w=T;continue}break}if(I.child===D.child){for(D=I.child;D;){if(D===w)return N(I),d;if(D===T)return N(I),h;D=D.sibling}throw Error(a(188))}if(w.return!==T.return)w=I,T=D;else{for(var re=!1,he=I.child;he;){if(he===w){re=!0,w=I,T=D;break}if(he===T){re=!0,T=I,w=D;break}he=he.sibling}if(!re){for(he=D.child;he;){if(he===w){re=!0,w=D,T=I;break}if(he===T){re=!0,T=D,w=I;break}he=he.sibling}if(!re)throw Error(a(189))}}if(w.alternate!==T)throw Error(a(190))}if(w.tag!==3)throw Error(a(188));return w.stateNode.current===w?d:h}function Y(d){return d=B(d),d!==null?J(d):null}function J(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=J(d);if(h!==null)return h;d=d.sibling}return null}function G(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=G(d);if(h!==null)return h}d=d.sibling}return null}var ne=Array.isArray,ie=e.getPublicInstance,se=e.getRootHostContext,H=e.getChildHostContext,q=e.prepareForCommit,te=e.resetAfterCommit,Q=e.createInstance,ae=e.appendInitialChild,xe=e.finalizeInitialChildren,we=e.prepareUpdate,Te=e.shouldSetTextContent,Ve=e.createTextInstance,Ye=e.scheduleTimeout,et=e.cancelTimeout,ct=e.noTimeout,Lt=e.isPrimaryRenderer,$e=e.supportsMutation,oe=e.supportsPersistence,Ae=e.supportsHydration,ge=e.getInstanceFromNode,ve=e.preparePortalMount,Ue=e.getCurrentEventPriority,We=e.detachDeletedInstance,Je=e.supportsMicrotasks,ot=e.scheduleMicrotask,ft=e.supportsTestSelectors,lt=e.findFiberRoot,Ht=e.getBoundingRect,ee=e.getTextContent,$=e.isHiddenSubtree,ye=e.matchAccessibilityRole,Ge=e.setFocusIfFocusable,Le=e.setupIntersectionObserver,Me=e.appendChild,De=e.appendChildToContainer,je=e.commitTextUpdate,at=e.commitMount,At=e.commitUpdate,Ze=e.insertBefore,Oe=e.insertInContainerBefore,Ut=e.removeChild,Et=e.removeChildFromContainer,Nt=e.resetTextContent,Ct=e.hideInstance,dt=e.hideTextInstance,Qt=e.unhideInstance,de=e.unhideTextInstance,ut=e.clearContainer,rt=e.cloneInstance,Ne=e.createContainerChildSet,it=e.appendChildToContainerChildSet,zt=e.finalizeContainerChildren,yn=e.replaceContainerChildren,Zn=e.cloneHiddenInstance,Ar=e.cloneHiddenTextInstance,nn=e.canHydrateInstance,Sn=e.canHydrateTextInstance,ur=e.canHydrateSuspenseInstance,ds=e.isSuspenseInstancePending,hs=e.isSuspenseInstanceFallback,Ks=e.registerSuspenseInstanceRetry,Ko=e.getNextHydratableSibling,Sa=e.getFirstHydratableChild,Zo=e.getFirstHydratableChildWithinContainer,Ma=e.getFirstHydratableChildWithinSuspenseInstance,Fe=e.hydrateInstance,Ie=e.hydrateTextInstance,Ke=e.hydrateSuspenseInstance,V=e.getNextHydratableInstanceAfterSuspenseInstance,fe=e.commitHydratedContainer,be=e.commitHydratedSuspenseInstance,Se=e.clearSuspenseBoundary,Ee=e.clearSuspenseBoundaryFromContainer,yt=e.shouldDeleteUnhydratedTailInstances,Tt=e.didNotMatchHydratedContainerTextInstance,Gt=e.didNotMatchHydratedTextInstance,Bt;function rn(d){if(Bt===void 0)try{throw Error()}catch(w){var h=w.stack.trim().match(/\n( *(at )?)/);Bt=h&&h[1]||""}return`
`+Bt+d}var en=!1;function on(d,h){if(!d||en)return"";en=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(tt){var T=tt}Reflect.construct(d,[],h)}else{try{h.call()}catch(tt){T=tt}d.call(h.prototype)}else{try{throw Error()}catch(tt){T=tt}d()}}catch(tt){if(tt&&T&&typeof tt.stack=="string"){for(var I=tt.stack.split(`
`),D=T.stack.split(`
`),re=I.length-1,he=D.length-1;1<=re&&0<=he&&I[re]!==D[he];)he--;for(;1<=re&&0<=he;re--,he--)if(I[re]!==D[he]){if(re!==1||he!==1)do if(re--,he--,0>he||I[re]!==D[he]){var Pe=`
`+I[re].replace(" at new "," at ");return d.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",d.displayName)),Pe}while(1<=re&&0<=he);break}}}finally{en=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?rn(d):""}var fr=Object.prototype.hasOwnProperty,si=[],tr=-1;function li(d){return{current:d}}function Xt(d){0>tr||(d.current=si[tr],si[tr]=null,tr--)}function Mt(d,h){tr++,si[tr]=d.current,d.current=h}var Qo={},Mn=li(Qo),vr=li(!1),Ea=Qo;function co(d,h){var w=d.type.contextTypes;if(!w)return Qo;var T=d.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===h)return T.__reactInternalMemoizedMaskedChildContext;var I={},D;for(D in w)I[D]=h[D];return T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=I),I}function ci(d){return d=d.childContextTypes,d!=null}function Rr(){Xt(vr),Xt(Mn)}function To(d,h,w){if(Mn.current!==Qo)throw Error(a(168));Mt(Mn,h),Mt(vr,w)}function Ac(d,h,w){var T=d.stateNode;if(h=h.childContextTypes,typeof T.getChildContext!="function")return w;T=T.getChildContext();for(var I in T)if(!(I in h))throw Error(a(108,U(d)||"Unknown",I));return o({},w,T)}function ui(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Qo,Ea=Mn.current,Mt(Mn,d),Mt(vr,vr.current),!0}function Rc(d,h,w){var T=d.stateNode;if(!T)throw Error(a(169));w?(d=Ac(d,h,Ea),T.__reactInternalMemoizedMergedChildContext=d,Xt(vr),Xt(Mn),Mt(Mn,d)):Xt(vr),Mt(vr,w)}var uo=Math.clz32?Math.clz32:kx,Fu=Math.log,A2=Math.LN2;function kx(d){return d>>>=0,d===0?32:31-(Fu(d)/A2|0)|0}var Uu=64,zu=4194304;function ps(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function gd(d,h){var w=d.pendingLanes;if(w===0)return 0;var T=0,I=d.suspendedLanes,D=d.pingedLanes,re=w&268435455;if(re!==0){var he=re&~I;he!==0?T=ps(he):(D&=re,D!==0&&(T=ps(D)))}else re=w&~I,re!==0?T=ps(re):D!==0&&(T=ps(D));if(T===0)return 0;if(h!==0&&h!==T&&!(h&I)&&(I=T&-T,D=h&-h,I>=D||I===16&&(D&4194240)!==0))return h;if(T&4&&(T|=w&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=T;0<h;)w=31-uo(h),I=1<<w,T|=d[w],h&=~I;return T}function Nx(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R2(d,h){for(var w=d.suspendedLanes,T=d.pingedLanes,I=d.expirationTimes,D=d.pendingLanes;0<D;){var re=31-uo(D),he=1<<re,Pe=I[re];Pe===-1?(!(he&w)||he&T)&&(I[re]=Nx(he,h)):Pe<=h&&(d.expiredLanes|=he),D&=~he}}function yp(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function xp(d){for(var h=[],w=0;31>w;w++)h.push(d);return h}function Bu(d,h,w){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-uo(h),d[h]=w}function Dx(d,h){var w=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var T=d.eventTimes;for(d=d.expirationTimes;0<w;){var I=31-uo(w),D=1<<I;h[I]=0,T[I]=-1,d[I]=-1,w&=~D}}function L0(d,h){var w=d.entangledLanes|=h;for(d=d.entanglements;w;){var T=31-uo(w),I=1<<T;I&h|d[T]&h&&(d[T]|=h),w&=~I}}var Dn=0;function Fx(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var bp=i.unstable_scheduleCallback,Ux=i.unstable_cancelCallback,P2=i.unstable_shouldYield,I2=i.unstable_requestPaint,fi=i.unstable_now,vd=i.unstable_ImmediatePriority,L2=i.unstable_UserBlockingPriority,O0=i.unstable_NormalPriority,O2=i.unstable_IdlePriority,_p=null,ms=null;function ir(d){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(_p,d,void 0,(d.current.flags&128)===128)}catch{}}function nr(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var gs=typeof Object.is=="function"?Object.is:nr,Zs=null,wp=!1,k0=!1;function zx(d){Zs===null?Zs=[d]:Zs.push(d)}function k2(d){wp=!0,zx(d)}function Ca(){if(!k0&&Zs!==null){k0=!0;var d=0,h=Dn;try{var w=Zs;for(Dn=1;d<w.length;d++){var T=w[d];do T=T(!0);while(T!==null)}Zs=null,wp=!1}catch(I){throw Zs!==null&&(Zs=Zs.slice(d+1)),bp(vd,Ca),I}finally{Dn=h,k0=!1}}return null}var N2=s.ReactCurrentBatchConfig;function zr(d,h){if(gs(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var w=Object.keys(d),T=Object.keys(h);if(w.length!==T.length)return!1;for(T=0;T<w.length;T++){var I=w[T];if(!fr.call(h,I)||!gs(d[I],h[I]))return!1}return!0}function N0(d){switch(d.tag){case 5:return rn(d.type);case 16:return rn("Lazy");case 13:return rn("Suspense");case 19:return rn("SuspenseList");case 0:case 2:case 15:return d=on(d.type,!1),d;case 11:return d=on(d.type.render,!1),d;case 1:return d=on(d.type,!0),d;default:return""}}function yi(d,h){if(d&&d.defaultProps){h=o({},h),d=d.defaultProps;for(var w in d)h[w]===void 0&&(h[w]=d[w]);return h}return h}var yd=li(null),$u=null,xi=null,Sp=null;function Mp(){Sp=xi=$u=null}function D0(d,h,w){Lt?(Mt(yd,h._currentValue),h._currentValue=w):(Mt(yd,h._currentValue2),h._currentValue2=w)}function Ep(d){var h=yd.current;Xt(yd),Lt?d._currentValue=h:d._currentValue2=h}function Cp(d,h,w){for(;d!==null;){var T=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,T!==null&&(T.childLanes|=h)):T!==null&&(T.childLanes&h)!==h&&(T.childLanes|=h),d===w)break;d=d.return}}function Pc(d,h){$u=d,Sp=xi=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(Ro=!0),d.firstContext=null)}function dr(d){var h=Lt?d._currentValue:d._currentValue2;if(Sp!==d)if(d={context:d,memoizedValue:h,next:null},xi===null){if($u===null)throw Error(a(308));xi=d,$u.dependencies={lanes:0,firstContext:d}}else xi=xi.next=d;return h}var vs=null,Zr=!1;function F0(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U0(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ai(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function Ta(d,h){var w=d.updateQueue;w!==null&&(w=w.shared,Br!==null&&d.mode&1&&!(mn&2)?(d=w.interleaved,d===null?(h.next=h,vs===null?vs=[w]:vs.push(w)):(h.next=d.next,d.next=h),w.interleaved=h):(d=w.pending,d===null?h.next=h:(h.next=d.next,d.next=h),w.pending=h))}function Hu(d,h,w){if(h=h.updateQueue,h!==null&&(h=h.shared,(w&4194240)!==0)){var T=h.lanes;T&=d.pendingLanes,w|=T,h.lanes=w,L0(d,w)}}function or(d,h){var w=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,w===T)){var I=null,D=null;if(w=w.firstBaseUpdate,w!==null){do{var re={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};D===null?I=D=re:D=D.next=re,w=w.next}while(w!==null);D===null?I=D=h:D=D.next=h}else I=D=h;w={baseState:T.baseState,firstBaseUpdate:I,lastBaseUpdate:D,shared:T.shared,effects:T.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=h:d.next=h,w.lastBaseUpdate=h}function Aa(d,h,w,T){var I=d.updateQueue;Zr=!1;var D=I.firstBaseUpdate,re=I.lastBaseUpdate,he=I.shared.pending;if(he!==null){I.shared.pending=null;var Pe=he,tt=Pe.next;Pe.next=null,re===null?D=tt:re.next=tt,re=Pe;var wt=d.alternate;wt!==null&&(wt=wt.updateQueue,he=wt.lastBaseUpdate,he!==re&&(he===null?wt.firstBaseUpdate=tt:he.next=tt,wt.lastBaseUpdate=Pe))}if(D!==null){var sn=I.baseState;re=0,wt=tt=Pe=null,he=D;do{var Ft=he.lane,jn=he.eventTime;if((T&Ft)===Ft){wt!==null&&(wt=wt.next={eventTime:jn,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var Rt=d,Di=he;switch(Ft=h,jn=w,Di.tag){case 1:if(Rt=Di.payload,typeof Rt=="function"){sn=Rt.call(jn,sn,Ft);break e}sn=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Di.payload,Ft=typeof Rt=="function"?Rt.call(jn,sn,Ft):Rt,Ft==null)break e;sn=o({},sn,Ft);break e;case 2:Zr=!0}}he.callback!==null&&he.lane!==0&&(d.flags|=64,Ft=I.effects,Ft===null?I.effects=[he]:Ft.push(he))}else jn={eventTime:jn,lane:Ft,tag:he.tag,payload:he.payload,callback:he.callback,next:null},wt===null?(tt=wt=jn,Pe=sn):wt=wt.next=jn,re|=Ft;if(he=he.next,he===null){if(he=I.shared.pending,he===null)break;Ft=he,he=Ft.next,Ft.next=null,I.lastBaseUpdate=Ft,I.shared.pending=null}}while(1);if(wt===null&&(Pe=sn),I.baseState=Pe,I.firstBaseUpdate=tt,I.lastBaseUpdate=wt,h=I.shared.interleaved,h!==null){I=h;do re|=I.lane,I=I.next;while(I!==h)}else D===null&&(I.shared.lanes=0);uf|=re,d.lanes=re,d.memoizedState=sn}}function Tp(d,h,w){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var T=d[h],I=T.callback;if(I!==null){if(T.callback=null,T=w,typeof I!="function")throw Error(a(191,I));I.call(T)}}}var Bx=new r.Component().refs;function xd(d,h,w,T){h=d.memoizedState,w=w(T,h),w=w==null?h:o({},h,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var Ap={isMounted:function(d){return(d=d._reactInternals)?O(d)===d:!1},enqueueSetState:function(d,h,w){d=d._reactInternals;var T=Li(),I=Ms(d),D=Ai(T,I);D.payload=h,w!=null&&(D.callback=w),Ta(d,D),h=ea(d,I,T),h!==null&&Hu(h,d,I)},enqueueReplaceState:function(d,h,w){d=d._reactInternals;var T=Li(),I=Ms(d),D=Ai(T,I);D.tag=1,D.payload=h,w!=null&&(D.callback=w),Ta(d,D),h=ea(d,I,T),h!==null&&Hu(h,d,I)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var w=Li(),T=Ms(d),I=Ai(w,T);I.tag=2,h!=null&&(I.callback=h),Ta(d,I),h=ea(d,T,w),h!==null&&Hu(h,d,T)}};function $x(d,h,w,T,I,D,re){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,D,re):h.prototype&&h.prototype.isPureReactComponent?!zr(w,T)||!zr(I,D):!0}function Hx(d,h,w){var T=!1,I=Qo,D=h.contextType;return typeof D=="object"&&D!==null?D=dr(D):(I=ci(h)?Ea:Mn.current,T=h.contextTypes,D=(T=T!=null)?co(d,I):Qo),h=new h(w,D),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ap,d.stateNode=h,h._reactInternals=d,T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=I,d.__reactInternalMemoizedMaskedChildContext=D),h}function z0(d,h,w,T){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(w,T),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(w,T),h.state!==d&&Ap.enqueueReplaceState(h,h.state,null)}function Vu(d,h,w,T){var I=d.stateNode;I.props=w,I.state=d.memoizedState,I.refs=Bx,F0(d);var D=h.contextType;typeof D=="object"&&D!==null?I.context=dr(D):(D=ci(h)?Ea:Mn.current,I.context=co(d,D)),I.state=d.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(xd(d,h,D,w),I.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(h=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),h!==I.state&&Ap.enqueueReplaceState(I,I.state,null),Aa(d,w,I,T),I.state=d.memoizedState),typeof I.componentDidMount=="function"&&(d.flags|=4194308)}var Ra=[],Wu=0,bd=null,_d=0,fo=[],ho=0,Nl=null,Qs=1,Pa="";function Js(d,h){Ra[Wu++]=_d,Ra[Wu++]=bd,bd=d,_d=h}function Vx(d,h,w){fo[ho++]=Qs,fo[ho++]=Pa,fo[ho++]=Nl,Nl=d;var T=Qs;d=Pa;var I=32-uo(T)-1;T&=~(1<<I),w+=1;var D=32-uo(h)+I;if(30<D){var re=I-I%5;D=(T&(1<<re)-1).toString(32),T>>=re,I-=re,Qs=1<<32-uo(h)+I|w<<I|T,Pa=D+d}else Qs=1<<D|w<<I|T,Pa=d}function Rp(d){d.return!==null&&(Js(d,1),Vx(d,1,0))}function Yi(d){for(;d===bd;)bd=Ra[--Wu],Ra[Wu]=null,_d=Ra[--Wu],Ra[Wu]=null;for(;d===Nl;)Nl=fo[--ho],fo[ho]=null,Pa=fo[--ho],fo[ho]=null,Qs=fo[--ho],fo[ho]=null}var Ki=null,bi=null,ar=!1,Gu=!1,Ia=null;function Wx(d,h){var w=ta(5,null,null,0);w.elementType="DELETED",w.stateNode=h,w.return=d,h=d.deletions,h===null?(d.deletions=[w],d.flags|=16):h.push(w)}function Gx(d,h){switch(d.tag){case 5:return h=nn(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,Ki=d,bi=Sa(h),!0):!1;case 6:return h=Sn(h,d.pendingProps),h!==null?(d.stateNode=h,Ki=d,bi=null,!0):!1;case 13:if(h=ur(h),h!==null){var w=Nl!==null?{id:Qs,overflow:Pa}:null;return d.memoizedState={dehydrated:h,treeContext:w,retryLane:1073741824},w=ta(18,null,null,0),w.stateNode=h,w.return=d,d.child=w,Ki=d,bi=null,!0}return!1;default:return!1}}function B0(d){return(d.mode&1)!==0&&(d.flags&128)===0}function $0(d){if(ar){var h=bi;if(h){var w=h;if(!Gx(d,h)){if(B0(d))throw Error(a(418));h=Ko(w);var T=Ki;h&&Gx(d,h)?Wx(T,w):(d.flags=d.flags&-4097|2,ar=!1,Ki=d)}}else{if(B0(d))throw Error(a(418));d.flags=d.flags&-4097|2,ar=!1,Ki=d}}}function Ic(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ki=d}function wd(d){if(!Ae||d!==Ki)return!1;if(!ar)return Ic(d),ar=!0,!1;if(d.tag!==3&&(d.tag!==5||yt(d.type)&&!Te(d.type,d.memoizedProps))){var h=bi;if(h){if(B0(d)){for(d=bi;d;)d=Ko(d);throw Error(a(418))}for(;h;)Wx(d,h),h=Ko(h)}}if(Ic(d),d.tag===13){if(!Ae)throw Error(a(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));bi=V(d)}else bi=Ki?Ko(d.stateNode):null;return!0}function ju(){Ae&&(bi=Ki=null,Gu=ar=!1)}function Sd(d){Ia===null?Ia=[d]:Ia.push(d)}function Xu(d,h,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(a(309));var T=w.stateNode}if(!T)throw Error(a(147,d));var I=T,D=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===D?h.ref:(h=function(re){var he=I.refs;he===Bx&&(he=I.refs={}),re===null?delete he[D]:he[D]=re},h._stringRef=D,h)}if(typeof d!="string")throw Error(a(284));if(!w._owner)throw Error(a(290,d))}return d}function La(d,h){throw d=Object.prototype.toString.call(h),Error(a(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function Md(d){var h=d._init;return h(d._payload)}function jx(d){function h(_e,pe){if(d){var Re=_e.deletions;Re===null?(_e.deletions=[pe],_e.flags|=16):Re.push(pe)}}function w(_e,pe){if(!d)return null;for(;pe!==null;)h(_e,pe),pe=pe.sibling;return null}function T(_e,pe){for(_e=new Map;pe!==null;)pe.key!==null?_e.set(pe.key,pe):_e.set(pe.index,pe),pe=pe.sibling;return _e}function I(_e,pe){return _e=il(_e,pe),_e.index=0,_e.sibling=null,_e}function D(_e,pe,Re){return _e.index=Re,d?(Re=_e.alternate,Re!==null?(Re=Re.index,Re<pe?(_e.flags|=2,pe):Re):(_e.flags|=2,pe)):(_e.flags|=1048576,pe)}function re(_e){return d&&_e.alternate===null&&(_e.flags|=2),_e}function he(_e,pe,Re,xt){return pe===null||pe.tag!==6?(pe=Ni(Re,_e.mode,xt),pe.return=_e,pe):(pe=I(pe,Re),pe.return=_e,pe)}function Pe(_e,pe,Re,xt){var Pt=Re.type;return Pt===f?wt(_e,pe,Re.props.children,xt,Re.key):pe!==null&&(pe.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===M&&Md(Pt)===pe.type)?(xt=I(pe,Re.props),xt.ref=Xu(_e,pe,Re),xt.return=_e,xt):(xt=Yp(Re.type,Re.key,Re.props,null,_e.mode,xt),xt.ref=Xu(_e,pe,Re),xt.return=_e,xt)}function tt(_e,pe,Re,xt){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Re.containerInfo||pe.stateNode.implementation!==Re.implementation?(pe=na(Re,_e.mode,xt),pe.return=_e,pe):(pe=I(pe,Re.children||[]),pe.return=_e,pe)}function wt(_e,pe,Re,xt,Pt){return pe===null||pe.tag!==7?(pe=Yl(Re,_e.mode,xt,Pt),pe.return=_e,pe):(pe=I(pe,Re),pe.return=_e,pe)}function sn(_e,pe,Re){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=Ni(""+pe,_e.mode,Re),pe.return=_e,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return Re=Yp(pe.type,pe.key,pe.props,null,_e.mode,Re),Re.ref=Xu(_e,null,pe),Re.return=_e,Re;case c:return pe=na(pe,_e.mode,Re),pe.return=_e,pe;case M:var xt=pe._init;return sn(_e,xt(pe._payload),Re)}if(ne(pe)||A(pe))return pe=Yl(pe,_e.mode,Re,null),pe.return=_e,pe;La(_e,pe)}return null}function Ft(_e,pe,Re,xt){var Pt=pe!==null?pe.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Pt!==null?null:he(_e,pe,""+Re,xt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case l:return Re.key===Pt?Pe(_e,pe,Re,xt):null;case c:return Re.key===Pt?tt(_e,pe,Re,xt):null;case M:return Pt=Re._init,Ft(_e,pe,Pt(Re._payload),xt)}if(ne(Re)||A(Re))return Pt!==null?null:wt(_e,pe,Re,xt,null);La(_e,Re)}return null}function jn(_e,pe,Re,xt,Pt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return _e=_e.get(Re)||null,he(pe,_e,""+xt,Pt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case l:return _e=_e.get(xt.key===null?Re:xt.key)||null,Pe(pe,_e,xt,Pt);case c:return _e=_e.get(xt.key===null?Re:xt.key)||null,tt(pe,_e,xt,Pt);case M:var gn=xt._init;return jn(_e,pe,Re,gn(xt._payload),Pt)}if(ne(xt)||A(xt))return _e=_e.get(Re)||null,wt(pe,_e,xt,Pt,null);La(pe,xt)}return null}function Rt(_e,pe,Re,xt){for(var Pt=null,gn=null,un=pe,vn=pe=0,Hr=null;un!==null&&vn<Re.length;vn++){un.index>vn?(Hr=un,un=null):Hr=un.sibling;var In=Ft(_e,un,Re[vn],xt);if(In===null){un===null&&(un=Hr);break}d&&un&&In.alternate===null&&h(_e,un),pe=D(In,pe,vn),gn===null?Pt=In:gn.sibling=In,gn=In,un=Hr}if(vn===Re.length)return w(_e,un),ar&&Js(_e,vn),Pt;if(un===null){for(;vn<Re.length;vn++)un=sn(_e,Re[vn],xt),un!==null&&(pe=D(un,pe,vn),gn===null?Pt=un:gn.sibling=un,gn=un);return ar&&Js(_e,vn),Pt}for(un=T(_e,un);vn<Re.length;vn++)Hr=jn(un,_e,vn,Re[vn],xt),Hr!==null&&(d&&Hr.alternate!==null&&un.delete(Hr.key===null?vn:Hr.key),pe=D(Hr,pe,vn),gn===null?Pt=Hr:gn.sibling=Hr,gn=Hr);return d&&un.forEach(function(Cs){return h(_e,Cs)}),ar&&Js(_e,vn),Pt}function Di(_e,pe,Re,xt){var Pt=A(Re);if(typeof Pt!="function")throw Error(a(150));if(Re=Pt.call(Re),Re==null)throw Error(a(151));for(var gn=Pt=null,un=pe,vn=pe=0,Hr=null,In=Re.next();un!==null&&!In.done;vn++,In=Re.next()){un.index>vn?(Hr=un,un=null):Hr=un.sibling;var Cs=Ft(_e,un,In.value,xt);if(Cs===null){un===null&&(un=Hr);break}d&&un&&Cs.alternate===null&&h(_e,un),pe=D(Cs,pe,vn),gn===null?Pt=Cs:gn.sibling=Cs,gn=Cs,un=Hr}if(In.done)return w(_e,un),ar&&Js(_e,vn),Pt;if(un===null){for(;!In.done;vn++,In=Re.next())In=sn(_e,In.value,xt),In!==null&&(pe=D(In,pe,vn),gn===null?Pt=In:gn.sibling=In,gn=In);return ar&&Js(_e,vn),Pt}for(un=T(_e,un);!In.done;vn++,In=Re.next())In=jn(un,_e,vn,In.value,xt),In!==null&&(d&&In.alternate!==null&&un.delete(In.key===null?vn:In.key),pe=D(In,pe,vn),gn===null?Pt=In:gn.sibling=In,gn=In);return d&&un.forEach(function(Zp){return h(_e,Zp)}),ar&&Js(_e,vn),Pt}function ko(_e,pe,Re,xt){if(typeof Re=="object"&&Re!==null&&Re.type===f&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case l:e:{for(var Pt=Re.key,gn=pe;gn!==null;){if(gn.key===Pt){if(Pt=Re.type,Pt===f){if(gn.tag===7){w(_e,gn.sibling),pe=I(gn,Re.props.children),pe.return=_e,_e=pe;break e}}else if(gn.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===M&&Md(Pt)===gn.type){w(_e,gn.sibling),pe=I(gn,Re.props),pe.ref=Xu(_e,gn,Re),pe.return=_e,_e=pe;break e}w(_e,gn);break}else h(_e,gn);gn=gn.sibling}Re.type===f?(pe=Yl(Re.props.children,_e.mode,xt,Re.key),pe.return=_e,_e=pe):(xt=Yp(Re.type,Re.key,Re.props,null,_e.mode,xt),xt.ref=Xu(_e,pe,Re),xt.return=_e,_e=xt)}return re(_e);case c:e:{for(gn=Re.key;pe!==null;){if(pe.key===gn)if(pe.tag===4&&pe.stateNode.containerInfo===Re.containerInfo&&pe.stateNode.implementation===Re.implementation){w(_e,pe.sibling),pe=I(pe,Re.children||[]),pe.return=_e,_e=pe;break e}else{w(_e,pe);break}else h(_e,pe);pe=pe.sibling}pe=na(Re,_e.mode,xt),pe.return=_e,_e=pe}return re(_e);case M:return gn=Re._init,ko(_e,pe,gn(Re._payload),xt)}if(ne(Re))return Rt(_e,pe,Re,xt);if(A(Re))return Di(_e,pe,Re,xt);La(_e,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,pe!==null&&pe.tag===6?(w(_e,pe.sibling),pe=I(pe,Re),pe.return=_e,_e=pe):(w(_e,pe),pe=Ni(Re,_e.mode,xt),pe.return=_e,_e=pe),re(_e)):w(_e,pe)}return ko}var qu=jx(!0),Xx=jx(!1),ys={},wr=li(ys),Yu=li(ys),Ku=li(ys);function xs(d){if(d===ys)throw Error(a(174));return d}function H0(d,h){Mt(Ku,h),Mt(Yu,d),Mt(wr,ys),d=se(h),Xt(wr),Mt(wr,d)}function Zu(){Xt(wr),Xt(Yu),Xt(Ku)}function qx(d){var h=xs(Ku.current),w=xs(wr.current);h=H(w,d.type,h),w!==h&&(Mt(Yu,d),Mt(wr,h))}function Dl(d){Yu.current===d&&(Xt(wr),Xt(Yu))}var ue=li(0);function ke(d){for(var h=d;h!==null;){if(h.tag===13){var w=h.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||ds(w)||hs(w)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Ce=[];function bt(){for(var d=0;d<Ce.length;d++){var h=Ce[d];Lt?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Ce.length=0}var Jt=s.ReactCurrentDispatcher,fn=s.ReactCurrentBatchConfig,hr=0,qt=null,di=null,hi=null,Zi=!1,Fl=!1,Ed=0,Qu=0;function Qr(){throw Error(a(321))}function Ju(d,h){if(h===null)return!1;for(var w=0;w<h.length&&w<d.length;w++)if(!gs(d[w],h[w]))return!1;return!0}function Fn(d,h,w,T,I,D){if(hr=D,qt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Jt.current=d===null||d.memoizedState===null?Od:Y0,d=w(T,I),Fl){D=0;do{if(Fl=!1,Ed=0,25<=D)throw Error(a(301));D+=1,hi=di=null,h.updateQueue=null,Jt.current=nf,d=w(T,I)}while(Fl)}if(Jt.current=tf,h=di!==null&&di.next!==null,hr=0,hi=di=qt=null,Zi=!1,h)throw Error(a(300));return d}function V0(){var d=Ed!==0;return Ed=0,d}function bs(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?qt.memoizedState=hi=d:hi=hi.next=d,hi}function Ao(){if(di===null){var d=qt.alternate;d=d!==null?d.memoizedState:null}else d=di.next;var h=hi===null?qt.memoizedState:hi.next;if(h!==null)hi=h,di=d;else{if(d===null)throw Error(a(310));di=d,d={memoizedState:di.memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},hi===null?qt.memoizedState=hi=d:hi=hi.next=d}return hi}function Lc(d,h){return typeof h=="function"?h(d):h}function Pp(d){var h=Ao(),w=h.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=d;var T=di,I=T.baseQueue,D=w.pending;if(D!==null){if(I!==null){var re=I.next;I.next=D.next,D.next=re}T.baseQueue=I=D,w.pending=null}if(I!==null){D=I.next,T=T.baseState;var he=re=null,Pe=null,tt=D;do{var wt=tt.lane;if((hr&wt)===wt)Pe!==null&&(Pe=Pe.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),T=tt.hasEagerState?tt.eagerState:d(T,tt.action);else{var sn={lane:wt,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};Pe===null?(he=Pe=sn,re=T):Pe=Pe.next=sn,qt.lanes|=wt,uf|=wt}tt=tt.next}while(tt!==null&&tt!==D);Pe===null?re=T:Pe.next=he,gs(T,h.memoizedState)||(Ro=!0),h.memoizedState=T,h.baseState=re,h.baseQueue=Pe,w.lastRenderedState=T}if(d=w.interleaved,d!==null){I=d;do D=I.lane,qt.lanes|=D,uf|=D,I=I.next;while(I!==d)}else I===null&&(w.lanes=0);return[h.memoizedState,w.dispatch]}function Ip(d){var h=Ao(),w=h.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=d;var T=w.dispatch,I=w.pending,D=h.memoizedState;if(I!==null){w.pending=null;var re=I=I.next;do D=d(D,re.action),re=re.next;while(re!==I);gs(D,h.memoizedState)||(Ro=!0),h.memoizedState=D,h.baseQueue===null&&(h.baseState=D),w.lastRenderedState=D}return[D,T]}function Cd(){}function el(d,h){var w=qt,T=Ao(),I=h(),D=!gs(T.memoizedState,I);if(D&&(T.memoizedState=I,Ro=!0),T=T.queue,Rd(Ad.bind(null,w,T,d),[d]),T.getSnapshot!==h||D||hi!==null&&hi.memoizedState.tag&1){if(w.flags|=2048,Ul(9,W0.bind(null,w,T,I,h),void 0,null),Br===null)throw Error(a(349));hr&30||Td(w,h,I)}return I}function Td(d,h,w){d.flags|=16384,d={getSnapshot:h,value:w},h=qt.updateQueue,h===null?(h={lastEffect:null,stores:null},qt.updateQueue=h,h.stores=[d]):(w=h.stores,w===null?h.stores=[d]:w.push(d))}function W0(d,h,w,T){h.value=w,h.getSnapshot=T,G0(h)&&ea(d,1,-1)}function Ad(d,h,w){return w(function(){G0(h)&&ea(d,1,-1)})}function G0(d){var h=d.getSnapshot;d=d.value;try{var w=h();return!gs(d,w)}catch{return!0}}function Lp(d){var h=bs();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:d},h.queue=d,d=d.dispatch=Ri.bind(null,qt,d),[h.memoizedState,d]}function Ul(d,h,w,T){return d={tag:d,create:h,destroy:w,deps:T,next:null},h=qt.updateQueue,h===null?(h={lastEffect:null,stores:null},qt.updateQueue=h,h.lastEffect=d.next=d):(w=h.lastEffect,w===null?h.lastEffect=d.next=d:(T=w.next,w.next=d,d.next=T,h.lastEffect=d)),d}function j0(){return Ao().memoizedState}function zl(d,h,w,T){var I=bs();qt.flags|=d,I.memoizedState=Ul(1|h,w,void 0,T===void 0?null:T)}function _s(d,h,w,T){var I=Ao();T=T===void 0?null:T;var D=void 0;if(di!==null){var re=di.memoizedState;if(D=re.destroy,T!==null&&Ju(T,re.deps)){I.memoizedState=Ul(h,w,D,T);return}}qt.flags|=d,I.memoizedState=Ul(1|h,w,D,T)}function ef(d,h){return zl(8390656,8,d,h)}function Rd(d,h){return _s(2048,8,d,h)}function Yx(d,h){return _s(4,2,d,h)}function Kx(d,h){return _s(4,4,d,h)}function Pd(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function Id(d,h,w){return w=w!=null?w.concat([d]):null,_s(4,4,Pd.bind(null,h,d),w)}function Ld(){}function Zx(d,h){var w=Ao();h=h===void 0?null:h;var T=w.memoizedState;return T!==null&&h!==null&&Ju(h,T[1])?T[0]:(w.memoizedState=[d,h],d)}function X0(d,h){var w=Ao();h=h===void 0?null:h;var T=w.memoizedState;return T!==null&&h!==null&&Ju(h,T[1])?T[0]:(d=d(),w.memoizedState=[d,h],d)}function D2(d,h){var w=Dn;Dn=w!==0&&4>w?w:4,d(!0);var T=fn.transition;fn.transition={};try{d(!1),h()}finally{Dn=w,fn.transition=T}}function Qx(){return Ao().memoizedState}function Jr(d,h,w){var T=Ms(d);w={lane:T,action:w,hasEagerState:!1,eagerState:null,next:null},Jx(d)?eb(h,w):(q0(d,h,w),w=Li(),d=ea(d,T,w),d!==null&&tb(d,h,T))}function Ri(d,h,w){var T=Ms(d),I={lane:T,action:w,hasEagerState:!1,eagerState:null,next:null};if(Jx(d))eb(h,I);else{q0(d,h,I);var D=d.alternate;if(d.lanes===0&&(D===null||D.lanes===0)&&(D=h.lastRenderedReducer,D!==null))try{var re=h.lastRenderedState,he=D(re,w);if(I.hasEagerState=!0,I.eagerState=he,gs(he,re))return}catch{}finally{}w=Li(),d=ea(d,T,w),d!==null&&tb(d,h,T)}}function Jx(d){var h=d.alternate;return d===qt||h!==null&&h===qt}function eb(d,h){Fl=Zi=!0;var w=d.pending;w===null?h.next=h:(h.next=w.next,w.next=h),d.pending=h}function q0(d,h,w){Br!==null&&d.mode&1&&!(mn&2)?(d=h.interleaved,d===null?(w.next=w,vs===null?vs=[h]:vs.push(h)):(w.next=d.next,d.next=w),h.interleaved=w):(d=h.pending,d===null?w.next=w:(w.next=d.next,d.next=w),h.pending=w)}function tb(d,h,w){if(w&4194240){var T=h.lanes;T&=d.pendingLanes,w|=T,h.lanes=w,L0(d,w)}}var tf={readContext:dr,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},Od={readContext:dr,useCallback:function(d,h){return bs().memoizedState=[d,h===void 0?null:h],d},useContext:dr,useEffect:ef,useImperativeHandle:function(d,h,w){return w=w!=null?w.concat([d]):null,zl(4194308,4,Pd.bind(null,h,d),w)},useLayoutEffect:function(d,h){return zl(4194308,4,d,h)},useInsertionEffect:function(d,h){return zl(4,2,d,h)},useMemo:function(d,h){var w=bs();return h=h===void 0?null:h,d=d(),w.memoizedState=[d,h],d},useReducer:function(d,h,w){var T=bs();return h=w!==void 0?w(h):h,T.memoizedState=T.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},T.queue=d,d=d.dispatch=Jr.bind(null,qt,d),[T.memoizedState,d]},useRef:function(d){var h=bs();return d={current:d},h.memoizedState=d},useState:Lp,useDebugValue:Ld,useDeferredValue:function(d){var h=Lp(d),w=h[0],T=h[1];return ef(function(){var I=fn.transition;fn.transition={};try{T(d)}finally{fn.transition=I}},[d]),w},useTransition:function(){var d=Lp(!1),h=d[0];return d=D2.bind(null,d[1]),bs().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,w){var T=qt,I=bs();if(ar){if(w===void 0)throw Error(a(407));w=w()}else{if(w=h(),Br===null)throw Error(a(349));hr&30||Td(T,h,w)}I.memoizedState=w;var D={value:w,getSnapshot:h};return I.queue=D,ef(Ad.bind(null,T,D,d),[d]),T.flags|=2048,Ul(9,W0.bind(null,T,D,w,h),void 0,null),w},useId:function(){var d=bs(),h=Br.identifierPrefix;if(ar){var w=Pa,T=Qs;w=(T&~(1<<32-uo(T)-1)).toString(32)+w,h=":"+h+"R"+w,w=Ed++,0<w&&(h+="H"+w.toString(32)),h+=":"}else w=Qu++,h=":"+h+"r"+w.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},Y0={readContext:dr,useCallback:Zx,useContext:dr,useEffect:Rd,useImperativeHandle:Id,useInsertionEffect:Yx,useLayoutEffect:Kx,useMemo:X0,useReducer:Pp,useRef:j0,useState:function(){return Pp(Lc)},useDebugValue:Ld,useDeferredValue:function(d){var h=Pp(Lc),w=h[0],T=h[1];return Rd(function(){var I=fn.transition;fn.transition={};try{T(d)}finally{fn.transition=I}},[d]),w},useTransition:function(){var d=Pp(Lc)[0],h=Ao().memoizedState;return[d,h]},useMutableSource:Cd,useSyncExternalStore:el,useId:Qx,unstable_isNewReconciler:!1},nf={readContext:dr,useCallback:Zx,useContext:dr,useEffect:Rd,useImperativeHandle:Id,useInsertionEffect:Yx,useLayoutEffect:Kx,useMemo:X0,useReducer:Ip,useRef:j0,useState:function(){return Ip(Lc)},useDebugValue:Ld,useDeferredValue:function(d){var h=Ip(Lc),w=h[0],T=h[1];return Rd(function(){var I=fn.transition;fn.transition={};try{T(d)}finally{fn.transition=I}},[d]),w},useTransition:function(){var d=Ip(Lc)[0],h=Ao().memoizedState;return[d,h]},useMutableSource:Cd,useSyncExternalStore:el,useId:Qx,unstable_isNewReconciler:!1};function Oc(d,h){try{var w="",T=h;do w+=N0(T),T=T.return;while(T);var I=w}catch(D){I=`
Error generating stack: `+D.message+`
`+D.stack}return{value:d,source:h,stack:I}}function kc(d,h){try{console.error(h.value)}catch(w){setTimeout(function(){throw w})}}var Op=typeof WeakMap=="function"?WeakMap:Map;function Nc(d,h,w){w=Ai(-1,w),w.tag=3,w.payload={element:null};var T=h.value;return w.callback=function(){$d||($d=!0,$p=T),kc(d,h)},w}function nb(d,h,w){w=Ai(-1,w),w.tag=3;var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var I=h.value;w.payload=function(){return T(I)},w.callback=function(){kc(d,h)}}var D=d.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(w.callback=function(){kc(d,h),typeof T!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var re=h.stack;this.componentDidCatch(h.value,{componentStack:re!==null?re:""})}),w}function rb(d,h,w){var T=d.pingCache;if(T===null){T=d.pingCache=new Op;var I=new Set;T.set(h,I)}else I=T.get(h),I===void 0&&(I=new Set,T.set(h,I));I.has(w)||(I.add(w),d=Xl.bind(null,d,h,w),h.then(d,d))}function ib(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function ob(d,h,w,T,I){return d.mode&1?(d.flags|=65536,d.lanes=I,d):(d===h?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(h=Ai(-1,1),h.tag=2,Ta(w,h))),w.lanes|=1),d)}function ws(d){d.flags|=4}function kd(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var tl,rf,W,nl;if($e)tl=function(d,h){for(var w=h.child;w!==null;){if(w.tag===5||w.tag===6)ae(d,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},rf=function(){},W=function(d,h,w,T,I){if(d=d.memoizedProps,d!==T){var D=h.stateNode,re=xs(wr.current);w=we(D,w,d,T,I,re),(h.updateQueue=w)&&ws(h)}},nl=function(d,h,w,T){w!==T&&ws(h)};else if(oe){tl=function(d,h,w,T){for(var I=h.child;I!==null;){if(I.tag===5){var D=I.stateNode;w&&T&&(D=Zn(D,I.type,I.memoizedProps,I)),ae(d,D)}else if(I.tag===6)D=I.stateNode,w&&T&&(D=Ar(D,I.memoizedProps,I)),ae(d,D);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)D=I.child,D!==null&&(D.return=I),tl(d,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===h)break;for(;I.sibling===null;){if(I.return===null||I.return===h)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var Nd=function(d,h,w,T){for(var I=h.child;I!==null;){if(I.tag===5){var D=I.stateNode;w&&T&&(D=Zn(D,I.type,I.memoizedProps,I)),it(d,D)}else if(I.tag===6)D=I.stateNode,w&&T&&(D=Ar(D,I.memoizedProps,I)),it(d,D);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)D=I.child,D!==null&&(D.return=I),Nd(d,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===h)break;for(;I.sibling===null;){if(I.return===null||I.return===h)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};rf=function(d,h){var w=h.stateNode;if(!kd(d,h)){d=w.containerInfo;var T=Ne(d);Nd(T,h,!1,!1),w.pendingChildren=T,ws(h),zt(d,T)}},W=function(d,h,w,T,I){var D=d.stateNode,re=d.memoizedProps;if((d=kd(d,h))&&re===T)h.stateNode=D;else{var he=h.stateNode,Pe=xs(wr.current),tt=null;re!==T&&(tt=we(he,w,re,T,I,Pe)),d&&tt===null?h.stateNode=D:(D=rt(D,tt,w,re,T,h,d,he),xe(D,w,T,I,Pe)&&ws(h),h.stateNode=D,d?ws(h):tl(D,h,!1,!1))}},nl=function(d,h,w,T){w!==T?(d=xs(Ku.current),w=xs(wr.current),h.stateNode=Ve(T,d,w,h),ws(h)):h.stateNode=d.stateNode}}else rf=function(){},W=function(){},nl=function(){};function Pi(d,h){if(!ar)switch(d.tailMode){case"hidden":h=d.tail;for(var w=null;h!==null;)h.alternate!==null&&(w=h),h=h.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var T=null;w!==null;)w.alternate!==null&&(T=w),w=w.sibling;T===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function Vt(d){var h=d.alternate!==null&&d.alternate.child===d.child,w=0,T=0;if(h)for(var I=d.child;I!==null;)w|=I.lanes|I.childLanes,T|=I.subtreeFlags&14680064,T|=I.flags&14680064,I.return=d,I=I.sibling;else for(I=d.child;I!==null;)w|=I.lanes|I.childLanes,T|=I.subtreeFlags,T|=I.flags,I.return=d,I=I.sibling;return d.subtreeFlags|=T,d.childLanes=w,h}function F2(d,h,w){var T=h.pendingProps;switch(Yi(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(h),null;case 1:return ci(h.type)&&Rr(),Vt(h),null;case 3:return T=h.stateNode,Zu(),Xt(vr),Xt(Mn),bt(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(wd(h)?ws(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Ia!==null&&(Bc(Ia),Ia=null))),rf(d,h),Vt(h),null;case 5:Dl(h),w=xs(Ku.current);var I=h.type;if(d!==null&&h.stateNode!=null)W(d,h,I,T,w),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!T){if(h.stateNode===null)throw Error(a(166));return Vt(h),null}if(d=xs(wr.current),wd(h)){if(!Ae)throw Error(a(175));d=Fe(h.stateNode,h.type,h.memoizedProps,w,d,h,!Gu),h.updateQueue=d,d!==null&&ws(h)}else{var D=Q(I,T,w,d,h);tl(D,h,!1,!1),h.stateNode=D,xe(D,I,T,w,d)&&ws(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Vt(h),null;case 6:if(d&&h.stateNode!=null)nl(d,h,d.memoizedProps,T);else{if(typeof T!="string"&&h.stateNode===null)throw Error(a(166));if(d=xs(Ku.current),w=xs(wr.current),wd(h)){if(!Ae)throw Error(a(176));if(d=h.stateNode,T=h.memoizedProps,(w=Ie(d,T,h,!Gu))&&(I=Ki,I!==null))switch(D=(I.mode&1)!==0,I.tag){case 3:Tt(I.stateNode.containerInfo,d,T,D);break;case 5:Gt(I.type,I.memoizedProps,I.stateNode,d,T,D)}w&&ws(h)}else h.stateNode=Ve(T,d,w,h)}return Vt(h),null;case 13:if(Xt(ue),T=h.memoizedState,ar&&bi!==null&&h.mode&1&&!(h.flags&128)){for(d=bi;d;)d=Ko(d);return ju(),h.flags|=98560,h}if(T!==null&&T.dehydrated!==null){if(T=wd(h),d===null){if(!T)throw Error(a(318));if(!Ae)throw Error(a(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));Ke(d,h)}else ju(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Vt(h),null}return Ia!==null&&(Bc(Ia),Ia=null),h.flags&128?(h.lanes=w,h):(T=T!==null,w=!1,d===null?wd(h):w=d.memoizedState!==null,T&&!w&&(h.child.flags|=8192,h.mode&1&&(d===null||ue.current&1?Lr===0&&(Lr=3):jp())),h.updateQueue!==null&&(h.flags|=4),Vt(h),null);case 4:return Zu(),rf(d,h),d===null&&ve(h.stateNode.containerInfo),Vt(h),null;case 10:return Ep(h.type._context),Vt(h),null;case 17:return ci(h.type)&&Rr(),Vt(h),null;case 19:if(Xt(ue),I=h.memoizedState,I===null)return Vt(h),null;if(T=(h.flags&128)!==0,D=I.rendering,D===null)if(T)Pi(I,!1);else{if(Lr!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(D=ke(d),D!==null){for(h.flags|=128,Pi(I,!1),d=D.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=w,T=h.child;T!==null;)w=T,I=d,w.flags&=14680066,D=w.alternate,D===null?(w.childLanes=0,w.lanes=I,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=D.childLanes,w.lanes=D.lanes,w.child=D.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=D.memoizedProps,w.memoizedState=D.memoizedState,w.updateQueue=D.updateQueue,w.type=D.type,I=D.dependencies,w.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),T=T.sibling;return Mt(ue,ue.current&1|2),h.child}d=d.sibling}I.tail!==null&&fi()>Bd&&(h.flags|=128,T=!0,Pi(I,!1),h.lanes=4194304)}else{if(!T)if(d=ke(D),d!==null){if(h.flags|=128,T=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),Pi(I,!0),I.tail===null&&I.tailMode==="hidden"&&!D.alternate&&!ar)return Vt(h),null}else 2*fi()-I.renderingStartTime>Bd&&w!==1073741824&&(h.flags|=128,T=!0,Pi(I,!1),h.lanes=4194304);I.isBackwards?(D.sibling=h.child,h.child=D):(d=I.last,d!==null?d.sibling=D:h.child=D,I.last=D)}return I.tail!==null?(h=I.tail,I.rendering=h,I.tail=h.sibling,I.renderingStartTime=fi(),h.sibling=null,d=ue.current,Mt(ue,T?d&1|2:d&1),h):(Vt(h),null);case 22:case 23:return fv(),T=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==T&&(h.flags|=8192),T&&h.mode&1?Lo&1073741824&&(Vt(h),$e&&h.subtreeFlags&6&&(h.flags|=8192)):Vt(h),null;case 24:return null;case 25:return null}throw Error(a(156,h.tag))}var U2=s.ReactCurrentOwner,Ro=!1;function Pr(d,h,w,T){h.child=d===null?Xx(h,null,w,T):qu(h,d.child,w,T)}function ab(d,h,w,T,I){w=w.render;var D=h.ref;return Pc(h,I),T=Fn(d,h,w,T,D,I),w=V0(),d!==null&&!Ro?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~I,ei(d,h,I)):(ar&&w&&Rp(h),h.flags|=1,Pr(d,h,T,I),h.child)}function sb(d,h,w,T,I){if(d===null){var D=w.type;return typeof D=="function"&&!vv(D)&&D.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(h.tag=15,h.type=D,lb(d,h,D,T,I)):(d=Yp(w.type,null,T,h,h.mode,I),d.ref=h.ref,d.return=h,h.child=d)}if(D=d.child,!(d.lanes&I)){var re=D.memoizedProps;if(w=w.compare,w=w!==null?w:zr,w(re,T)&&d.ref===h.ref)return ei(d,h,I)}return h.flags|=1,d=il(D,T),d.ref=h.ref,d.return=h,h.child=d}function lb(d,h,w,T,I){if(d!==null&&zr(d.memoizedProps,T)&&d.ref===h.ref)if(Ro=!1,(d.lanes&I)!==0)d.flags&131072&&(Ro=!0);else return h.lanes=d.lanes,ei(d,h,I);return Oa(d,h,w,T,I)}function cb(d,h,w){var T=h.pendingProps,I=T.children,D=d!==null?d.memoizedState:null;if(T.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},Mt(lf,Lo),Lo|=w;else if(w&1073741824)h.memoizedState={baseLanes:0,cachePool:null},T=D!==null?D.baseLanes:w,Mt(lf,Lo),Lo|=T;else return d=D!==null?D.baseLanes|w:w,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,Mt(lf,Lo),Lo|=d,null;else D!==null?(T=D.baseLanes|w,h.memoizedState=null):T=w,Mt(lf,Lo),Lo|=T;return Pr(d,h,I,w),h.child}function ub(d,h){var w=h.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(h.flags|=512,h.flags|=2097152)}function Oa(d,h,w,T,I){var D=ci(w)?Ea:Mn.current;return D=co(h,D),Pc(h,I),w=Fn(d,h,w,T,D,I),T=V0(),d!==null&&!Ro?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~I,ei(d,h,I)):(ar&&T&&Rp(h),h.flags|=1,Pr(d,h,w,I),h.child)}function fb(d,h,w,T,I){if(ci(w)){var D=!0;ui(h)}else D=!1;if(Pc(h,I),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),Hx(h,w,T),Vu(h,w,T,I),T=!0;else if(d===null){var re=h.stateNode,he=h.memoizedProps;re.props=he;var Pe=re.context,tt=w.contextType;typeof tt=="object"&&tt!==null?tt=dr(tt):(tt=ci(w)?Ea:Mn.current,tt=co(h,tt));var wt=w.getDerivedStateFromProps,sn=typeof wt=="function"||typeof re.getSnapshotBeforeUpdate=="function";sn||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(he!==T||Pe!==tt)&&z0(h,re,T,tt),Zr=!1;var Ft=h.memoizedState;re.state=Ft,Aa(h,T,re,I),Pe=h.memoizedState,he!==T||Ft!==Pe||vr.current||Zr?(typeof wt=="function"&&(xd(h,w,wt,T),Pe=h.memoizedState),(he=Zr||$x(h,w,he,T,Ft,Pe,tt))?(sn||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(h.flags|=4194308)):(typeof re.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=T,h.memoizedState=Pe),re.props=T,re.state=Pe,re.context=tt,T=he):(typeof re.componentDidMount=="function"&&(h.flags|=4194308),T=!1)}else{re=h.stateNode,U0(d,h),he=h.memoizedProps,tt=h.type===h.elementType?he:yi(h.type,he),re.props=tt,sn=h.pendingProps,Ft=re.context,Pe=w.contextType,typeof Pe=="object"&&Pe!==null?Pe=dr(Pe):(Pe=ci(w)?Ea:Mn.current,Pe=co(h,Pe));var jn=w.getDerivedStateFromProps;(wt=typeof jn=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(he!==sn||Ft!==Pe)&&z0(h,re,T,Pe),Zr=!1,Ft=h.memoizedState,re.state=Ft,Aa(h,T,re,I);var Rt=h.memoizedState;he!==sn||Ft!==Rt||vr.current||Zr?(typeof jn=="function"&&(xd(h,w,jn,T),Rt=h.memoizedState),(tt=Zr||$x(h,w,tt,T,Ft,Rt,Pe)||!1)?(wt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(T,Rt,Pe),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(T,Rt,Pe)),typeof re.componentDidUpdate=="function"&&(h.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof re.componentDidUpdate!="function"||he===d.memoizedProps&&Ft===d.memoizedState||(h.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||he===d.memoizedProps&&Ft===d.memoizedState||(h.flags|=1024),h.memoizedProps=T,h.memoizedState=Rt),re.props=T,re.state=Rt,re.context=Pe,T=tt):(typeof re.componentDidUpdate!="function"||he===d.memoizedProps&&Ft===d.memoizedState||(h.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||he===d.memoizedProps&&Ft===d.memoizedState||(h.flags|=1024),T=!1)}return K0(d,h,w,T,D,I)}function K0(d,h,w,T,I,D){ub(d,h);var re=(h.flags&128)!==0;if(!T&&!re)return I&&Rc(h,w,!1),ei(d,h,D);T=h.stateNode,U2.current=h;var he=re&&typeof w.getDerivedStateFromError!="function"?null:T.render();return h.flags|=1,d!==null&&re?(h.child=qu(h,d.child,null,D),h.child=qu(h,null,he,D)):Pr(d,h,he,D),h.memoizedState=T.state,I&&Rc(h,w,!0),h.child}function db(d){var h=d.stateNode;h.pendingContext?To(d,h.pendingContext,h.pendingContext!==h.context):h.context&&To(d,h.context,!1),H0(d,h.containerInfo)}function hb(d,h,w,T,I){return ju(),Sd(I),h.flags|=256,Pr(d,h,w,T),h.child}var kp={dehydrated:null,treeContext:null,retryLane:0};function Jo(d){return{baseLanes:d,cachePool:null}}function pb(d,h,w){var T=h.pendingProps,I=ue.current,D=!1,re=(h.flags&128)!==0,he;if((he=re)||(he=d!==null&&d.memoizedState===null?!1:(I&2)!==0),he?(D=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(I|=1),Mt(ue,I&1),d===null)return $0(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?hs(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(I=T.children,d=T.fallback,D?(T=h.mode,D=h.child,I={mode:"hidden",children:I},!(T&1)&&D!==null?(D.childLanes=0,D.pendingProps=I):D=Gd(I,T,0,null),d=Yl(d,T,w,null),D.return=h,d.return=h,D.sibling=d,h.child=D,h.child.memoizedState=Jo(w),h.memoizedState=kp,d):Z0(h,I));if(I=d.memoizedState,I!==null){if(he=I.dehydrated,he!==null){if(re)return h.flags&256?(h.flags&=-257,Np(d,h,w,Error(a(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(D=T.fallback,I=h.mode,T=Gd({mode:"visible",children:T.children},I,0,null),D=Yl(D,I,w,null),D.flags|=2,T.return=h,D.return=h,T.sibling=D,h.child=T,h.mode&1&&qu(h,d.child,null,w),h.child.memoizedState=Jo(w),h.memoizedState=kp,D);if(!(h.mode&1))h=Np(d,h,w,null);else if(hs(he))h=Np(d,h,w,Error(a(419)));else if(T=(w&d.childLanes)!==0,Ro||T){if(T=Br,T!==null){switch(w&-w){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}T=D&(T.suspendedLanes|w)?0:D,T!==0&&T!==I.retryLane&&(I.retryLane=T,ea(d,T,-1))}jp(),h=Np(d,h,w,Error(a(421)))}else ds(he)?(h.flags|=128,h.child=d.child,h=ql.bind(null,d),Ks(he,h),h=null):(w=I.treeContext,Ae&&(bi=Ma(he),Ki=h,ar=!0,Ia=null,Gu=!1,w!==null&&(fo[ho++]=Qs,fo[ho++]=Pa,fo[ho++]=Nl,Qs=w.id,Pa=w.overflow,Nl=h)),h=Z0(h,h.pendingProps.children),h.flags|=4096);return h}return D?(T=gb(d,h,T.children,T.fallback,w),D=h.child,I=d.child.memoizedState,D.memoizedState=I===null?Jo(w):{baseLanes:I.baseLanes|w,cachePool:null},D.childLanes=d.childLanes&~w,h.memoizedState=kp,T):(w=mb(d,h,T.children,w),h.memoizedState=null,w)}return D?(T=gb(d,h,T.children,T.fallback,w),D=h.child,I=d.child.memoizedState,D.memoizedState=I===null?Jo(w):{baseLanes:I.baseLanes|w,cachePool:null},D.childLanes=d.childLanes&~w,h.memoizedState=kp,T):(w=mb(d,h,T.children,w),h.memoizedState=null,w)}function Z0(d,h){return h=Gd({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function mb(d,h,w,T){var I=d.child;return d=I.sibling,w=il(I,{mode:"visible",children:w}),!(h.mode&1)&&(w.lanes=T),w.return=h,w.sibling=null,d!==null&&(T=h.deletions,T===null?(h.deletions=[d],h.flags|=16):T.push(d)),h.child=w}function gb(d,h,w,T,I){var D=h.mode;d=d.child;var re=d.sibling,he={mode:"hidden",children:w};return!(D&1)&&h.child!==d?(w=h.child,w.childLanes=0,w.pendingProps=he,h.deletions=null):(w=il(d,he),w.subtreeFlags=d.subtreeFlags&14680064),re!==null?T=il(re,T):(T=Yl(T,D,I,null),T.flags|=2),T.return=h,w.return=h,w.sibling=T,h.child=w,T}function Np(d,h,w,T){return T!==null&&Sd(T),qu(h,d.child,null,w),d=Z0(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function Bl(d,h,w){d.lanes|=h;var T=d.alternate;T!==null&&(T.lanes|=h),Cp(d.return,h,w)}function Q0(d,h,w,T,I){var D=d.memoizedState;D===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:T,tail:w,tailMode:I}:(D.isBackwards=h,D.rendering=null,D.renderingStartTime=0,D.last=T,D.tail=w,D.tailMode=I)}function vb(d,h,w){var T=h.pendingProps,I=T.revealOrder,D=T.tail;if(Pr(d,h,T.children,w),T=ue.current,T&2)T=T&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Bl(d,w,h);else if(d.tag===19)Bl(d,w,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}T&=1}if(Mt(ue,T),!(h.mode&1))h.memoizedState=null;else switch(I){case"forwards":for(w=h.child,I=null;w!==null;)d=w.alternate,d!==null&&ke(d)===null&&(I=w),w=w.sibling;w=I,w===null?(I=h.child,h.child=null):(I=w.sibling,w.sibling=null),Q0(h,!1,I,w,D);break;case"backwards":for(w=null,I=h.child,h.child=null;I!==null;){if(d=I.alternate,d!==null&&ke(d)===null){h.child=I;break}d=I.sibling,I.sibling=w,w=I,I=d}Q0(h,!0,w,null,D);break;case"together":Q0(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function ei(d,h,w){if(d!==null&&(h.dependencies=d.dependencies),uf|=h.lanes,!(w&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(a(153));if(h.child!==null){for(d=h.child,w=il(d,d.pendingProps),h.child=w,w.return=h;d.sibling!==null;)d=d.sibling,w=w.sibling=il(d,d.pendingProps),w.return=h;w.sibling=null}return h.child}function z2(d,h,w){switch(h.tag){case 3:db(h),ju();break;case 5:qx(h);break;case 1:ci(h.type)&&ui(h);break;case 4:H0(h,h.stateNode.containerInfo);break;case 10:D0(h,h.type._context,h.memoizedProps.value);break;case 13:var T=h.memoizedState;if(T!==null)return T.dehydrated!==null?(Mt(ue,ue.current&1),h.flags|=128,null):w&h.child.childLanes?pb(d,h,w):(Mt(ue,ue.current&1),d=ei(d,h,w),d!==null?d.sibling:null);Mt(ue,ue.current&1);break;case 19:if(T=(w&h.childLanes)!==0,d.flags&128){if(T)return vb(d,h,w);h.flags|=128}var I=h.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Mt(ue,ue.current),T)break;return null;case 22:case 23:return h.lanes=0,cb(d,h,w)}return ei(d,h,w)}function B2(d,h){switch(Yi(h),h.tag){case 1:return ci(h.type)&&Rr(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Zu(),Xt(vr),Xt(Mn),bt(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return Dl(h),null;case 13:if(Xt(ue),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(a(340));ju()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Xt(ue),null;case 4:return Zu(),null;case 10:return Ep(h.type._context),null;case 22:case 23:return fv(),null;case 24:return null;default:return null}}var Dp=!1,Dc=!1,$2=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Dd(d,h){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(T){ki(d,h,T)}else w.current=null}function J0(d,h,w){try{w()}catch(T){ki(d,h,T)}}var yb=!1;function ev(d,h){for(q(d.containerInfo),mt=h;mt!==null;)if(d=mt,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,mt=h;else for(;mt!==null;){d=mt;try{var w=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,I=w.memoizedState,D=d.stateNode,re=D.getSnapshotBeforeUpdate(d.elementType===d.type?T:yi(d.type,T),I);D.__reactInternalSnapshotBeforeUpdate=re}break;case 3:$e&&ut(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(he){ki(d,d.return,he)}if(h=d.sibling,h!==null){h.return=d.return,mt=h;break}mt=d.return}return w=yb,yb=!1,w}function ka(d,h,w){var T=h.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var I=T=T.next;do{if((I.tag&d)===d){var D=I.destroy;I.destroy=void 0,D!==void 0&&J0(h,w,D)}I=I.next}while(I!==T)}}function $l(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var w=h=h.next;do{if((w.tag&d)===d){var T=w.create;w.destroy=T()}w=w.next}while(w!==h)}}function tv(d){var h=d.ref;if(h!==null){var w=d.stateNode;switch(d.tag){case 5:d=ie(w);break;default:d=w}typeof h=="function"?h(d):h.current=d}}function nv(d,h,w){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(_p,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var T=d=d.next;do{var I=T,D=I.destroy;I=I.tag,D!==void 0&&(I&2||I&4)&&J0(h,w,D),T=T.next}while(T!==d)}break;case 1:if(Dd(h,w),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch(re){ki(h,w,re)}break;case 5:Dd(h,w);break;case 4:$e?iv(d,h,w):oe&&oe&&(h=h.stateNode.containerInfo,w=Ne(h),yn(h,w))}}function xb(d,h,w){for(var T=h;;)if(nv(d,T,w),T.child===null||$e&&T.tag===4){if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function Ss(d){var h=d.alternate;h!==null&&(d.alternate=null,Ss(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&We(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function Fp(d){return d.tag===5||d.tag===3||d.tag===4}function Hl(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Fp(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Po(d){if($e){e:{for(var h=d.return;h!==null;){if(Fp(h))break e;h=h.return}throw Error(a(160))}var w=h;switch(w.tag){case 5:h=w.stateNode,w.flags&32&&(Nt(h),w.flags&=-33),w=Hl(d),Up(d,w,h);break;case 3:case 4:h=w.stateNode.containerInfo,w=Hl(d),rv(d,w,h);break;default:throw Error(a(161))}}}function rv(d,h,w){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?Oe(w,d,h):De(w,d);else if(T!==4&&(d=d.child,d!==null))for(rv(d,h,w),d=d.sibling;d!==null;)rv(d,h,w),d=d.sibling}function Up(d,h,w){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?Ze(w,d,h):Me(w,d);else if(T!==4&&(d=d.child,d!==null))for(Up(d,h,w),d=d.sibling;d!==null;)Up(d,h,w),d=d.sibling}function iv(d,h,w){for(var T=h,I=!1,D,re;;){if(!I){I=T.return;e:for(;;){if(I===null)throw Error(a(160));switch(D=I.stateNode,I.tag){case 5:re=!1;break e;case 3:D=D.containerInfo,re=!0;break e;case 4:D=D.containerInfo,re=!0;break e}I=I.return}I=!0}if(T.tag===5||T.tag===6)xb(d,T,w),re?Et(D,T.stateNode):Ut(D,T.stateNode);else if(T.tag===18)re?Ee(D,T.stateNode):Se(D,T.stateNode);else if(T.tag===4){if(T.child!==null){D=T.stateNode.containerInfo,re=!0,T.child.return=T,T=T.child;continue}}else if(nv(d,T,w),T.child!==null){T.child.return=T,T=T.child;continue}if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return,T.tag===4&&(I=!1)}T.sibling.return=T.return,T=T.sibling}}function Fc(d,h){if($e){switch(h.tag){case 0:case 11:case 14:case 15:ka(3,h,h.return),$l(3,h),ka(5,h,h.return);return;case 1:return;case 5:var w=h.stateNode;if(w!=null){var T=h.memoizedProps;d=d!==null?d.memoizedProps:T;var I=h.type,D=h.updateQueue;h.updateQueue=null,D!==null&&At(w,D,I,d,T,h)}return;case 6:if(h.stateNode===null)throw Error(a(162));w=h.memoizedProps,je(h.stateNode,d!==null?d.memoizedProps:w,w);return;case 3:Ae&&d!==null&&d.memoizedState.isDehydrated&&fe(h.stateNode.containerInfo);return;case 12:return;case 13:Na(h);return;case 19:Na(h);return;case 17:return}throw Error(a(163))}switch(h.tag){case 0:case 11:case 14:case 15:ka(3,h,h.return),$l(3,h),ka(5,h,h.return);return;case 12:return;case 13:Na(h);return;case 19:Na(h);return;case 3:Ae&&d!==null&&d.memoizedState.isDehydrated&&fe(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(oe){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,yn(h.containerInfo,h.pendingChildren);break e}throw Error(a(163))}}function Na(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new $2),h.forEach(function(T){var I=Tb.bind(null,d,T);w.has(T)||(w.add(T),T.then(I,I))})}}function bb(d,h){for(mt=h;mt!==null;){h=mt;var w=h.deletions;if(w!==null)for(var T=0;T<w.length;T++){var I=w[T];try{var D=d;$e?iv(D,I,h):xb(D,I,h);var re=I.alternate;re!==null&&(re.return=null),I.return=null}catch(Pt){ki(I,h,Pt)}}if(w=h.child,h.subtreeFlags&12854&&w!==null)w.return=h,mt=w;else for(;mt!==null;){h=mt;try{var he=h.flags;if(he&32&&$e&&Nt(h.stateNode),he&512){var Pe=h.alternate;if(Pe!==null){var tt=Pe.ref;tt!==null&&(typeof tt=="function"?tt(null):tt.current=null)}}if(he&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var wt=h.alternate;(wt===null||wt.memoizedState===null)&&(cv=fi())}break;case 22:var sn=h.memoizedState!==null,Ft=h.alternate,jn=Ft!==null&&Ft.memoizedState!==null;if(w=h,$e){e:if(T=w,I=sn,D=null,$e)for(var Rt=T;;){if(Rt.tag===5){if(D===null){D=Rt;var Di=Rt.stateNode;I?Ct(Di):Qt(Rt.stateNode,Rt.memoizedProps)}}else if(Rt.tag===6){if(D===null){var ko=Rt.stateNode;I?dt(ko):de(ko,Rt.memoizedProps)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===T)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===T)break;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===T)break e;D===Rt&&(D=null),Rt=Rt.return}D===Rt&&(D=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}if(sn&&!jn&&w.mode&1){mt=w;for(var _e=w.child;_e!==null;){for(w=mt=_e;mt!==null;){T=mt;var pe=T.child;switch(T.tag){case 0:case 11:case 14:case 15:ka(4,T,T.return);break;case 1:Dd(T,T.return);var Re=T.stateNode;if(typeof Re.componentWillUnmount=="function"){var xt=T.return;try{Re.props=T.memoizedProps,Re.state=T.memoizedState,Re.componentWillUnmount()}catch(Pt){ki(T,xt,Pt)}}break;case 5:Dd(T,T.return);break;case 22:if(T.memoizedState!==null){ov(w);continue}}pe!==null?(pe.return=T,mt=pe):ov(w)}_e=_e.sibling}}}switch(he&4102){case 2:Po(h),h.flags&=-3;break;case 6:Po(h),h.flags&=-3,Fc(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,Fc(h.alternate,h);break;case 4:Fc(h.alternate,h)}}catch(Pt){ki(h,h.return,Pt)}if(w=h.sibling,w!==null){w.return=h.return,mt=w;break}mt=h.return}}}function H2(d,h,w){mt=d,Fd(d)}function Fd(d,h,w){for(var T=(d.mode&1)!==0;mt!==null;){var I=mt,D=I.child;if(I.tag===22&&T){var re=I.memoizedState!==null||Dp;if(!re){var he=I.alternate,Pe=he!==null&&he.memoizedState!==null||Dc;he=Dp;var tt=Dc;if(Dp=re,(Dc=Pe)&&!tt)for(mt=I;mt!==null;)re=mt,Pe=re.child,re.tag===22&&re.memoizedState!==null?pi(I):Pe!==null?(Pe.return=re,mt=Pe):pi(I);for(;D!==null;)mt=D,Fd(D),D=D.sibling;mt=I,Dp=he,Dc=tt}_b(d)}else I.subtreeFlags&8772&&D!==null?(D.return=I,mt=D):_b(d)}}function _b(d){for(;mt!==null;){var h=mt;if(h.flags&8772){var w=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Dc||$l(5,h);break;case 1:var T=h.stateNode;if(h.flags&4&&!Dc)if(w===null)T.componentDidMount();else{var I=h.elementType===h.type?w.memoizedProps:yi(h.type,w.memoizedProps);T.componentDidUpdate(I,w.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var D=h.updateQueue;D!==null&&Tp(h,D,T);break;case 3:var re=h.updateQueue;if(re!==null){if(w=null,h.child!==null)switch(h.child.tag){case 5:w=ie(h.child.stateNode);break;case 1:w=h.child.stateNode}Tp(h,re,w)}break;case 5:var he=h.stateNode;w===null&&h.flags&4&&at(he,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&h.memoizedState===null){var Pe=h.alternate;if(Pe!==null){var tt=Pe.memoizedState;if(tt!==null){var wt=tt.dehydrated;wt!==null&&be(wt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}Dc||h.flags&512&&tv(h)}catch(sn){ki(h,h.return,sn)}}if(h===d){mt=null;break}if(w=h.sibling,w!==null){w.return=h.return,mt=w;break}mt=h.return}}function ov(d){for(;mt!==null;){var h=mt;if(h===d){mt=null;break}var w=h.sibling;if(w!==null){w.return=h.return,mt=w;break}mt=h.return}}function pi(d){for(;mt!==null;){var h=mt;try{switch(h.tag){case 0:case 11:case 15:var w=h.return;try{$l(4,h)}catch(Pe){ki(h,w,Pe)}break;case 1:var T=h.stateNode;if(typeof T.componentDidMount=="function"){var I=h.return;try{T.componentDidMount()}catch(Pe){ki(h,I,Pe)}}var D=h.return;try{tv(h)}catch(Pe){ki(h,D,Pe)}break;case 5:var re=h.return;try{tv(h)}catch(Pe){ki(h,re,Pe)}}}catch(Pe){ki(h,h.return,Pe)}if(h===d){mt=null;break}var he=h.sibling;if(he!==null){he.return=h.return,mt=he;break}mt=h.return}}var of=0,Ud=1,Io=2,af=3,Uc=4;if(typeof Symbol=="function"&&Symbol.for){var Da=Symbol.for;of=Da("selector.component"),Ud=Da("selector.has_pseudo_class"),Io=Da("selector.role"),af=Da("selector.test_id"),Uc=Da("selector.text")}function zp(d){var h=ge(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(a(364));return h}if(d=lt(d),d===null)throw Error(a(362));return d.stateNode.current}function _i(d,h){switch(h.$$typeof){case of:if(d.type===h.value)return!0;break;case Ud:e:{h=h.value,d=[d,0];for(var w=0;w<d.length;){var T=d[w++],I=d[w++],D=h[I];if(T.tag!==5||!$(T)){for(;D!=null&&_i(T,D);)I++,D=h[I];if(I===h.length){h=!0;break e}else for(T=T.child;T!==null;)d.push(T,I),T=T.sibling}}h=!1}return h;case Io:if(d.tag===5&&ye(d.stateNode,h.value))return!0;break;case Uc:if((d.tag===5||d.tag===6)&&(d=ee(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case af:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function zd(d){switch(d.$$typeof){case of:return"<"+(R(d.value)||"Unknown")+">";case Ud:return":has("+(zd(d)||"")+")";case Io:return'[role="'+d.value+'"]';case Uc:return'"'+d.value+'"';case af:return'[data-testname="'+d.value+'"]';default:throw Error(a(365))}}function wb(d,h){var w=[];d=[d,0];for(var T=0;T<d.length;){var I=d[T++],D=d[T++],re=h[D];if(I.tag!==5||!$(I)){for(;re!=null&&_i(I,re);)D++,re=h[D];if(D===h.length)w.push(I);else for(I=I.child;I!==null;)d.push(I,D),I=I.sibling}}return w}function av(d,h){if(!ft)throw Error(a(363));d=zp(d),d=wb(d,h),h=[],d=Array.from(d);for(var w=0;w<d.length;){var T=d[w++];if(T.tag===5)$(T)||h.push(T.stateNode);else for(T=T.child;T!==null;)d.push(T),T=T.sibling}return h}var V2=Math.ceil,sf=s.ReactCurrentDispatcher,sv=s.ReactCurrentOwner,sr=s.ReactCurrentBatchConfig,mn=0,Br=null,$r=null,Ir=0,Lo=0,lf=li(0),Lr=0,cf=null,uf=0,Bp=0,lv=0,ff=null,Ii=null,cv=0,Bd=1/0;function zc(){Bd=fi()+500}var $d=!1,$p=null,Fa=null,Hp=!1,rl=null,Hd=0,Vd=0,Vp=null,Wp=-1,df=0;function Li(){return mn&6?fi():Wp!==-1?Wp:Wp=fi()}function Ms(d){return d.mode&1?mn&2&&Ir!==0?Ir&-Ir:N2.transition!==null?(df===0&&(d=Uu,Uu<<=1,!(Uu&4194240)&&(Uu=64),df=d),df):(d=Dn,d!==0?d:Ue()):1}function ea(d,h,w){if(50<Vd)throw Vd=0,Vp=null,Error(a(185));var T=hf(d,h);return T===null?null:(Bu(T,h,w),(!(mn&2)||T!==Br)&&(T===Br&&(!(mn&2)&&(Bp|=h),Lr===4&&Vl(T,Ir)),$t(T,w),h===1&&mn===0&&!(d.mode&1)&&(zc(),wp&&Ca())),T)}function hf(d,h){d.lanes|=h;var w=d.alternate;for(w!==null&&(w.lanes|=h),w=d,d=d.return;d!==null;)d.childLanes|=h,w=d.alternate,w!==null&&(w.childLanes|=h),w=d,d=d.return;return w.tag===3?w.stateNode:null}function $t(d,h){var w=d.callbackNode;R2(d,h);var T=gd(d,d===Br?Ir:0);if(T===0)w!==null&&Ux(w),d.callbackNode=null,d.callbackPriority=0;else if(h=T&-T,d.callbackPriority!==h){if(w!=null&&Ux(w),h===1)d.tag===0?k2(Eb.bind(null,d)):zx(Eb.bind(null,d)),Je?ot(function(){mn===0&&Ca()}):bp(vd,Ca),w=null;else{switch(Fx(T)){case 1:w=vd;break;case 4:w=L2;break;case 16:w=O0;break;case 536870912:w=O2;break;default:w=O0}w=qp(w,Sb.bind(null,d))}d.callbackPriority=h,d.callbackNode=w}}function Sb(d,h){if(Wp=-1,df=0,mn&6)throw Error(a(327));var w=d.callbackNode;if(jl()&&d.callbackNode!==w)return null;var T=gd(d,d===Br?Ir:0);if(T===0)return null;if(T&30||T&d.expiredLanes||h)h=Oi(d,T);else{h=T;var I=mn;mn|=2;var D=dv();(Br!==d||Ir!==h)&&(zc(),Es(d,h));do try{hv();break}catch(he){Gp(d,he)}while(1);Mp(),sf.current=D,mn=I,$r!==null?h=0:(Br=null,Ir=0,h=Lr)}if(h!==0){if(h===2&&(I=yp(d),I!==0&&(T=I,h=uv(d,I))),h===1)throw w=cf,Es(d,0),Vl(d,T),$t(d,fi()),w;if(h===6)Vl(d,T);else{if(I=d.current.alternate,!(T&30)&&!Mb(I)&&(h=Oi(d,T),h===2&&(D=yp(d),D!==0&&(T=D,h=uv(d,D))),h===1))throw w=cf,Es(d,0),Vl(d,T),$t(d,fi()),w;switch(d.finishedWork=I,d.finishedLanes=T,h){case 0:case 1:throw Error(a(345));case 2:Gl(d,Ii);break;case 3:if(Vl(d,T),(T&130023424)===T&&(h=cv+500-fi(),10<h)){if(gd(d,0)!==0)break;if(I=d.suspendedLanes,(I&T)!==T){Li(),d.pingedLanes|=d.suspendedLanes&I;break}d.timeoutHandle=Ye(Gl.bind(null,d,Ii),h);break}Gl(d,Ii);break;case 4:if(Vl(d,T),(T&4194240)===T)break;for(h=d.eventTimes,I=-1;0<T;){var re=31-uo(T);D=1<<re,re=h[re],re>I&&(I=re),T&=~D}if(T=I,T=fi()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*V2(T/1960))-T,10<T){d.timeoutHandle=Ye(Gl.bind(null,d,Ii),T);break}Gl(d,Ii);break;case 5:Gl(d,Ii);break;default:throw Error(a(329))}}}return $t(d,fi()),d.callbackNode===w?Sb.bind(null,d):null}function uv(d,h){var w=ff;return d.current.memoizedState.isDehydrated&&(Es(d,h).flags|=256),d=Oi(d,h),d!==2&&(h=Ii,Ii=w,h!==null&&Bc(h)),d}function Bc(d){Ii===null?Ii=d:Ii.push.apply(Ii,d)}function Mb(d){for(var h=d;;){if(h.flags&16384){var w=h.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var T=0;T<w.length;T++){var I=w[T],D=I.getSnapshot;I=I.value;try{if(!gs(D(),I))return!1}catch{return!1}}}if(w=h.child,h.subtreeFlags&16384&&w!==null)w.return=h,h=w;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Vl(d,h){for(h&=~lv,h&=~Bp,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var w=31-uo(h),T=1<<w;d[w]=-1,h&=~T}}function Eb(d){if(mn&6)throw Error(a(327));jl();var h=gd(d,0);if(!(h&1))return $t(d,fi()),null;var w=Oi(d,h);if(d.tag!==0&&w===2){var T=yp(d);T!==0&&(h=T,w=uv(d,T))}if(w===1)throw w=cf,Es(d,0),Vl(d,h),$t(d,fi()),w;if(w===6)throw Error(a(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,Gl(d,Ii),$t(d,fi()),null}function Oo(d){rl!==null&&rl.tag===0&&!(mn&6)&&jl();var h=mn;mn|=1;var w=sr.transition,T=Dn;try{if(sr.transition=null,Dn=1,d)return d()}finally{Dn=T,sr.transition=w,mn=h,!(mn&6)&&Ca()}}function fv(){Lo=lf.current,Xt(lf)}function Es(d,h){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==ct&&(d.timeoutHandle=ct,et(w)),$r!==null)for(w=$r.return;w!==null;){var T=w;switch(Yi(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Rr();break;case 3:Zu(),Xt(vr),Xt(Mn),bt();break;case 5:Dl(T);break;case 4:Zu();break;case 13:Xt(ue);break;case 19:Xt(ue);break;case 10:Ep(T.type._context);break;case 22:case 23:fv()}w=w.return}if(Br=d,$r=d=il(d.current,null),Ir=Lo=h,Lr=0,cf=null,lv=Bp=uf=0,Ii=ff=null,vs!==null){for(h=0;h<vs.length;h++)if(w=vs[h],T=w.interleaved,T!==null){w.interleaved=null;var I=T.next,D=w.pending;if(D!==null){var re=D.next;D.next=I,T.next=re}w.pending=T}vs=null}return d}function Gp(d,h){do{var w=$r;try{if(Mp(),Jt.current=tf,Zi){for(var T=qt.memoizedState;T!==null;){var I=T.queue;I!==null&&(I.pending=null),T=T.next}Zi=!1}if(hr=0,hi=di=qt=null,Fl=!1,Ed=0,sv.current=null,w===null||w.return===null){Lr=1,cf=h,$r=null;break}e:{var D=d,re=w.return,he=w,Pe=h;if(h=Ir,he.flags|=32768,Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var tt=Pe,wt=he,sn=wt.tag;if(!(wt.mode&1)&&(sn===0||sn===11||sn===15)){var Ft=wt.alternate;Ft?(wt.updateQueue=Ft.updateQueue,wt.memoizedState=Ft.memoizedState,wt.lanes=Ft.lanes):(wt.updateQueue=null,wt.memoizedState=null)}var jn=ib(re);if(jn!==null){jn.flags&=-257,ob(jn,re,he,D,h),jn.mode&1&&rb(D,tt,h),h=jn,Pe=tt;var Rt=h.updateQueue;if(Rt===null){var Di=new Set;Di.add(Pe),h.updateQueue=Di}else Rt.add(Pe);break e}else{if(!(h&1)){rb(D,tt,h),jp();break e}Pe=Error(a(426))}}else if(ar&&he.mode&1){var ko=ib(re);if(ko!==null){!(ko.flags&65536)&&(ko.flags|=256),ob(ko,re,he,D,h),Sd(Pe);break e}}D=Pe,Lr!==4&&(Lr=2),ff===null?ff=[D]:ff.push(D),Pe=Oc(Pe,he),he=re;do{switch(he.tag){case 3:he.flags|=65536,h&=-h,he.lanes|=h;var _e=Nc(he,Pe,h);or(he,_e);break e;case 1:D=Pe;var pe=he.type,Re=he.stateNode;if(!(he.flags&128)&&(typeof pe.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(Fa===null||!Fa.has(Re)))){he.flags|=65536,h&=-h,he.lanes|=h;var xt=nb(he,D,h);or(he,xt);break e}}he=he.return}while(he!==null)}Wd(w)}catch(Pt){h=Pt,$r===w&&w!==null&&($r=w=w.return);continue}break}while(1)}function dv(){var d=sf.current;return sf.current=tf,d===null?tf:d}function jp(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Br===null||!(uf&268435455)&&!(Bp&268435455)||Vl(Br,Ir)}function Oi(d,h){var w=mn;mn|=2;var T=dv();Br===d&&Ir===h||Es(d,h);do try{Wl();break}catch(I){Gp(d,I)}while(1);if(Mp(),mn=w,sf.current=T,$r!==null)throw Error(a(261));return Br=null,Ir=0,Lr}function Wl(){for(;$r!==null;)pv($r)}function hv(){for(;$r!==null&&!P2();)pv($r)}function pv(d){var h=gv(d.alternate,d,Lo);d.memoizedProps=d.pendingProps,h===null?Wd(d):$r=h,sv.current=null}function Wd(d){var h=d;do{var w=h.alternate;if(d=h.return,h.flags&32768){if(w=B2(w,h),w!==null){w.flags&=32767,$r=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Lr=6,$r=null;return}}else if(w=F2(w,h,Lo),w!==null){$r=w;return}if(h=h.sibling,h!==null){$r=h;return}$r=h=d}while(h!==null);Lr===0&&(Lr=5)}function Gl(d,h){var w=Dn,T=sr.transition;try{sr.transition=null,Dn=1,mv(d,h,w)}finally{sr.transition=T,Dn=w}return null}function mv(d,h,w){do jl();while(rl!==null);if(mn&6)throw Error(a(327));var T=d.finishedWork,I=d.finishedLanes;if(T===null)return null;if(d.finishedWork=null,d.finishedLanes=0,T===d.current)throw Error(a(177));d.callbackNode=null,d.callbackPriority=0;var D=T.lanes|T.childLanes;if(Dx(d,D),d===Br&&($r=Br=null,Ir=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||Hp||(Hp=!0,qp(O0,function(){return jl(),null})),D=(T.flags&15990)!==0,T.subtreeFlags&15990||D){D=sr.transition,sr.transition=null;var re=Dn;Dn=1;var he=mn;mn|=4,sv.current=null,ev(d,T),bb(d,T),te(d.containerInfo),d.current=T,H2(T),I2(),mn=he,Dn=re,sr.transition=D}else d.current=T;if(Hp&&(Hp=!1,rl=d,Hd=I),D=d.pendingLanes,D===0&&(Fa=null),ir(T.stateNode),$t(d,fi()),h!==null)for(w=d.onRecoverableError,T=0;T<h.length;T++)w(h[T]);if($d)throw $d=!1,d=$p,$p=null,d;return Hd&1&&d.tag!==0&&jl(),D=d.pendingLanes,D&1?d===Vp?Vd++:(Vd=0,Vp=d):Vd=0,Ca(),null}function jl(){if(rl!==null){var d=Fx(Hd),h=sr.transition,w=Dn;try{if(sr.transition=null,Dn=16>d?16:d,rl===null)var T=!1;else{if(d=rl,rl=null,Hd=0,mn&6)throw Error(a(331));var I=mn;for(mn|=4,mt=d.current;mt!==null;){var D=mt,re=D.child;if(mt.flags&16){var he=D.deletions;if(he!==null){for(var Pe=0;Pe<he.length;Pe++){var tt=he[Pe];for(mt=tt;mt!==null;){var wt=mt;switch(wt.tag){case 0:case 11:case 15:ka(8,wt,D)}var sn=wt.child;if(sn!==null)sn.return=wt,mt=sn;else for(;mt!==null;){wt=mt;var Ft=wt.sibling,jn=wt.return;if(Ss(wt),wt===tt){mt=null;break}if(Ft!==null){Ft.return=jn,mt=Ft;break}mt=jn}}}var Rt=D.alternate;if(Rt!==null){var Di=Rt.child;if(Di!==null){Rt.child=null;do{var ko=Di.sibling;Di.sibling=null,Di=ko}while(Di!==null)}}mt=D}}if(D.subtreeFlags&2064&&re!==null)re.return=D,mt=re;else e:for(;mt!==null;){if(D=mt,D.flags&2048)switch(D.tag){case 0:case 11:case 15:ka(9,D,D.return)}var _e=D.sibling;if(_e!==null){_e.return=D.return,mt=_e;break e}mt=D.return}}var pe=d.current;for(mt=pe;mt!==null;){re=mt;var Re=re.child;if(re.subtreeFlags&2064&&Re!==null)Re.return=re,mt=Re;else e:for(re=pe;mt!==null;){if(he=mt,he.flags&2048)try{switch(he.tag){case 0:case 11:case 15:$l(9,he)}}catch(Pt){ki(he,he.return,Pt)}if(he===re){mt=null;break e}var xt=he.sibling;if(xt!==null){xt.return=he.return,mt=xt;break e}mt=he.return}}if(mn=I,Ca(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(_p,d)}catch{}T=!0}return T}finally{Dn=w,sr.transition=h}}return!1}function Xp(d,h,w){h=Oc(w,h),h=Nc(d,h,1),Ta(d,h),h=Li(),d=hf(d,1),d!==null&&(Bu(d,1,h),$t(d,h))}function ki(d,h,w){if(d.tag===3)Xp(d,d,w);else for(;h!==null;){if(h.tag===3){Xp(h,d,w);break}else if(h.tag===1){var T=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Fa===null||!Fa.has(T))){d=Oc(w,d),d=nb(h,d,1),Ta(h,d),d=Li(),h=hf(h,1),h!==null&&(Bu(h,1,d),$t(h,d));break}}h=h.return}}function Xl(d,h,w){var T=d.pingCache;T!==null&&T.delete(h),h=Li(),d.pingedLanes|=d.suspendedLanes&w,Br===d&&(Ir&w)===w&&(Lr===4||Lr===3&&(Ir&130023424)===Ir&&500>fi()-cv?Es(d,0):lv|=w),$t(d,h)}function Cb(d,h){h===0&&(d.mode&1?(h=zu,zu<<=1,!(zu&130023424)&&(zu=4194304)):h=1);var w=Li();d=hf(d,h),d!==null&&(Bu(d,h,w),$t(d,w))}function ql(d){var h=d.memoizedState,w=0;h!==null&&(w=h.retryLane),Cb(d,w)}function Tb(d,h){var w=0;switch(d.tag){case 13:var T=d.stateNode,I=d.memoizedState;I!==null&&(w=I.retryLane);break;case 19:T=d.stateNode;break;default:throw Error(a(314))}T!==null&&T.delete(h),Cb(d,w)}var gv;gv=function(d,h,w){if(d!==null)if(d.memoizedProps!==h.pendingProps||vr.current)Ro=!0;else{if(!(d.lanes&w)&&!(h.flags&128))return Ro=!1,z2(d,h,w);Ro=!!(d.flags&131072)}else Ro=!1,ar&&h.flags&1048576&&Vx(h,_d,h.index);switch(h.lanes=0,h.tag){case 2:var T=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var I=co(h,Mn.current);Pc(h,w),I=Fn(null,h,T,d,I,w);var D=V0();return h.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ci(T)?(D=!0,ui(h)):D=!1,h.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,F0(h),I.updater=Ap,h.stateNode=I,I._reactInternals=h,Vu(h,T,d,w),h=K0(null,h,T,!0,D,w)):(h.tag=0,ar&&D&&Rp(h),Pr(null,h,I,w),h=h.child),h;case 16:T=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,I=T._init,T=I(T._payload),h.type=T,I=h.tag=Ab(T),d=yi(T,d),I){case 0:h=Oa(null,h,T,d,w);break e;case 1:h=fb(null,h,T,d,w);break e;case 11:h=ab(null,h,T,d,w);break e;case 14:h=sb(null,h,T,yi(T.type,d),w);break e}throw Error(a(306,T,""))}return h;case 0:return T=h.type,I=h.pendingProps,I=h.elementType===T?I:yi(T,I),Oa(d,h,T,I,w);case 1:return T=h.type,I=h.pendingProps,I=h.elementType===T?I:yi(T,I),fb(d,h,T,I,w);case 3:e:{if(db(h),d===null)throw Error(a(387));T=h.pendingProps,D=h.memoizedState,I=D.element,U0(d,h),Aa(h,T,null,w);var re=h.memoizedState;if(T=re.element,Ae&&D.isDehydrated)if(D={element:T,isDehydrated:!1,cache:re.cache,transitions:re.transitions},h.updateQueue.baseState=D,h.memoizedState=D,h.flags&256){I=Error(a(423)),h=hb(d,h,T,w,I);break e}else if(T!==I){I=Error(a(424)),h=hb(d,h,T,w,I);break e}else for(Ae&&(bi=Zo(h.stateNode.containerInfo),Ki=h,ar=!0,Ia=null,Gu=!1),w=Xx(h,null,T,w),h.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(ju(),T===I){h=ei(d,h,w);break e}Pr(d,h,T,w)}h=h.child}return h;case 5:return qx(h),d===null&&$0(h),T=h.type,I=h.pendingProps,D=d!==null?d.memoizedProps:null,re=I.children,Te(T,I)?re=null:D!==null&&Te(T,D)&&(h.flags|=32),ub(d,h),Pr(d,h,re,w),h.child;case 6:return d===null&&$0(h),null;case 13:return pb(d,h,w);case 4:return H0(h,h.stateNode.containerInfo),T=h.pendingProps,d===null?h.child=qu(h,null,T,w):Pr(d,h,T,w),h.child;case 11:return T=h.type,I=h.pendingProps,I=h.elementType===T?I:yi(T,I),ab(d,h,T,I,w);case 7:return Pr(d,h,h.pendingProps,w),h.child;case 8:return Pr(d,h,h.pendingProps.children,w),h.child;case 12:return Pr(d,h,h.pendingProps.children,w),h.child;case 10:e:{if(T=h.type._context,I=h.pendingProps,D=h.memoizedProps,re=I.value,D0(h,T,re),D!==null)if(gs(D.value,re)){if(D.children===I.children&&!vr.current){h=ei(d,h,w);break e}}else for(D=h.child,D!==null&&(D.return=h);D!==null;){var he=D.dependencies;if(he!==null){re=D.child;for(var Pe=he.firstContext;Pe!==null;){if(Pe.context===T){if(D.tag===1){Pe=Ai(-1,w&-w),Pe.tag=2;var tt=D.updateQueue;if(tt!==null){tt=tt.shared;var wt=tt.pending;wt===null?Pe.next=Pe:(Pe.next=wt.next,wt.next=Pe),tt.pending=Pe}}D.lanes|=w,Pe=D.alternate,Pe!==null&&(Pe.lanes|=w),Cp(D.return,w,h),he.lanes|=w;break}Pe=Pe.next}}else if(D.tag===10)re=D.type===h.type?null:D.child;else if(D.tag===18){if(re=D.return,re===null)throw Error(a(341));re.lanes|=w,he=re.alternate,he!==null&&(he.lanes|=w),Cp(re,w,h),re=D.sibling}else re=D.child;if(re!==null)re.return=D;else for(re=D;re!==null;){if(re===h){re=null;break}if(D=re.sibling,D!==null){D.return=re.return,re=D;break}re=re.return}D=re}Pr(d,h,I.children,w),h=h.child}return h;case 9:return I=h.type,T=h.pendingProps.children,Pc(h,w),I=dr(I),T=T(I),h.flags|=1,Pr(d,h,T,w),h.child;case 14:return T=h.type,I=yi(T,h.pendingProps),I=yi(T.type,I),sb(d,h,T,I,w);case 15:return lb(d,h,h.type,h.pendingProps,w);case 17:return T=h.type,I=h.pendingProps,I=h.elementType===T?I:yi(T,I),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,ci(T)?(d=!0,ui(h)):d=!1,Pc(h,w),Hx(h,T,I),Vu(h,T,I,w),K0(null,h,T,!0,d,w);case 19:return vb(d,h,w);case 22:return cb(d,h,w)}throw Error(a(156,h.tag))};function qp(d,h){return bp(d,h)}function W2(d,h,w,T){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(d,h,w,T){return new W2(d,h,w,T)}function vv(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Ab(d){if(typeof d=="function")return vv(d)?1:0;if(d!=null){if(d=d.$$typeof,d===_)return 11;if(d===S)return 14}return 2}function il(d,h){var w=d.alternate;return w===null?(w=ta(d.tag,h,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=h,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,h=d.dependencies,w.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function Yp(d,h,w,T,I,D){var re=2;if(T=d,typeof d=="function")vv(d)&&(re=1);else if(typeof d=="string")re=5;else e:switch(d){case f:return Yl(w.children,I,D,h);case p:re=8,I|=8;break;case m:return d=ta(12,w,h,I|2),d.elementType=m,d.lanes=D,d;case b:return d=ta(13,w,h,I),d.elementType=b,d.lanes=D,d;case y:return d=ta(19,w,h,I),d.elementType=y,d.lanes=D,d;case C:return Gd(w,I,D,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case v:re=10;break e;case x:re=9;break e;case _:re=11;break e;case S:re=14;break e;case M:re=16,T=null;break e}throw Error(a(130,d==null?d:typeof d,""))}return h=ta(re,w,h,I),h.elementType=d,h.type=T,h.lanes=D,h}function Yl(d,h,w,T){return d=ta(7,d,T,h),d.lanes=w,d}function Gd(d,h,w,T){return d=ta(22,d,T,h),d.elementType=C,d.lanes=w,d.stateNode={},d}function Ni(d,h,w){return d=ta(6,d,null,h),d.lanes=w,d}function na(d,h,w){return h=ta(4,d.children!==null?d.children:[],d.key,h),h.lanes=w,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function G2(d,h,w,T,I){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ct,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=T,this.onRecoverableError=I,Ae&&(this.mutableSourceEagerHydrationData=null)}function Rb(d,h,w,T,I,D,re,he,Pe){return d=new G2(d,h,w,he,Pe),h===1?(h=1,D===!0&&(h|=8)):h=0,D=ta(3,null,null,h),d.current=D,D.stateNode=d,D.memoizedState={element:T,isDehydrated:w,cache:null,transitions:null},F0(D),d}function jd(d){if(!d)return Qo;d=d._reactInternals;e:{if(O(d)!==d||d.tag!==1)throw Error(a(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ci(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(a(171))}if(d.tag===1){var w=d.type;if(ci(w))return Ac(d,w,h)}return h}function $c(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(a(188)):(d=Object.keys(d).join(","),Error(a(268,d)));return d=Y(h),d===null?null:d.stateNode}function yv(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<h?w:h}}function Kp(d,h){yv(d,h),(d=d.alternate)&&yv(d,h)}function j2(d){return d=Y(d),d===null?null:d.stateNode}function Pb(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var h=Li();ea(d,134217728,h),Kp(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=Li(),w=Ms(d);ea(d,w,h),Kp(d,w)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var w=ps(h.pendingLanes);w!==0&&(L0(h,w|1),$t(h,fi()),!(mn&6)&&(zc(),Ca()))}break;case 13:var T=Li();Oo(function(){return ea(d,1,T)}),Kp(d,1)}},n.batchedUpdates=function(d,h){var w=mn;mn|=1;try{return d(h)}finally{mn=w,mn===0&&(zc(),wp&&Ca())}},n.createComponentSelector=function(d){return{$$typeof:of,value:d}},n.createContainer=function(d,h,w,T,I,D,re){return Rb(d,h,!1,null,w,T,I,D,re)},n.createHasPseudoClassSelector=function(d){return{$$typeof:Ud,value:d}},n.createHydrationContainer=function(d,h,w,T,I,D,re,he,Pe){return d=Rb(w,T,!0,d,I,D,re,he,Pe),d.context=jd(null),w=d.current,T=Li(),I=Ms(w),D=Ai(T,I),D.callback=h??null,Ta(w,D),d.current.lanes=I,Bu(d,I,T),$t(d,T),d},n.createPortal=function(d,h,w){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:d,containerInfo:h,implementation:w}},n.createRoleSelector=function(d){return{$$typeof:Io,value:d}},n.createTestNameSelector=function(d){return{$$typeof:af,value:d}},n.createTextSelector=function(d){return{$$typeof:Uc,value:d}},n.deferredUpdates=function(d){var h=Dn,w=sr.transition;try{return sr.transition=null,Dn=16,d()}finally{Dn=h,sr.transition=w}},n.discreteUpdates=function(d,h,w,T,I){var D=Dn,re=sr.transition;try{return sr.transition=null,Dn=1,d(h,w,T,I)}finally{Dn=D,sr.transition=re,mn===0&&zc()}},n.findAllNodes=av,n.findBoundingRects=function(d,h){if(!ft)throw Error(a(363));h=av(d,h),d=[];for(var w=0;w<h.length;w++)d.push(Ht(h[w]));for(h=d.length-1;0<h;h--){w=d[h];for(var T=w.x,I=T+w.width,D=w.y,re=D+w.height,he=h-1;0<=he;he--)if(h!==he){var Pe=d[he],tt=Pe.x,wt=tt+Pe.width,sn=Pe.y,Ft=sn+Pe.height;if(T>=tt&&D>=sn&&I<=wt&&re<=Ft){d.splice(h,1);break}else if(T!==tt||w.width!==Pe.width||Ft<D||sn>re){if(!(D!==sn||w.height!==Pe.height||wt<T||tt>I)){tt>T&&(Pe.width+=tt-T,Pe.x=T),wt<I&&(Pe.width=I-tt),d.splice(h,1);break}}else{sn>D&&(Pe.height+=sn-D,Pe.y=D),Ft<re&&(Pe.height=re-sn),d.splice(h,1);break}}}return d},n.findHostInstance=$c,n.findHostInstanceWithNoPortals=function(d){return d=B(d),d=d!==null?G(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return $c(d)},n.flushControlled=function(d){var h=mn;mn|=1;var w=sr.transition,T=Dn;try{sr.transition=null,Dn=1,d()}finally{Dn=T,sr.transition=w,mn=h,mn===0&&(zc(),Ca())}},n.flushPassiveEffects=jl,n.flushSync=Oo,n.focusWithin=function(d,h){if(!ft)throw Error(a(363));for(d=zp(d),h=wb(d,h),h=Array.from(h),d=0;d<h.length;){var w=h[d++];if(!$(w)){if(w.tag===5&&Ge(w.stateNode))return!0;for(w=w.child;w!==null;)h.push(w),w=w.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Dn},n.getFindAllNodesFailureDescription=function(d,h){if(!ft)throw Error(a(363));var w=0,T=[];d=[zp(d),0];for(var I=0;I<d.length;){var D=d[I++],re=d[I++],he=h[re];if((D.tag!==5||!$(D))&&(_i(D,he)&&(T.push(zd(he)),re++,re>w&&(w=re)),re<h.length))for(D=D.child;D!==null;)d.push(D,re),D=D.sibling}if(w<h.length){for(d=[];w<h.length;w++)d.push(zd(h[w]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return ie(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:j2,findFiberByHostInstance:d.findFiberByHostInstance||Pb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{_p=h.inject(d),ms=h}catch{}d=!!h.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,h,w,T){if(!ft)throw Error(a(363));d=av(d,h);var I=Le(d,w,T).disconnect;return{disconnect:function(){I()}}},n.registerMutableSourceForHydration=function(d,h){var w=h._getVersion;w=w(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,w]:d.mutableSourceEagerHydrationData.push(h,w)},n.runWithPriority=function(d,h){var w=Dn;try{return Dn=d,h()}finally{Dn=w}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,h,w,T){var I=h.current,D=Li(),re=Ms(I);return w=jd(w),h.context===null?h.context=w:h.pendingContext=w,h=Ai(D,re),h.payload={element:d},T=T===void 0?null:T,T!==null&&(h.callback=T),Ta(I,h),d=ea(I,re,D),d!==null&&Hu(d,I,re),re},n};sH.exports=s1e;var l1e=sH.exports;const c1e=Au(l1e),_L={},uH=t=>void Object.assign(_L,t);function u1e(t,e){function n(f,{args:p=[],attach:m,...v},x){let _=`${f[0].toUpperCase()}${f.slice(1)}`,b;if(f==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=v.object;b=Um(y,{type:f,root:x,attach:m,primitive:!0})}else{const y=_L[_];if(!y)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(p))throw new Error("R3F: The args prop must be an array!");b=Um(new y(...p),{type:f,root:x,attach:m,memoizedProps:{args:p}})}return b.__r3f.attach===void 0&&(b instanceof Tn?b.__r3f.attach="geometry":b instanceof so&&(b.__r3f.attach="material")),_!=="inject"&&NT(b,v),b}function r(f,p){let m=!1;if(p){var v,x;(v=p.__r3f)!=null&&v.attach?kT(f,p,p.__r3f.attach):p.isObject3D&&f.isObject3D&&(f.add(p),m=!0),m||(x=f.__r3f)==null||x.objects.push(p),p.__r3f||Um(p,{}),p.__r3f.parent=f,_3(p),zm(p)}}function i(f,p,m){let v=!1;if(p){var x,_;if((x=p.__r3f)!=null&&x.attach)kT(f,p,p.__r3f.attach);else if(p.isObject3D&&f.isObject3D){p.parent=f,p.dispatchEvent({type:"added"});const b=f.children.filter(S=>S!==p),y=b.indexOf(m);f.children=[...b.slice(0,y),p,...b.slice(y)],v=!0}v||(_=f.__r3f)==null||_.objects.push(p),p.__r3f||Um(p,{}),p.__r3f.parent=f,_3(p),zm(p)}}function o(f,p,m=!1){f&&[...f].forEach(v=>a(p,v,m))}function a(f,p,m){if(p){var v,x,_;if(p.__r3f&&(p.__r3f.parent=null),(v=f.__r3f)!=null&&v.objects&&(f.__r3f.objects=f.__r3f.objects.filter(C=>C!==p)),(x=p.__r3f)!=null&&x.attach)KD(f,p,p.__r3f.attach);else if(p.isObject3D&&f.isObject3D){var b;f.remove(p),(b=p.__r3f)!=null&&b.root&&y1e(p.__r3f.root,p)}const S=(_=p.__r3f)==null?void 0:_.primitive,M=m===void 0?p.dispose!==null&&!S:m;if(!S){var y;o((y=p.__r3f)==null?void 0:y.objects,p,M),o(p.children,p,M)}delete p.__r3f,M&&p.dispose&&p.type!=="Scene"&&x3.unstable_scheduleCallback(x3.unstable_IdlePriority,()=>{try{p.dispose()}catch{}}),zm(f)}}function s(f,p,m,v){var x;const _=(x=f.__r3f)==null?void 0:x.parent;if(!_)return;const b=n(p,m,f.__r3f.root);if(f.children){for(const y of f.children)y.__r3f&&r(b,y);f.children=f.children.filter(y=>!y.__r3f)}f.__r3f.objects.forEach(y=>r(b,y)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||a(_,f),b.parent&&(b.__r3f.autoRemovedBeforeAppend=!0),r(_,b),b.raycast&&b.__r3f.eventCount&&b.__r3f.root.getState().internal.interaction.push(b),[v,v.alternate].forEach(y=>{y!==null&&(y.stateNode=b,y.ref&&(typeof y.ref=="function"?y.ref(b):y.ref.current=b))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:c1e({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,p)=>{if(!p)return;const m=f.getState().scene;m.__r3f&&(m.__r3f.root=f,r(m,p))},removeChildFromContainer:(f,p)=>{p&&a(f.getState().scene,p)},insertInContainerBefore:(f,p,m)=>{if(!p||!m)return;const v=f.getState().scene;v.__r3f&&i(v,p,m)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var p;return!!((p=f==null?void 0:f.__r3f)!=null?p:{}).handlers},prepareUpdate(f,p,m,v){var x;if(((x=f==null?void 0:f.__r3f)!=null?x:{}).primitive&&v.object&&v.object!==f)return[!0];{const{args:b=[],children:y,...S}=v,{args:M=[],children:C,...P}=m;if(!Array.isArray(b))throw new Error("R3F: the args prop must be an array!");if(b.some((R,U)=>R!==M[U]))return[!0];const A=vH(f,S,P,!0);return A.changes.length?[!1,A]:null}},commitUpdate(f,[p,m],v,x,_,b){p?s(f,v,_,b):NT(f,m)},commitMount(f,p,m,v){var x;const _=(x=f.__r3f)!=null?x:{};f.raycast&&_.handlers&&_.eventCount&&f.__r3f.root.getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>Um(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var p;const{attach:m,parent:v}=(p=f.__r3f)!=null?p:{};m&&v&&KD(v,f,m),f.isObject3D&&(f.visible=!1),zm(f)},unhideInstance(f,p){var m;const{attach:v,parent:x}=(m=f.__r3f)!=null?m:{};v&&x&&kT(x,f,v),(f.isObject3D&&p.visible==null||p.visible)&&(f.visible=!0),zm(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():xg.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Mr.fun(performance.now)?performance.now:Mr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Mr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Mr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:NT}}var jD,XD;const OT=t=>"colorSpace"in t||"outputColorSpace"in t,fH=()=>{var t;return(t=_L.ColorManagement)!=null?t:null},dH=t=>t&&t.isOrthographicCamera,f1e=t=>t&&t.hasOwnProperty("current"),xx=typeof window<"u"&&((jD=window.document)!=null&&jD.createElement||((XD=window.navigator)==null?void 0:XD.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function hH(t){const e=F.useRef(t);return xx(()=>void(e.current=t),[t]),e}function d1e({set:t}){return xx(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class pH extends F.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}pH.getDerivedStateFromError=()=>({error:!0});const mH="__default",qD=new Map,h1e=t=>t&&!!t.memoized&&!!t.changes;function gH(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const jv=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Mr={obj:t=>t===Object(t)&&!Mr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Mr.str(t)||Mr.num(t))return t===e;const o=Mr.obj(t);if(o&&r==="reference")return t===e;const a=Mr.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!Mr.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(Mr.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function p1e(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Um(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function b3(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const YD=/-\d+$/;function kT(t,e,n){if(Mr.str(n)){if(YD.test(n)){const o=n.replace(YD,""),{target:a,key:s}=b3(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=b3(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function KD(t,e,n){var r,i;if(Mr.str(n)){const{target:o,key:a}=b3(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function vH(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},c=!1){var f;const p=(f=t==null?void 0:t.__r3f)!=null?f:{},m=Object.entries(i),v=[];if(c){const _=Object.keys(l);for(let b=0;b<_.length;b++)i.hasOwnProperty(_[b])||m.unshift([_[b],mH+"remove"])}m.forEach(([_,b])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&_==="object"||Mr.equ(b,l[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return v.push([_,b,!0,[]]);let S=[];_.includes("-")&&(S=_.split("-")),v.push([_,b,!1,S]);for(const M in i){const C=i[M];M.startsWith(`${_}-`)&&v.push([M,C,!1,M.split("-")])}});const x={...i};return p.memoizedProps&&p.memoizedProps.args&&(x.args=p.memoizedProps.args),p.memoizedProps&&p.memoizedProps.attach&&(x.attach=p.memoizedProps.attach),{memoized:x,changes:v}}const m1e=typeof process<"u"&&!1;function NT(t,e){var n,r,i;const o=(n=t.__r3f)!=null?n:{},a=o.root,s=(r=a==null||a.getState==null?void 0:a.getState())!=null?r:{},{memoized:l,changes:c}=h1e(e)?e:vH(t,e),f=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let m=0;m<c.length;m++){let[v,x,_,b]=c[m];if(OT(t)){const C="srgb",P="srgb-linear";v==="encoding"?(v="colorSpace",x=x===3001?C:P):v==="outputEncoding"&&(v="outputColorSpace",x=x===3001?C:P)}let y=t,S=y[v];if(b.length&&(S=b.reduce((M,C)=>M[C],t),!(S&&S.set))){const[M,...C]=b.reverse();y=C.reverse().reduce((P,A)=>P[A],t),v=M}if(x===mH+"remove")if(y.constructor){let M=qD.get(y.constructor);M||(M=new y.constructor,qD.set(y.constructor,M)),x=M[v]}else x=0;if(_)x?o.handlers[v]=x:delete o.handlers[v],o.eventCount=Object.keys(o.handlers).length;else if(S&&S.set&&(S.copy||S instanceof Nh)){if(Array.isArray(x))S.fromArray?S.fromArray(x):S.set(...x);else if(S.copy&&x&&x.constructor&&(m1e?S.constructor.name===x.constructor.name:S.constructor===x.constructor))S.copy(x);else if(x!==void 0){const M=S instanceof _t;!M&&S.setScalar?S.setScalar(x):S instanceof Nh&&x instanceof Nh?S.mask=x.mask:S.set(x),!fH()&&!s.linear&&M&&S.convertSRGBToLinear()}}else if(y[v]=x,y[v]instanceof Kr&&y[v].format===Wo&&y[v].type===is){const M=y[v];OT(M)&&OT(s.gl)?M.colorSpace=s.gl.outputColorSpace:M.encoding=s.gl.outputEncoding}zm(t)}if(o.parent&&s.internal&&t.raycast&&f!==o.eventCount){const m=s.internal.interaction.indexOf(t);m>-1&&s.internal.interaction.splice(m,1),o.eventCount&&s.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&_3(t),t}function zm(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function _3(t){t.onUpdate==null||t.onUpdate(t)}function g1e(t,e){t.manual||(dH(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function rw(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function v1e(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return xg.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return xg.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return xg.ContinuousEventPriority;default:return xg.DefaultEventPriority}}function yH(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function y1e(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{yH(n.capturedMap,e,r,i)})}function x1e(t){function e(l){const{internal:c}=t.getState(),f=l.offsetX-c.initialClick[0],p=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+p*p))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var p;return(p=c.__r3f)==null?void 0:p.handlers["onPointer"+f]}))}function r(l,c){const f=t.getState(),p=new Set,m=[],v=c?c(f.internal.interaction):f.internal.interaction;for(let y=0;y<v.length;y++){const S=jv(v[y]);S&&(S.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function x(y){const S=jv(y);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var M;S.events.compute==null||S.events.compute(l,S,(M=S.previousRoot)==null?void 0:M.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(y,!0):[]}let _=v.flatMap(x).sort((y,S)=>{const M=jv(y.object),C=jv(S.object);return!M||!C?y.distance-S.distance:C.events.priority-M.events.priority||y.distance-S.distance}).filter(y=>{const S=rw(y);return p.has(S)?!1:(p.add(S),!0)});f.events.filter&&(_=f.events.filter(_,f));for(const y of _){let S=y.object;for(;S;){var b;(b=S.__r3f)!=null&&b.eventCount&&m.push({...y,eventObject:S}),S=S.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let y of f.internal.capturedMap.get(l.pointerId).values())p.has(rw(y.intersection))||m.push(y.intersection);return m}function i(l,c,f,p){const m=t.getState();if(l.length){const v={stopped:!1};for(const x of l){const _=jv(x.object)||m,{raycaster:b,pointer:y,camera:S,internal:M}=_,C=new K(y.x,y.y,0).unproject(S),P=N=>{var B,Y;return(B=(Y=M.capturedMap.get(N))==null?void 0:Y.has(x.eventObject))!=null?B:!1},A=N=>{const B={intersection:x,target:c.target};M.capturedMap.has(N)?M.capturedMap.get(N).set(x.eventObject,B):M.capturedMap.set(N,new Map([[x.eventObject,B]])),c.target.setPointerCapture(N)},R=N=>{const B=M.capturedMap.get(N);B&&yH(M.capturedMap,x.eventObject,B,N)};let U={};for(let N in c){let B=c[N];typeof B!="function"&&(U[N]=B)}let O={...x,...U,pointer:y,intersections:l,stopped:v.stopped,delta:f,unprojectedPoint:C,ray:b.ray,camera:S,stopPropagation(){const N="pointerId"in c&&M.capturedMap.get(c.pointerId);if((!N||N.has(x.eventObject))&&(O.stopped=v.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(B=>B.eventObject===x.eventObject))){const B=l.slice(0,l.indexOf(x));o([...B,x])}},target:{hasPointerCapture:P,setPointerCapture:A,releasePointerCapture:R},currentTarget:{hasPointerCapture:P,setPointerCapture:A,releasePointerCapture:R},nativeEvent:c};if(p(O),v.stopped===!0)break}}return l}function o(l){const{internal:c}=t.getState();for(const f of c.hovered.values())if(!l.length||!l.find(p=>p.object===f.object&&p.index===f.index&&p.instanceId===f.instanceId)){const m=f.eventObject.__r3f,v=m==null?void 0:m.handlers;if(c.hovered.delete(rw(f)),m!=null&&m.eventCount){const x={...f,intersections:l};v.onPointerOut==null||v.onPointerOut(x),v.onPointerLeave==null||v.onPointerLeave(x)}}}function a(l,c){for(let f=0;f<c.length;f++){const p=c[f].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:f}=t.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),o([]))})}}return function(f){const{onPointerMissed:p,internal:m}=t.getState();m.lastEvent.current=f;const v=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",b=r(f,v?n:void 0),y=x?e(f):0;l==="onPointerDown"&&(m.initialClick=[f.offsetX,f.offsetY],m.initialHits=b.map(M=>M.eventObject)),x&&!b.length&&y<=2&&(a(f,m.interaction),p&&p(f)),v&&o(b);function S(M){const C=M.eventObject,P=C.__r3f,A=P==null?void 0:P.handlers;if(P!=null&&P.eventCount)if(v){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const R=rw(M),U=m.hovered.get(R);U?U.stopped&&M.stopPropagation():(m.hovered.set(R,M),A.onPointerOver==null||A.onPointerOver(M),A.onPointerEnter==null||A.onPointerEnter(M))}A.onPointerMove==null||A.onPointerMove(M)}else{const R=A[l];R?(!x||m.initialHits.includes(C))&&(a(f,m.interaction.filter(U=>!m.initialHits.includes(U))),R(M)):x&&m.initialHits.includes(C)&&a(f,m.interaction.filter(U=>!m.initialHits.includes(U)))}}i(b,f,y,S)}}return{handlePointer:s}}const xH=t=>!!(t!=null&&t.render),bH=F.createContext(null),b1e=(t,e)=>{const n=a1e((s,l)=>{const c=new K,f=new K,p=new K;function m(y=l().camera,S=f,M=l().size){const{width:C,height:P,top:A,left:R}=M,U=C/P;S instanceof K?p.copy(S):p.set(...S);const O=y.getWorldPosition(c).distanceTo(p);if(dH(y))return{width:C/y.zoom,height:P/y.zoom,top:A,left:R,factor:1,distance:O,aspect:U};{const N=y.fov*Math.PI/180,B=2*Math.tan(N/2)*O,Y=B*(C/P);return{width:Y,height:B,top:A,left:R,factor:C/Y,distance:O,aspect:U}}}let v;const x=y=>s(S=>({performance:{...S.performance,current:y}})),_=new ze;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>t(l(),y),advance:(y,S)=>e(y,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new vL,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();v&&clearTimeout(v),y.performance.current!==y.performance.min&&x(y.performance.min),v=setTimeout(()=>x(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:y=>s(S=>({...S,events:{...S.events,...y}})),setSize:(y,S,M,C,P)=>{const A=l().camera,R={width:y,height:S,top:C||0,left:P||0,updateStyle:M};s(U=>({size:R,viewport:{...U.viewport,...m(A,f,R)}}))},setDpr:y=>s(S=>{const M=gH(y);return{viewport:{...S.viewport,dpr:M,initialDpr:S.viewport.initialDpr||M}}}),setFrameloop:(y="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,y!=="never"&&(S.start(),S.elapsedTime=0),s(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:F.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,S,M)=>{const C=l().internal;return C.priority=C.priority+(S>0?1:0),C.subscribers.push({ref:y,priority:S,store:M}),C.subscribers=C.subscribers.sort((P,A)=>P.priority-A.priority),()=>{const P=l().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(S>0?1:0),P.subscribers=P.subscribers.filter(A=>A.ref!==y))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:c,gl:f,set:p}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var m;i=l,o=c.dpr,g1e(s,l),f.setPixelRatio(c.dpr);const v=(m=l.updateStyle)!=null?m:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,v)}s!==a&&(a=s,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let iw,_1e=new Set,w1e=new Set,S1e=new Set;function DT(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Xv(t,e){switch(t){case"before":return DT(_1e,e);case"after":return DT(w1e,e);case"tail":return DT(S1e,e)}}let FT,UT;function zT(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),FT=e.internal.subscribers,iw=0;iw<FT.length;iw++)UT=FT[iw],UT.ref.current(UT.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function M1e(t){let e=!1,n,r,i;function o(l){r=requestAnimationFrame(o),e=!0,n=0,Xv("before",l);for(const f of t.values()){var c;i=f.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=zT(l,i))}if(Xv("after",l),n===0)return Xv("tail",l),e=!1,cancelAnimationFrame(r)}function a(l,c=1){var f;if(!l)return t.forEach(p=>a(p.store.getState()),c);(f=l.gl.xr)!=null&&f.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(o)))}function s(l,c=!0,f,p){if(c&&Xv("before",l),f)zT(l,f,p);else for(const m of t.values())zT(l,m.store.getState());c&&Xv("after",l)}return{loop:o,invalidate:a,advance:s}}function _H(){const t=F.useContext(bH);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function oo(t=n=>n,e){return _H()(t,e)}function wL(t,e=0){const n=_H(),r=n.getState().internal.subscribe,i=hH(t);return xx(()=>r(i,e,n),[e,r,n]),null}const i0=new Map,{invalidate:ZD,advance:QD}=M1e(i0),{reconciler:HS,applyProps:Rm}=u1e(i0,v1e),Pm={objects:"shallow",strict:!1},E1e=(t,e)=>{const n=typeof t=="function"?t(e):t;return xH(n)?n:new eL({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function C1e(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function T1e(t){const e=i0.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||b1e(ZD,QD),a=n||HS.createContainer(o,xg.ConcurrentRoot,null,!1,null,"",i,null);e||i0.set(t,{fiber:a,store:o});let s,l=!1,c;return{configure(f={}){let{gl:p,size:m,scene:v,events:x,onCreated:_,shadows:b=!1,linear:y=!1,flat:S=!1,legacy:M=!1,orthographic:C=!1,frameloop:P="always",dpr:A=[1,2],performance:R,raycaster:U,camera:O,onPointerMissed:N}=f,B=o.getState(),Y=B.gl;B.gl||B.set({gl:Y=E1e(p,t)});let J=B.raycaster;J||B.set({raycaster:J=new iH});const{params:G,...ne}=U||{};if(Mr.equ(ne,J,Pm)||Rm(J,{...ne}),Mr.equ(G,J.params,Pm)||Rm(J,{params:{...J.params,...G}}),!B.camera||B.camera===c&&!Mr.equ(c,O,Pm)){c=O;const ae=O instanceof fx,xe=ae?O:C?new px(0,0,0,0,.1,1e3):new Hi(75,0,.1,1e3);ae||(xe.position.z=5,O&&Rm(xe,O),!B.camera&&!(O!=null&&O.rotation)&&xe.lookAt(0,0,0)),B.set({camera:xe}),J.camera=xe}if(!B.scene){let ae;v instanceof BS?ae=v:(ae=new BS,v&&Rm(ae,v)),B.set({scene:Um(ae)})}if(!B.xr){var ie;const ae=(Te,Ve)=>{const Ye=o.getState();Ye.frameloop!=="never"&&QD(Te,!0,Ye,Ve)},xe=()=>{const Te=o.getState();Te.gl.xr.enabled=Te.gl.xr.isPresenting,Te.gl.xr.setAnimationLoop(Te.gl.xr.isPresenting?ae:null),Te.gl.xr.isPresenting||ZD(Te)},we={connect(){const Te=o.getState().gl;Te.xr.addEventListener("sessionstart",xe),Te.xr.addEventListener("sessionend",xe)},disconnect(){const Te=o.getState().gl;Te.xr.removeEventListener("sessionstart",xe),Te.xr.removeEventListener("sessionend",xe)}};typeof((ie=Y.xr)==null?void 0:ie.addEventListener)=="function"&&we.connect(),B.set({xr:we})}if(Y.shadowMap){const ae=Y.shadowMap.enabled,xe=Y.shadowMap.type;if(Y.shadowMap.enabled=!!b,Mr.boo(b))Y.shadowMap.type=Ly;else if(Mr.str(b)){var se;const we={basic:Y$,percentage:EE,soft:Ly,variance:ml};Y.shadowMap.type=(se=we[b])!=null?se:Ly}else Mr.obj(b)&&Object.assign(Y.shadowMap,b);(ae!==Y.shadowMap.enabled||xe!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}const H=fH();H&&("enabled"in H?H.enabled=!M:"legacyMode"in H&&(H.legacyMode=M)),Rm(Y,{outputEncoding:y?3e3:3001,toneMapping:S?pc:NI}),B.legacy!==M&&B.set(()=>({legacy:M})),B.linear!==y&&B.set(()=>({linear:y})),B.flat!==S&&B.set(()=>({flat:S})),p&&!Mr.fun(p)&&!xH(p)&&!Mr.equ(p,Y,Pm)&&Rm(Y,p),x&&!B.events.handlers&&B.set({events:x(o)});const Q=C1e(t,m);return Mr.equ(Q,B.size,Pm)||B.setSize(Q.width,Q.height,Q.updateStyle,Q.top,Q.left),A&&B.viewport.dpr!==gH(A)&&B.setDpr(A),B.frameloop!==P&&B.setFrameloop(P),B.onPointerMissed||B.set({onPointerMissed:N}),R&&!Mr.equ(R,B.performance,Pm)&&B.set(ae=>({performance:{...ae.performance,...R}})),s=_,l=!0,this},render(f){return l||this.configure(),HS.updateContainer(F.createElement(A1e,{store:o,children:f,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){wH(t)}}}function A1e({store:t,children:e,onCreated:n,rootElement:r}){return xx(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),F.createElement(bH.Provider,{value:t},e)}function wH(t,e){const n=i0.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),HS.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),p1e(i),i0.delete(t),e&&e(t)}catch{}},500)})}}HS.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:F.version});function w3(t,e,n){var r,i,o,a,s;e==null&&(e=100);function l(){var f=Date.now()-a;f<e&&f>=0?r=setTimeout(l,e-f):(r=null,n||(s=t.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,a=Date.now();var f=n&&!r;return r||(r=setTimeout(l,e)),f&&(s=t.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}w3.debounce=w3;var R1e=w3;const JD=Au(R1e);function P1e(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=F.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=F.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),c=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,p=F.useRef(!1);F.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[m,v,x]=F.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:M,top:C,width:P,height:A,bottom:R,right:U,x:O,y:N}=l.current.element.getBoundingClientRect(),B={left:M,top:C,width:P,height:A,bottom:R,right:U,x:O,y:N};l.current.element instanceof HTMLElement&&i&&(B.height=l.current.element.offsetHeight,B.width=l.current.element.offsetWidth),Object.freeze(B),p.current&&!k1e(l.current.lastBounds,B)&&s(l.current.lastBounds=B)};return[S,f?JD(S,f):S,c?JD(S,c):S]},[s,i,c,f]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",x,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function b(){l.current.element&&(l.current.resizeObserver=new o(x),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",x,{capture:!0,passive:!0})))}const y=S=>{!S||S===l.current.element||(_(),l.current.element=S,l.current.scrollContainers=SH(S),b())};return L1e(x,!!n),I1e(v),F.useEffect(()=>{_(),b()},[n,x,v]),F.useEffect(()=>_,[]),[y,a,m]}function I1e(t){F.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function L1e(t,e){F.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function SH(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...SH(t.parentElement)]}const O1e=["x","y","top","bottom","left","right","width","height"],k1e=(t,e)=>O1e.every(n=>t[n]===e[n]);var N1e=Object.defineProperty,D1e=Object.defineProperties,F1e=Object.getOwnPropertyDescriptors,eF=Object.getOwnPropertySymbols,U1e=Object.prototype.hasOwnProperty,z1e=Object.prototype.propertyIsEnumerable,tF=(t,e,n)=>e in t?N1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nF=(t,e)=>{for(var n in e||(e={}))U1e.call(e,n)&&tF(t,n,e[n]);if(eF)for(var n of eF(e))z1e.call(e,n)&&tF(t,n,e[n]);return t},B1e=(t,e)=>D1e(t,F1e(e));function MH(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=MH(r,e,n);if(i)return i;r=e?null:r.sibling}}function EH(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const SL=EH(F.createContext(null));class CH extends F.Component{render(){return F.createElement(SL.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:rF,ReactCurrentDispatcher:iF}=F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $1e(){const t=F.useContext(SL);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=F.useId();return F.useMemo(()=>{for(const r of[rF==null?void 0:rF.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=MH(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function H1e(){var t,e;const n=$1e(),[r]=F.useState(()=>new Map);r.clear();let i=n;for(;i;){const o=(t=i.type)==null?void 0:t._context;o&&o!==SL&&!r.has(o)&&r.set(o,(e=iF==null?void 0:iF.current)==null?void 0:e.readContext(EH(o))),i=i.return}return r}function V1e(){const t=H1e();return F.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>F.createElement(e,null,F.createElement(n.Provider,B1e(nF({},r),{value:t.get(n)}))),e=>F.createElement(CH,nF({},e))),[t])}const BT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function W1e(t){const{handlePointer:e}=x1e(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(BT).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,c]=BT[a];n.addEventListener(l,s,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=BT[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const G1e=F.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=W1e,eventSource:s,eventPrefix:l,shadows:c,linear:f,flat:p,legacy:m,orthographic:v,frameloop:x,dpr:_,performance:b,raycaster:y,camera:S,scene:M,onPointerMissed:C,onCreated:P,...A},R){F.useMemo(()=>uH(r1e),[]);const U=V1e(),[O,N]=P1e({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=F.useRef(null),Y=F.useRef(null);F.useImperativeHandle(R,()=>B.current);const J=hH(C),[G,ne]=F.useState(!1),[ie,se]=F.useState(!1);if(G)throw G;if(ie)throw ie;const H=F.useRef(null);xx(()=>{const te=B.current;N.width>0&&N.height>0&&te&&(H.current||(H.current=T1e(te)),H.current.configure({gl:o,events:a,shadows:c,linear:f,flat:p,legacy:m,orthographic:v,frameloop:x,dpr:_,performance:b,raycaster:y,camera:S,scene:M,size:N,onPointerMissed:(...Q)=>J.current==null?void 0:J.current(...Q),onCreated:Q=>{Q.events.connect==null||Q.events.connect(s?f1e(s)?s.current:s:Y.current),l&&Q.setEvents({compute:(ae,xe)=>{const we=ae[l+"X"],Te=ae[l+"Y"];xe.pointer.set(we/xe.size.width*2-1,-(Te/xe.size.height)*2+1),xe.raycaster.setFromCamera(xe.pointer,xe.camera)}}),P==null||P(Q)}}),H.current.render(F.createElement(U,null,F.createElement(pH,{set:se},F.createElement(F.Suspense,{fallback:F.createElement(d1e,{set:ne})},e)))))}),F.useEffect(()=>{const te=B.current;if(te)return()=>wH(te)},[]);const q=s?"none":"auto";return F.createElement("div",j({ref:Y,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...i}},A),F.createElement("div",{ref:O,style:{width:"100%",height:"100%"}},F.createElement("canvas",{ref:B,style:{display:"block"}},n)))}),j1e=F.forwardRef(function(e,n){return F.createElement(CH,null,F.createElement(G1e,j({},e,{ref:n})))});function qw(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function X1e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TH(t){let e,n,r;t.length!==2?(e=qw,n=(s,l)=>qw(t(s),l),r=(s,l)=>t(s)-l):(e=t===qw||t===X1e?t:q1e,n=t,r=t);function i(s,l,c=0,f=s.length){if(c<f){if(e(l,l)!==0)return f;do{const p=c+f>>>1;n(s[p],l)<0?c=p+1:f=p}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(e(l,l)!==0)return f;do{const p=c+f>>>1;n(s[p],l)<=0?c=p+1:f=p}while(c<f)}return c}function a(s,l,c=0,f=s.length){const p=i(s,l,c,f-1);return p>c&&r(s[p-1],l)>-r(s[p],l)?p-1:p}return{left:i,center:a,right:o}}function q1e(){return 0}function Y1e(t){return t===null?NaN:+t}const K1e=TH(qw),Z1e=K1e.right;TH(Y1e).center;const Q1e=Z1e,J1e=Math.sqrt(50),exe=Math.sqrt(10),txe=Math.sqrt(2);function VS(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=J1e?10:o>=exe?5:o>=txe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?VS(t,e,n*2):[s,l,c]}function S3(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?VS(e,t,n):VS(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function M3(t,e,n){return e=+e,t=+t,n=+n,VS(t,e,n)[2]}function AH(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?M3(e,t,n):M3(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function QE(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function b0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bx(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hd(){}var ep=.7,o0=1/ep,kg="\\s*([+-]?\\d+)\\s*",U1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nxe=/^#([0-9a-f]{3,8})$/,rxe=new RegExp(`^rgb\\(${kg},${kg},${kg}\\)$`),ixe=new RegExp(`^rgb\\(${gc},${gc},${gc}\\)$`),oxe=new RegExp(`^rgba\\(${kg},${kg},${kg},${U1}\\)$`),axe=new RegExp(`^rgba\\(${gc},${gc},${gc},${U1}\\)$`),sxe=new RegExp(`^hsl\\(${U1},${gc},${gc}\\)$`),lxe=new RegExp(`^hsla\\(${U1},${gc},${gc},${U1}\\)$`),oF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b0(hd,z1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:aF,formatHex:aF,formatHex8:cxe,formatHsl:uxe,formatRgb:sF,toString:sF});function aF(){return this.rgb().formatHex()}function cxe(){return this.rgb().formatHex8()}function uxe(){return RH(this).formatHsl()}function sF(){return this.rgb().formatRgb()}function z1(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?lF(e):n===3?new Wi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ow(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ow(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rxe.exec(t))?new Wi(e[1],e[2],e[3],1):(e=ixe.exec(t))?new Wi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=oxe.exec(t))?ow(e[1],e[2],e[3],e[4]):(e=axe.exec(t))?ow(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sxe.exec(t))?fF(e[1],e[2]/100,e[3]/100,1):(e=lxe.exec(t))?fF(e[1],e[2]/100,e[3]/100,e[4]):oF.hasOwnProperty(t)?lF(oF[t]):t==="transparent"?new Wi(NaN,NaN,NaN,0):null}function lF(t){return new Wi(t>>16&255,t>>8&255,t&255,1)}function ow(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wi(t,e,n,r)}function ML(t){return t instanceof hd||(t=z1(t)),t?(t=t.rgb(),new Wi(t.r,t.g,t.b,t.opacity)):new Wi}function Qf(t,e,n,r){return arguments.length===1?ML(t):new Wi(t,e,n,r??1)}function Wi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}b0(Wi,Qf,bx(hd,{brighter(t){return t=t==null?o0:Math.pow(o0,t),new Wi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ep:Math.pow(ep,t),new Wi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wi(Fh(this.r),Fh(this.g),Fh(this.b),WS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cF,formatHex:cF,formatHex8:fxe,formatRgb:uF,toString:uF}));function cF(){return`#${Eh(this.r)}${Eh(this.g)}${Eh(this.b)}`}function fxe(){return`#${Eh(this.r)}${Eh(this.g)}${Eh(this.b)}${Eh((isNaN(this.opacity)?1:this.opacity)*255)}`}function uF(){const t=WS(this.opacity);return`${t===1?"rgb(":"rgba("}${Fh(this.r)}, ${Fh(this.g)}, ${Fh(this.b)}${t===1?")":`, ${t})`}`}function WS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Eh(t){return t=Fh(t),(t<16?"0":"")+t.toString(16)}function fF(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bl(t,e,n,r)}function RH(t){if(t instanceof bl)return new bl(t.h,t.s,t.l,t.opacity);if(t instanceof hd||(t=z1(t)),!t)return new bl;if(t instanceof bl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new bl(a,s,l,t.opacity)}function GS(t,e,n,r){return arguments.length===1?RH(t):new bl(t,e,n,r??1)}function bl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}b0(bl,GS,bx(hd,{brighter(t){return t=t==null?o0:Math.pow(o0,t),new bl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ep:Math.pow(ep,t),new bl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wi($T(t>=240?t-240:t+120,i,r),$T(t,i,r),$T(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new bl(dF(this.h),aw(this.s),aw(this.l),WS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=WS(this.opacity);return`${t===1?"hsl(":"hsla("}${dF(this.h)}, ${aw(this.s)*100}%, ${aw(this.l)*100}%${t===1?")":`, ${t})`}`}}));function dF(t){return t=(t||0)%360,t<0?t+360:t}function aw(t){return Math.max(0,Math.min(1,t||0))}function $T(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const PH=Math.PI/180,IH=180/Math.PI,jS=18,LH=.96422,OH=1,kH=.82521,NH=4/29,Ng=6/29,DH=3*Ng*Ng,dxe=Ng*Ng*Ng;function FH(t){if(t instanceof vc)return new vc(t.l,t.a,t.b,t.opacity);if(t instanceof du)return UH(t);t instanceof Wi||(t=ML(t));var e=GT(t.r),n=GT(t.g),r=GT(t.b),i=HT((.2225045*e+.7168786*n+.0606169*r)/OH),o,a;return e===n&&n===r?o=a=i:(o=HT((.4360747*e+.3850649*n+.1430804*r)/LH),a=HT((.0139322*e+.0971045*n+.7141733*r)/kH)),new vc(116*i-16,500*(o-i),200*(i-a),t.opacity)}function E3(t,e,n,r){return arguments.length===1?FH(t):new vc(t,e,n,r??1)}function vc(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}b0(vc,E3,bx(hd,{brighter(t){return new vc(this.l+jS*(t??1),this.a,this.b,this.opacity)},darker(t){return new vc(this.l-jS*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=LH*VT(e),t=OH*VT(t),n=kH*VT(n),new Wi(WT(3.1338561*e-1.6168667*t-.4906146*n),WT(-.9787684*e+1.9161415*t+.033454*n),WT(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function HT(t){return t>dxe?Math.pow(t,1/3):t/DH+NH}function VT(t){return t>Ng?t*t*t:DH*(t-NH)}function WT(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function GT(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hxe(t){if(t instanceof du)return new du(t.h,t.c,t.l,t.opacity);if(t instanceof vc||(t=FH(t)),t.a===0&&t.b===0)return new du(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*IH;return new du(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function C3(t,e,n,r){return arguments.length===1?hxe(t):new du(t,e,n,r??1)}function du(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function UH(t){if(isNaN(t.h))return new vc(t.l,0,0,t.opacity);var e=t.h*PH;return new vc(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}b0(du,C3,bx(hd,{brighter(t){return new du(this.h,this.c,this.l+jS*(t??1),this.opacity)},darker(t){return new du(this.h,this.c,this.l-jS*(t??1),this.opacity)},rgb(){return UH(this).rgb()}}));var zH=-.14861,EL=1.78277,CL=-.29227,JE=-.90649,B1=1.97294,hF=B1*JE,pF=B1*EL,mF=EL*CL-JE*zH;function pxe(t){if(t instanceof Uh)return new Uh(t.h,t.s,t.l,t.opacity);t instanceof Wi||(t=ML(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(mF*r+hF*e-pF*n)/(mF+hF-pF),o=r-i,a=(B1*(n-i)-CL*o)/JE,s=Math.sqrt(a*a+o*o)/(B1*i*(1-i)),l=s?Math.atan2(a,o)*IH-120:NaN;return new Uh(l<0?l+360:l,s,i,t.opacity)}function Sc(t,e,n,r){return arguments.length===1?pxe(t):new Uh(t,e,n,r??1)}function Uh(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}b0(Uh,Sc,bx(hd,{brighter(t){return t=t==null?o0:Math.pow(o0,t),new Uh(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ep:Math.pow(ep,t),new Uh(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*PH,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Wi(255*(e+n*(zH*r+EL*i)),255*(e+n*(CL*r+JE*i)),255*(e+n*(B1*r)),this.opacity)}}));function mxe(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function gxe(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return mxe((n-r/e)*e,a,i,o,s)}}const e2=t=>()=>t;function BH(t,e){return function(n){return t+n*e}}function vxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function TL(t,e){var n=e-t;return n?BH(t,n>180||n<-180?n-360*Math.round(n/360):n):e2(isNaN(t)?e:t)}function yxe(t){return(t=+t)==1?Gi:function(e,n){return n-e?vxe(e,n,t):e2(isNaN(e)?n:e)}}function Gi(t,e){var n=e-t;return n?BH(t,n):e2(isNaN(t)?e:t)}const T3=function t(e){var n=yxe(e);function r(i,o){var a=n((i=Qf(i)).r,(o=Qf(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=Gi(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=s(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function xxe(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Qf(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=o(l),s+""}}}var bxe=xxe(gxe);function _xe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function wxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Sxe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=AL(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Mxe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function a0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Exe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=AL(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var A3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jT=new RegExp(A3.source,"g");function Cxe(t){return function(){return t}}function Txe(t){return function(e){return t(e)+""}}function Axe(t,e){var n=A3.lastIndex=jT.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=A3.exec(t))&&(i=jT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:a0(r,i)})),n=jT.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Txe(l[0].x):Cxe(e):(e=l.length,function(c){for(var f=0,p;f<e;++f)s[(p=l[f]).i]=p.x(c);return s.join("")})}function AL(t,e){var n=typeof e,r;return e==null||n==="boolean"?e2(e):(n==="number"?a0:n==="string"?(r=z1(e))?(e=r,T3):Axe:e instanceof z1?T3:e instanceof Date?Mxe:wxe(e)?_xe:Array.isArray(e)?Sxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Exe:a0)(t,e)}function RL(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $H(t){return function(e,n){var r=t((e=GS(e)).h,(n=GS(n)).h),i=Gi(e.s,n.s),o=Gi(e.l,n.l),a=Gi(e.opacity,n.opacity);return function(s){return e.h=r(s),e.s=i(s),e.l=o(s),e.opacity=a(s),e+""}}}const Rxe=$H(TL);var Pxe=$H(Gi);function Ixe(t,e){var n=Gi((t=E3(t)).l,(e=E3(e)).l),r=Gi(t.a,e.a),i=Gi(t.b,e.b),o=Gi(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function HH(t){return function(e,n){var r=t((e=C3(e)).h,(n=C3(n)).h),i=Gi(e.c,n.c),o=Gi(e.l,n.l),a=Gi(e.opacity,n.opacity);return function(s){return e.h=r(s),e.c=i(s),e.l=o(s),e.opacity=a(s),e+""}}}const Lxe=HH(TL);var Oxe=HH(Gi);function VH(t){return function e(n){n=+n;function r(i,o){var a=t((i=Sc(i)).h,(o=Sc(o)).h),s=Gi(i.s,o.s),l=Gi(i.l,o.l),c=Gi(i.opacity,o.opacity);return function(f){return i.h=a(f),i.s=s(f),i.l=l(Math.pow(f,n)),i.opacity=c(f),i+""}}return r.gamma=e,r}(1)}const kxe=VH(TL);var t2=VH(Gi);function Nxe(t){return function(){return t}}function Dxe(t){return+t}var gF=[0,1];function sc(t){return t}function R3(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Nxe(isNaN(e)?NaN:.5)}function Fxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Uxe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=R3(i,r),o=n(a,o)):(r=R3(r,i),o=n(o,a)),function(s){return o(r(s))}}function zxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=R3(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Q1e(t,s,1,r)-1;return o[l](i[l](s))}}function n2(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function r2(){var t=gF,e=gF,n=AL,r,i,o,a=sc,s,l,c;function f(){var m=Math.min(t.length,e.length);return a!==sc&&(a=Fxe(t[0],t[m-1])),s=m>2?zxe:Uxe,l=c=null,p}function p(m){return m==null||isNaN(m=+m)?o:(l||(l=s(t.map(r),e,n)))(r(a(m)))}return p.invert=function(m){return a(i((c||(c=s(e,t.map(r),a0)))(m)))},p.domain=function(m){return arguments.length?(t=Array.from(m,Dxe),f()):t.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),n=RL,f()},p.clamp=function(m){return arguments.length?(a=m?!0:sc,f()):a!==sc},p.interpolate=function(m){return arguments.length?(n=m,f()):n},p.unknown=function(m){return arguments.length?(o=m,p):o},function(m,v){return r=m,i=v,f()}}function Bxe(){return r2()(sc,sc)}function $xe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function XS(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function s0(t){return t=XS(Math.abs(t)),t?t[1]:NaN}function Hxe(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Vxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Wxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $1(t){if(!(e=Wxe.exec(t)))throw new Error("invalid format: "+t);var e;return new PL({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$1.prototype=PL.prototype;function PL(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}PL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var WH;function jxe(t,e){var n=XS(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(WH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+XS(t,Math.max(0,e+o-1))[0]}function vF(t,e){var n=XS(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yF={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$xe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vF(t*100,e),r:vF,s:jxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xF(t){return t}var bF=Array.prototype.map,_F=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xxe(t){var e=t.grouping===void 0||t.thousands===void 0?xF:Hxe(bF.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?xF:Vxe(bF.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(p){p=$1(p);var m=p.fill,v=p.align,x=p.sign,_=p.symbol,b=p.zero,y=p.width,S=p.comma,M=p.precision,C=p.trim,P=p.type;P==="n"?(S=!0,P="g"):yF[P]||(M===void 0&&(M=12),C=!0,P="g"),(b||m==="0"&&v==="=")&&(b=!0,m="0",v="=");var A=_==="$"?n:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",R=_==="$"?r:/[%p]/.test(P)?a:"",U=yF[P],O=/[defgprs%]/.test(P);M=M===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function N(B){var Y=A,J=R,G,ne,ie;if(P==="c")J=U(B)+J,B="";else{B=+B;var se=B<0||1/B<0;if(B=isNaN(B)?l:U(Math.abs(B),M),C&&(B=Gxe(B)),se&&+B==0&&x!=="+"&&(se=!1),Y=(se?x==="("?x:s:x==="-"||x==="("?"":x)+Y,J=(P==="s"?_F[8+WH/3]:"")+J+(se&&x==="("?")":""),O){for(G=-1,ne=B.length;++G<ne;)if(ie=B.charCodeAt(G),48>ie||ie>57){J=(ie===46?i+B.slice(G+1):B.slice(G))+J,B=B.slice(0,G);break}}}S&&!b&&(B=e(B,1/0));var H=Y.length+B.length+J.length,q=H<y?new Array(y-H+1).join(m):"";switch(S&&b&&(B=e(q+B,q.length?y-J.length:1/0),q=""),v){case"<":B=Y+B+J+q;break;case"=":B=Y+q+B+J;break;case"^":B=q.slice(0,H=q.length>>1)+Y+B+J+q.slice(H);break;default:B=q+Y+B+J;break}return o(B)}return N.toString=function(){return p+""},N}function f(p,m){var v=c((p=$1(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(s0(m)/3)))*3,_=Math.pow(10,-x),b=_F[8+x/3];return function(y){return v(_*y)+b}}return{format:c,formatPrefix:f}}var sw,Cc,GH;qxe({thousands:",",grouping:[3],currency:["$",""]});function qxe(t){return sw=Xxe(t),Cc=sw.format,GH=sw.formatPrefix,sw}function Yxe(t){return Math.max(0,-s0(Math.abs(t)))}function Kxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(s0(e)/3)))*3-s0(Math.abs(t)))}function Zxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,s0(e)-s0(t))+1}function Qxe(t,e,n,r){var i=AH(t,e,n),o;switch(r=$1(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Kxe(i,a))&&(r.precision=o),GH(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Zxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Yxe(i))&&(r.precision=o-(r.type==="%")*2);break}}return Cc(r)}function IL(t){var e=t.domain;return t.ticks=function(n){var r=e();return S3(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Qxe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,f=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);f-- >0;){if(c=M3(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function jH(){var t=Bxe();return t.copy=function(){return n2(t,jH())},QE.apply(t,arguments),IL(t)}function Jxe(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function wF(t){return Math.log(t)}function SF(t){return Math.exp(t)}function ebe(t){return-Math.log(-t)}function tbe(t){return-Math.exp(-t)}function nbe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rbe(t){return t===10?nbe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ibe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function MF(t){return(e,n)=>-t(-e,n)}function obe(t){const e=t(wF,SF),n=e.domain;let r=10,i,o;function a(){return i=ibe(r),o=rbe(r),n()[0]<0?(i=MF(i),o=MF(o),t(ebe,tbe)):t(wF,SF),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],f=l[l.length-1];const p=f<c;p&&([c,f]=[f,c]);let m=i(c),v=i(f),x,_;const b=s==null?10:+s;let y=[];if(!(r%1)&&v-m<b){if(m=Math.floor(m),v=Math.ceil(v),c>0){for(;m<=v;++m)for(x=1;x<r;++x)if(_=m<0?x/o(-m):x*o(m),!(_<c)){if(_>f)break;y.push(_)}}else for(;m<=v;++m)for(x=r-1;x>=1;--x)if(_=m>0?x/o(-m):x*o(m),!(_<c)){if(_>f)break;y.push(_)}y.length*2<b&&(y=S3(c,f,b))}else y=S3(m,v,Math.min(v-m,b)).map(o);return p?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=$1(l)).precision==null&&(l.trim=!0),l=Cc(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return f=>{let p=f/o(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=c?l(f):""}},e.nice=()=>n(Jxe(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function XH(){const t=obe(r2()).domain([1,10]);return t.copy=()=>n2(t,XH()).base(t.base()),QE.apply(t,arguments),t}function EF(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function CF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function abe(t){var e=1,n=t(EF(e),CF(e));return n.constant=function(r){return arguments.length?t(EF(e=+r),CF(e)):e},IL(n)}function qH(){var t=abe(r2());return t.copy=function(){return n2(t,qH()).constant(t.constant())},QE.apply(t,arguments)}function TF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sbe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lbe(t){return t<0?-t*t:t*t}function cbe(t){var e=t(sc,sc),n=1;function r(){return n===1?t(sc,sc):n===.5?t(sbe,lbe):t(TF(n),TF(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},IL(e)}function LL(){var t=cbe(r2());return t.copy=function(){return n2(t,LL()).exponent(t.exponent())},QE.apply(t,arguments),t}function ube(){return LL.apply(null,arguments).exponent(.5)}const XT=new Date,qT=new Date;function lo(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>lo(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(XT.setTime(+o),qT.setTime(+a),t(XT),t(qT),Math.floor(n(XT,qT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const H1=1e3,Jf=H1*60,V1=Jf*60,W1=V1*24,YH=W1*7,OL=lo(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*H1)},(t,e)=>(e-t)/H1,t=>t.getUTCSeconds());OL.range;const KH=lo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*H1)},(t,e)=>{t.setTime(+t+e*Jf)},(t,e)=>(e-t)/Jf,t=>t.getMinutes());KH.range;const ZH=lo(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Jf)},(t,e)=>(e-t)/Jf,t=>t.getUTCMinutes());ZH.range;const QH=lo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*H1-t.getMinutes()*Jf)},(t,e)=>{t.setTime(+t+e*V1)},(t,e)=>(e-t)/V1,t=>t.getHours());QH.range;const JH=lo(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*V1)},(t,e)=>(e-t)/V1,t=>t.getUTCHours());JH.range;const eV=lo(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jf)/W1,t=>t.getDate()-1);eV.range;const tV=lo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/W1,t=>t.getUTCDate()-1);tV.range;const fbe=lo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/W1,t=>Math.floor(t/W1));fbe.range;function cp(t){return lo(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Jf)/YH)}const nV=cp(0),dbe=cp(1),hbe=cp(2),pbe=cp(3),mbe=cp(4),gbe=cp(5),vbe=cp(6);nV.range;dbe.range;hbe.range;pbe.range;mbe.range;gbe.range;vbe.range;function up(t){return lo(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/YH)}const rV=up(0),ybe=up(1),xbe=up(2),bbe=up(3),_be=up(4),wbe=up(5),Sbe=up(6);rV.range;ybe.range;xbe.range;bbe.range;_be.range;wbe.range;Sbe.range;const iV=lo(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());iV.range;const oV=lo(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());oV.range;const kL=lo(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());kL.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:lo(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});kL.range;const NL=lo(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());NL.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:lo(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});NL.range;function Mbe(t,e){e.domain&&("nice"in t||"quantiles"in t||"padding"in t,t.domain(e.domain))}function Ebe(t,e){e.range&&("padding"in t,t.range(e.range))}function Cbe(t,e){"align"in t&&"align"in e&&typeof e.align<"u"&&t.align(e.align)}function Tbe(t,e){"base"in t&&"base"in e&&typeof e.base<"u"&&t.base(e.base)}function Abe(t,e){"clamp"in t&&"clamp"in e&&typeof e.clamp<"u"&&t.clamp(e.clamp)}function Rbe(t,e){"constant"in t&&"constant"in e&&typeof e.constant<"u"&&t.constant(e.constant)}function Pbe(t,e){"exponent"in t&&"exponent"in e&&typeof e.exponent<"u"&&t.exponent(e.exponent)}var AF={lab:Ixe,hcl:Lxe,"hcl-long":Oxe,hsl:Rxe,"hsl-long":Pxe,cubehelix:kxe,"cubehelix-long":t2,rgb:T3};function Ibe(t){switch(t){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return AF[t]}var e=t.type,n=t.gamma,r=AF[e];return typeof n>"u"?r:r.gamma(n)}function Lbe(t,e){if("interpolate"in e&&"interpolate"in t&&typeof e.interpolate<"u"){var n=Ibe(e.interpolate);t.interpolate(n)}}var Obe=new Date(Date.UTC(2020,1,2,3,4,5)),kbe="%Y-%m-%d %H:%M";function Nbe(t){var e=t.tickFormat(1,kbe)(Obe);return e==="2020-02-02 03:04"}var RF={day:eV,hour:QH,minute:KH,month:iV,second:OL,week:nV,year:kL},PF={day:tV,hour:JH,minute:ZH,month:oV,second:OL,week:rV,year:NL};function Dbe(t,e){if("nice"in e&&typeof e.nice<"u"&&"nice"in t){var n=e.nice;if(typeof n=="boolean")n&&t.nice();else if(typeof n=="number")t.nice(n);else{var r=t,i=Nbe(r);if(typeof n=="string")r.nice(i?PF[n]:RF[n]);else{var o=n.interval,a=n.step,s=(i?PF[o]:RF[o]).every(a);s!=null&&r.nice(s)}}}}function Fbe(t,e){"padding"in t&&"padding"in e&&typeof e.padding<"u"&&t.padding(e.padding),"paddingInner"in t&&"paddingInner"in e&&typeof e.paddingInner<"u"&&t.paddingInner(e.paddingInner),"paddingOuter"in t&&"paddingOuter"in e&&typeof e.paddingOuter<"u"&&t.paddingOuter(e.paddingOuter)}function Ube(t,e){if(e.reverse){var n=t.range().slice().reverse();"padding"in t,t.range(n)}}function zbe(t,e){"round"in e&&typeof e.round<"u"&&(e.round&&"interpolate"in e&&typeof e.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",e):"round"in t?t.round(e.round):"interpolate"in t&&e.round&&t.interpolate(RL))}function Bbe(t,e){"unknown"in t&&"unknown"in e&&typeof e.unknown<"u"&&t.unknown(e.unknown)}function $be(t,e){if("zero"in e&&e.zero===!0){var n=t.domain(),r=n[0],i=n[1],o=i<r,a=o?[i,r]:[r,i],s=a[0],l=a[1],c=[Math.min(0,s),Math.max(0,l)];t.domain(o?c.reverse():c)}}var Hbe=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],Vbe={domain:Mbe,nice:Dbe,zero:$be,interpolate:Lbe,round:zbe,align:Cbe,base:Tbe,clamp:Abe,constant:Rbe,exponent:Pbe,padding:Fbe,range:Ebe,reverse:Ube,unknown:Bbe};function _x(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=new Set(e),i=Hbe.filter(function(o){return r.has(o)});return function(a,s){return typeof s<"u"&&i.forEach(function(l){Vbe[l](a,s)}),a}}var Wbe=_x("domain","range","reverse","clamp","interpolate","nice","round","zero");function DL(t){return Wbe(jH(),t)}var Gbe=_x("domain","range","reverse","base","clamp","interpolate","nice","round");function jbe(t){return Gbe(XH(),t)}var Xbe=_x("domain","range","reverse","clamp","exponent","interpolate","nice","round","zero");function qbe(t){return Xbe(LL(),t)}var Ybe=_x("domain","range","reverse","clamp","constant","nice","zero","round");function Kbe(t){return Ybe(qH(),t)}var Zbe=_x("domain","range","reverse","clamp","interpolate","nice","round","zero");function Qbe(t){return Zbe(ube(),t)}function FL(t){if((typeof t=="function"||typeof t=="object"&&t)&&"valueOf"in t){var e=t.valueOf();if(typeof e=="number")return e}return t}function UL(t,e){var n=t;return"ticks"in n?n.ticks(e):n.domain().filter(function(r,i,o){return e==null||o.length<=e||i%Math.round((o.length-1)/e)===0})}function Jbe(t){return t==null?void 0:t.toString()}var e_e={};function t_e(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],a=1;a<r;++a)if(o=i,i=t[a],e(i,o)){if(a===n){n++;continue}t[n++]=i}return t.length=n,t}function n_e(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)if(i=r,r=t[o],r!==i){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}function r_e(t,e,n){return t.length===0?t:e?(n||t.sort(e),t_e(t,e)):(n||t.sort(),n_e(t))}var i_e=r_e,o_e=i_e;function aV(t,e,n){var r=t.length,i=e.arrayArgs.length,o=e.indexArgs.length>0,a=[],s=[],l=0,c=0,f,p;for(f=0;f<r;++f)s.push(["i",f,"=0"].join(""));for(p=0;p<i;++p)for(f=0;f<r;++f)c=l,l=t[f],f===0?s.push(["d",p,"s",f,"=t",p,"p",l].join("")):s.push(["d",p,"s",f,"=(t",p,"p",l,"-s",c,"*t",p,"p",c,")"].join(""));for(s.length>0&&a.push("var "+s.join(",")),f=r-1;f>=0;--f)l=t[f],a.push(["for(i",f,"=0;i",f,"<s",l,";++i",f,"){"].join(""));for(a.push(n),f=0;f<r;++f){for(c=l,l=t[f],p=0;p<i;++p)a.push(["p",p,"+=d",p,"s",f].join(""));o&&(f>0&&a.push(["index[",c,"]-=s",c].join("")),a.push(["++index[",l,"]"].join(""))),a.push("}")}return a.join(`
`)}function a_e(t,e,n,r){for(var i=e.length,o=n.arrayArgs.length,a=n.blockSize,s=n.indexArgs.length>0,l=[],c=0;c<o;++c)l.push(["var offset",c,"=p",c].join(""));for(var c=t;c<i;++c)l.push(["for(var j"+c+"=SS[",e[c],"]|0;j",c,">0;){"].join("")),l.push(["if(j",c,"<",a,"){"].join("")),l.push(["s",e[c],"=j",c].join("")),l.push(["j",c,"=0"].join("")),l.push(["}else{s",e[c],"=",a].join("")),l.push(["j",c,"-=",a,"}"].join("")),s&&l.push(["index[",e[c],"]=j",c].join(""));for(var c=0;c<o;++c){for(var f=["offset"+c],p=t;p<i;++p)f.push(["j",p,"*t",c,"p",e[p]].join(""));l.push(["p",c,"=(",f.join("+"),")"].join(""))}l.push(aV(e,n,r));for(var c=t;c<i;++c)l.push("}");return l.join(`
`)}function s_e(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}function YT(t,e,n){for(var r=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),c="",f=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var p=e.offsetArgIndex.indexOf(a),m=e.offsetArgs[p];f=m.array,c="+q"+p;case"array":c="p"+f+c;var v="l"+a,x="a"+f;if(e.arrayBlockIndices[f]===0)s.count===1?n[f]==="generic"?s.lvalue?(i.push(["var ",v,"=",x,".get(",c,")"].join("")),r=r.replace(l,v),o.push([x,".set(",c,",",v,")"].join(""))):r=r.replace(l,[x,".get(",c,")"].join("")):r=r.replace(l,[x,"[",c,"]"].join("")):n[f]==="generic"?(i.push(["var ",v,"=",x,".get(",c,")"].join("")),r=r.replace(l,v),s.lvalue&&o.push([x,".set(",c,",",v,")"].join(""))):(i.push(["var ",v,"=",x,"[",c,"]"].join("")),r=r.replace(l,v),s.lvalue&&o.push([x,"[",c,"]=",v].join("")));else{for(var _=[s.name],b=[c],y=0;y<Math.abs(e.arrayBlockIndices[f]);y++)_.push("\\s*\\[([^\\]]+)\\]"),b.push("$"+(y+1)+"*t"+f+"b"+y);if(l=new RegExp(_.join(""),"g"),c=b.join("+"),n[f]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[x,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape");break}}}return[i.join(`
`),r,o.join(`
`)].join(`
`).trim()}function l_e(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var i=t[r],o=i.match(/\d+/);o?o=o[0]:o="",i.charAt(0)===0?e[r]="u"+i.charAt(1)+o:e[r]=i.charAt(0)+o,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}function c_e(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,r=new Array(t.arrayArgs.length),i=new Array(t.arrayArgs.length),o=0;o<t.arrayArgs.length;++o)i[o]=e[2*o],r[o]=e[2*o+1];for(var a=[],s=[],l=[],c=[],f=[],o=0;o<t.arrayArgs.length;++o){t.arrayBlockIndices[o]<0?(l.push(0),c.push(n),a.push(n),s.push(n+t.arrayBlockIndices[o])):(l.push(t.arrayBlockIndices[o]),c.push(t.arrayBlockIndices[o]+n),a.push(0),s.push(t.arrayBlockIndices[o]));for(var p=[],m=0;m<r[o].length;m++)l[o]<=r[o][m]&&r[o][m]<c[o]&&p.push(r[o][m]-l[o]);f.push(p)}for(var v=["SS"],x=["'use strict'"],_=[],m=0;m<n;++m)_.push(["s",m,"=SS[",m,"]"].join(""));for(var o=0;o<t.arrayArgs.length;++o){v.push("a"+o),v.push("t"+o),v.push("p"+o);for(var m=0;m<n;++m)_.push(["t",o,"p",m,"=t",o,"[",l[o]+m,"]"].join(""));for(var m=0;m<Math.abs(t.arrayBlockIndices[o]);++m)_.push(["t",o,"b",m,"=t",o,"[",a[o]+m,"]"].join(""))}for(var o=0;o<t.scalarArgs.length;++o)v.push("Y"+o);if(t.shapeArgs.length>0&&_.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var b=new Array(n),o=0;o<n;++o)b[o]="0";_.push(["index=[",b.join(","),"]"].join(""))}for(var o=0;o<t.offsetArgs.length;++o){for(var y=t.offsetArgs[o],S=[],m=0;m<y.offset.length;++m)y.offset[m]!==0&&(y.offset[m]===1?S.push(["t",y.array,"p",m].join("")):S.push([y.offset[m],"*t",y.array,"p",m].join("")));S.length===0?_.push("q"+o+"=0"):_.push(["q",o,"=",S.join("+")].join(""))}var M=o_e([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));_=_.concat(M),_.length>0&&x.push("var "+_.join(","));for(var o=0;o<t.arrayArgs.length;++o)x.push("p"+o+"|=0");t.pre.body.length>3&&x.push(YT(t.pre,t,i));var C=YT(t.body,t,i),P=s_e(f);P<n?x.push(a_e(P,f[0],t,C)):x.push(aV(f[0],t,C)),t.post.body.length>3&&x.push(YT(t.post,t,i)),t.debug&&console.log("-----Generated cwise routine for ",e,`:
`+x.join(`
`)+`
----------`);var A=[t.funcName||"unnamed","_cwise_loop_",r[0].join("s"),"m",P,l_e(i)].join(""),R=new Function(["function ",A,"(",v.join(","),"){",x.join(`
`),"} return ",A].join(""));return R()}var u_e=c_e,f_e=u_e;function d_e(t){var e=["'use strict'","var CACHED={}"],n=[],r=t.funcName+"_cwise_thunk";e.push(["return function ",r,"(",t.shimArgs.join(","),"){"].join(""));for(var i=[],o=[],a=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],s=[],l=[],c=0;c<t.arrayArgs.length;++c){var f=t.arrayArgs[c];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),i.push("t"+f),i.push("r"+f),o.push("t"+f),o.push("r"+f+".join()"),a.push("array"+f+".data"),a.push("array"+f+".stride"),a.push("array"+f+".offset|0"),c>0&&(s.push("array"+t.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[c]))),l.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[c])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+s.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),e.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var c=0;c<t.scalarArgs.length;++c)a.push("scalar"+t.scalarArgs[c]);n.push(["type=[",o.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",a.join(","),")}"].join("")),t.debug&&console.log(`-----Generated thunk:
`+e.join(`
`)+`
----------`);var p=new Function("compile",e.join(`
`));return p(f_e.bind(void 0,t))}var h_e=d_e,p_e=h_e;function m_e(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function g_e(t){var e=new m_e;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var r=0;r<n.length;++r){var i=n[r];if(i==="array"||typeof i=="object"&&i.blockIndices){if(e.argTypes[r]="array",e.arrayArgs.push(r),e.arrayBlockIndices.push(i.blockIndices?i.blockIndices:0),e.shimArgs.push("array"+r),r<e.pre.args.length&&e.pre.args[r].count>0)throw new Error("cwise: pre() block may not reference array args");if(r<e.post.args.length&&e.post.args[r].count>0)throw new Error("cwise: post() block may not reference array args")}else if(i==="scalar")e.scalarArgs.push(r),e.shimArgs.push("scalar"+r);else if(i==="index"){if(e.indexArgs.push(r),r<e.pre.args.length&&e.pre.args[r].count>0)throw new Error("cwise: pre() block may not reference array index");if(r<e.body.args.length&&e.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array index");if(r<e.post.args.length&&e.post.args[r].count>0)throw new Error("cwise: post() block may not reference array index")}else if(i==="shape"){if(e.shapeArgs.push(r),r<e.pre.args.length&&e.pre.args[r].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(r<e.body.args.length&&e.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array shape");if(r<e.post.args.length&&e.post.args[r].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof i=="object"&&i.offset)e.argTypes[r]="offset",e.offsetArgs.push({array:i.array,offset:i.offset}),e.offsetArgIndex.push(r);else throw new Error("cwise: Unknown argument type "+n[r])}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,p_e(e)}var v_e=g_e;(function(t){var e=v_e,n={body:"",args:[],thisVars:[],localVars:[]};function r(m){if(!m)return n;for(var v=0;v<m.args.length;++v){var x=m.args[v];v===0?m.args[v]={name:x,lvalue:!0,rvalue:!!m.rvalue,count:m.count||1}:m.args[v]={name:x,lvalue:!1,rvalue:!0,count:1}}return m.thisVars||(m.thisVars=[]),m.localVars||(m.localVars=[]),m}function i(m){return e({args:m.args,pre:r(m.pre),body:r(m.body),post:r(m.proc),funcName:m.funcName})}function o(m){for(var v=[],x=0;x<m.args.length;++x)v.push("a"+x);var _=new Function("P",["return function ",m.funcName,"_ndarrayops(",v.join(","),") {P(",v.join(","),");return a0}"].join(""));return _(i(m))}var a={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var m in a){var v=a[m];t[m]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+v+"c"},funcName:m}),t[m+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+v+"=b"},rvalue:!0,funcName:m+"eq"}),t[m+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+v+"s"},funcName:m+"s"}),t[m+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+v+"=s"},rvalue:!0,funcName:m+"seq"})}})();var s={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var m in s){var v=s[m];t[m]=o({args:["array","array"],body:{args:["a","b"],body:"a="+v+"b"},funcName:m}),t[m+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+v+"a"},rvalue:!0,count:2,funcName:m+"eq"})}})();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var m in l){var v=l[m];t[m]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+v+"c"},funcName:m}),t[m+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+v+"s"},funcName:m+"s"}),t[m+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+v+"b"},rvalue:!0,count:2,funcName:m+"eq"}),t[m+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+v+"s"},rvalue:!0,count:2,funcName:m+"seq"})}})();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var m=0;m<c.length;++m){var v=c[m];t[v]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:v}),t[v+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:v+"eq"})}})();var f=["max","min","atan2","pow"];(function(){for(var m=0;m<f.length;++m){var v=f[m];t[v]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:v}),t[v+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:v+"s"}),t[v+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:v+"eq"}),t[v+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:v+"seq"})}})();var p=["atan2","pow"];(function(){for(var m=0;m<p.length;++m){var v=p[m];t[v+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:v+"op"}),t[v+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:v+"ops"}),t[v+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:v+"opeq"}),t[v+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:v+"opseq"})}})(),t.any=e({args:["array"],pre:n,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=e({args:["array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=e({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=e({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=e({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=e({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=e({args:["array","array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})(e_e);var sV={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=typeof o;if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var s=n.apply(null,o);s&&r.push(s)}}else if(a==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(sV);var lV=sV.exports;const Mc=Au(lV);var y_e=["top","left","transform","className","children","innerRef"];function P3(){return P3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P3.apply(this,arguments)}function x_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wx(t){var e=t.top,n=e===void 0?0:e,r=t.left,i=r===void 0?0:r,o=t.transform,a=t.className,s=t.children,l=t.innerRef,c=x_e(t,y_e);return Z.createElement("g",P3({ref:l,className:Mc("visx-group",a),transform:o||"translate("+i+", "+n+")"},c),s)}wx.propTypes={top:qe.number,left:qe.number,transform:qe.string,className:qe.string,children:qe.node,innerRef:qe.oneOfType([qe.string,qe.func,qe.object])};var b_e=["from","to","fill","className","innerRef"];function I3(){return I3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I3.apply(this,arguments)}function __e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cV(t){var e=t.from,n=e===void 0?{x:0,y:0}:e,r=t.to,i=r===void 0?{x:1,y:1}:r,o=t.fill,a=o===void 0?"transparent":o,s=t.className,l=t.innerRef,c=__e(t,b_e),f=n.x===i.x||n.y===i.y;return Z.createElement("line",I3({ref:l,className:Mc("visx-line",s),x1:n.x,y1:n.y,x2:i.x,y2:i.y,fill:a,shapeRendering:f?"crispEdges":"auto"},c))}var w_e=uV;function uV(t,e,n){t instanceof RegExp&&(t=IF(t,n)),e instanceof RegExp&&(e=IF(e,n));var r=fV(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function IF(t,e){var n=e.match(t);return n?n[0]:null}uV.range=fV;function fV(t,e,n){var r,i,o,a,s,l=n.indexOf(t),c=n.indexOf(e,l+1),f=l;if(l>=0&&c>0){for(r=[],o=n.length;f>=0&&!s;)f==l?(r.push(f),l=n.indexOf(t,f+1)):r.length==1?s=[r.pop(),c]:(i=r.pop(),i<o&&(o=i,a=c),c=n.indexOf(e,f+1)),f=l<c&&l>=0?l:c;r.length&&(s=[o,a])}return s}var S_e=dV;function dV(t,e,n){t instanceof RegExp&&(t=LF(t,n)),e instanceof RegExp&&(e=LF(e,n));var r=hV(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function LF(t,e){var n=e.match(t);return n?n[0]:null}dV.range=hV;function hV(t,e,n){var r,i,o,a,s,l=n.indexOf(t),c=n.indexOf(e,l+1),f=l;if(l>=0&&c>0){if(t===e)return[l,c];for(r=[],o=n.length;f>=0&&!s;)f==l?(r.push(f),l=n.indexOf(t,f+1)):r.length==1?s=[r.pop(),c]:(i=r.pop(),i<o&&(o=i,a=c),c=n.indexOf(e,f+1)),f=l<c&&l>=0?l:c;r.length&&(s=[o,a])}return s}var M_e=S_e,E_e=pV;function pV(t,e,n){var r=t;return C_e(t,e).reduce(function(i,o){return i.replace(o.functionIdentifier+"("+o.matches.body+")",T_e(o.matches.body,o.functionIdentifier,n,r,e))},t)}function C_e(t,e){var n=[],r=typeof e=="string"?new RegExp("\\b("+e+")\\("):e;do{var i=r.exec(t);if(!i)return n;if(i[1]===void 0)throw new Error("Missing the first couple of parenthesis to get the function identifier in "+e);var o=i[1],a=i.index,s=M_e("(",")",t.substring(a));if(!s||s.start!==i[0].length-1)throw new SyntaxError(o+"(): missing closing ')' in the value '"+t+"'");n.push({matches:s,functionIdentifier:o}),t=s.post}while(r.test(t));return n}function T_e(t,e,n,r,i){return n(pV(t,i,n),e,r)}var Bo=function(t){this.value=t};Bo.math={isDegree:!0,acos:function(t){return Bo.math.isDegree?180/Math.PI*Math.acos(t):Math.acos(t)},add:function(t,e){return t+e},asin:function(t){return Bo.math.isDegree?180/Math.PI*Math.asin(t):Math.asin(t)},atan:function(t){return Bo.math.isDegree?180/Math.PI*Math.atan(t):Math.atan(t)},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:function(t){return Math.log(t+Math.sqrt(t*t+1))},atanh:function(t){return Math.log((1+t)/(1-t))},C:function(t,e){var n=1,r=t-e,i=e;i<r&&(i=r,r=e);for(var o=i+1;o<=t;o++)n*=o;return n/Bo.math.fact(r)},changeSign:function(t){return-t},cos:function(t){return Bo.math.isDegree&&(t=Bo.math.toRadian(t)),Math.cos(t)},cosh:function(t){return(Math.pow(Math.E,t)+Math.pow(Math.E,-1*t))/2},div:function(t,e){return t/e},fact:function(t){if(t%1!==0)return"NaN";for(var e=1,n=2;n<=t;n++)e*=n;return e},inverse:function(t){return 1/t},log:function(t){return Math.log(t)/Math.log(10)},mod:function(t,e){return t%e},mul:function(t,e){return t*e},P:function(t,e){for(var n=1,r=Math.floor(t)-Math.floor(e)+1;r<=Math.floor(t);r++)n*=r;return n},Pi:function(t,e,n){for(var r=1,i=t;i<=e;i++)r*=Number(n.postfixEval({n:i}));return r},pow10x:function(t){for(var e=1;t--;)e*=10;return e},sigma:function(t,e,n){for(var r=0,i=t;i<=e;i++)r+=Number(n.postfixEval({n:i}));return r},sin:function(t){return Bo.math.isDegree&&(t=Bo.math.toRadian(t)),Math.sin(t)},sinh:function(t){return(Math.pow(Math.E,t)-Math.pow(Math.E,-1*t))/2},sub:function(t,e){return t-e},tan:function(t){return Bo.math.isDegree&&(t=Bo.math.toRadian(t)),Math.tan(t)},tanh:function(t){return Bo.sinha(t)/Bo.cosha(t)},toRadian:function(t){return t*Math.PI/180},and:function(t,e){return t&e}};Bo.Exception=function(t){this.message=t};var A_e=Bo,pn=A_e;function Uo(t,e){for(var n=0;n<t.length;n++)t[n]+=e;return t}var Gf=[{token:"sin",show:"sin",type:0,value:pn.math.sin},{token:"cos",show:"cos",type:0,value:pn.math.cos},{token:"tan",show:"tan",type:0,value:pn.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:pn.math.P},{token:"C",show:"C",type:10,value:pn.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:pn.math.asin},{token:"acos",show:"acos",type:0,value:pn.math.acos},{token:"atan",show:"atan",type:0,value:pn.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:pn.math.cosh},{token:"acosh",show:"acosh",type:0,value:pn.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:pn.math.div},{token:"!",show:"!",type:7,value:pn.math.fact},{token:"tanh",show:"tanh",type:0,value:pn.math.tanh},{token:"atanh",show:"atanh",type:0,value:pn.math.atanh},{token:"Mod",show:" Mod ",type:2,value:pn.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:pn.math.mul},{token:"sinh",show:"sinh",type:0,value:pn.math.sinh},{token:"asinh",show:"asinh",type:0,value:pn.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:pn.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:pn.math.add},{token:"-",show:"-",type:9,value:pn.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:pn.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:pn.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:pn.math.and}],L3={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11};for(var lw=0;lw<Gf.length;lw++)Gf[lw].precedence=L3[Gf[lw].type];var Ql={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},Im={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},R_e={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},fl={},qv={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},P_e={1:!0},Ho=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function I_e(t,e,n,r){for(var i=0;i<r;i++)if(t[n+i]!==e[i])return!1;return!0}pn.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14};pn.addToken=function(t){for(var e=0;e<t.length;e++){var n=t[e].token.length,r=-1;t[e].type===pn.tokenTypes.FUNCTION_WITH_N_ARGS&&t[e].numberOfArguments===void 0&&(t[e].numberOfArguments=2),Ho[n]=Ho[n]||[];for(var i=0;i<Ho[n].length;i++)if(t[e].token===Ho[n][i]){r=mV(Ho[n][i],Gf);break}r===-1?(Gf.push(t[e]),t[e].precedence=L3[t[e].type],Ho.length<=t[e].token.length&&(Ho[t[e].token.length]=[]),Ho[t[e].token.length].push(t[e].token)):(Gf[r]=t[e],t[e].precedence=L3[t[e].type])}};function mV(t,e){for(var n=0;n<e.length;n++)if(e[n].token===t)return n;return-1}function L_e(t){for(var e=[],n=t.length,r,i,o,a=0;a<n;a++)if(!(a<n-1&&t[a]===" "&&t[a+1]===" ")){for(r="",i=t.length-a>Ho.length-2?Ho.length-1:t.length-a;i>0;i--)if(Ho[i]!==void 0)for(o=0;o<Ho[i].length;o++)I_e(t,Ho[i][o],a,i)&&(r=Ho[i][o],o=Ho[i].length,i=0);if(a+=r.length-1,r==="")throw new pn.Exception("Can't understand after "+t.slice(a));e.push(Gf[mV(r,Gf)])}return e}var O_e={value:pn.math.changeSign,type:0,pre:21,show:"-"},cw={value:")",show:")",type:5,pre:0},Yv={value:"(",type:4,pre:0,show:"("};pn.lex=function(t,e){var n=[Yv],r=[],i=t,o=Ql,a=0,s=fl,l="",c;typeof e<"u"&&pn.addToken(e);var f={},p=L_e(i);for(c=0;c<p.length;c++){var m=p[c];if(m.type===14){if(c>0&&c<p.length-1&&p[c+1].type===1&&(p[c-1].type===1||p[c-1].type===6))throw new pn.Exception("Unexpected Space");continue}var v=m.token,x=m.type,_=m.value,b=m.precedence,y=m.show,S=n[n.length-1],M;for(M=r.length;M--&&r[M]===0;)if([0,2,3,4,5,9,11,12,13].indexOf(x)!==-1){if(o[x]!==!0)throw new pn.Exception(v+" is not allowed after "+l);n.push(cw),o=Im,s=qv,r.pop()}if(o[x]!==!0)throw new pn.Exception(v+" is not allowed after "+l);if(s[x]===!0&&(x=2,_=pn.math.mul,y="&times;",b=3,c=c-1),f={value:_,type:x,pre:b,show:y,numberOfArguments:m.numberOfArguments},x===0)o=Ql,s=fl,Uo(r,2),n.push(f),p[c+1].type!==4&&(n.push(Yv),r.push(2));else if(x===1)S.type===1?(S.value+=_,Uo(r,1)):n.push(f),o=Im,s=R_e;else if(x===2)o=Ql,s=fl,Uo(r,2),n.push(f);else if(x===3)n.push(f),o=Im,s=qv;else if(x===4)Uo(r,1),a++,o=Ql,s=fl,n.push(f);else if(x===5){if(!a)throw new pn.Exception("Closing parenthesis are more than opening one, wait What!!!");a--,o=Im,s=qv,n.push(f),Uo(r,1)}else if(x===6){if(S.hasDec)throw new pn.Exception("Two decimals are not allowed in one number");S.type!==1&&(S={value:0,type:1,pre:0},n.push(S)),o=P_e,Uo(r,1),s=fl,S.value+=_,S.hasDec=!0}else x===7&&(o=Im,s=qv,Uo(r,1),n.push(f));x===8?(o=Ql,s=fl,Uo(r,m.numberOfArguments+2),n.push(f),p[c+1].type!==4&&(n.push(Yv),r.push(m.numberOfArguments+2))):x===9?(S.type===9?S.value===pn.math.add?(S.value=_,S.show=y,Uo(r,1)):S.value===pn.math.sub&&y==="-"&&(S.value=pn.math.add,S.show="+",Uo(r,1)):S.type!==5&&S.type!==7&&S.type!==1&&S.type!==3&&S.type!==13?v==="-"&&(o=Ql,s=fl,Uo(r,2).push(2),n.push(O_e),n.push(Yv)):(n.push(f),Uo(r,2)),o=Ql,s=fl):x===10?(o=Ql,s=fl,Uo(r,2),n.push(f)):x===11?(o=Ql,s=fl,n.push(f)):x===12?(o=Ql,s=fl,Uo(r,6),n.push(f),p[c+1].type!==4&&(n.push(Yv),r.push(6))):x===13&&(o=Im,s=qv,n.push(f)),Uo(r,-1),l=v}for(M=r.length;M--;)n.push(cw);if(o[5]!==!0)throw new pn.Exception("complete the expression");for(;a--;)n.push(cw);return n.push(cw),new pn(n)};var k_e=pn,O3=k_e;O3.prototype.toPostfix=function(){for(var t=[],e,n,r,i,o,a=[{value:"(",type:4,pre:0}],s=this.value,l=1;l<s.length;l++)if(s[l].type===1||s[l].type===3||s[l].type===13)s[l].type===1&&(s[l].value=Number(s[l].value)),t.push(s[l]);else if(s[l].type===4)a.push(s[l]);else if(s[l].type===5)for(;(n=a.pop()).type!==4;)t.push(n);else if(s[l].type===11){for(;(n=a.pop()).type!==4;)t.push(n);a.push(n)}else{e=s[l],i=e.pre,o=a[a.length-1],r=o.pre;var c=o.value=="Math.pow"&&e.value=="Math.pow";if(i>r)a.push(e);else{for(;r>=i&&!c||c&&i<r;)n=a.pop(),o=a[a.length-1],t.push(n),r=o.pre,c=e.value=="Math.pow"&&o.value=="Math.pow";a.push(e)}}return new O3(t)};var N_e=O3,Uy=N_e;Uy.prototype.postfixEval=function(t){t=t||{},t.PI=Math.PI,t.E=Math.E;for(var e=[],n,r,i,o=this.value,a=typeof t.n<"u",s=0;s<o.length;s++)if(o[s].type===1)e.push({value:o[s].value,type:1});else if(o[s].type===3)e.push({value:t[o[s].value],type:1});else if(o[s].type===0)typeof e[e.length-1].type>"u"?e[e.length-1].value.push(o[s]):e[e.length-1].value=o[s].value(e[e.length-1].value);else if(o[s].type===7)typeof e[e.length-1].type>"u"?e[e.length-1].value.push(o[s]):e[e.length-1].value=o[s].value(e[e.length-1].value);else if(o[s].type===8){for(var l=[],c=0;c<o[s].numberOfArguments;c++)l.push(e.pop().value);e.push({type:1,value:o[s].value.apply(o[s],l.reverse())})}else o[s].type===10?(n=e.pop(),r=e.pop(),typeof r.type>"u"?(r.value=r.concat(n),r.value.push(o[s]),e.push(r)):typeof n.type>"u"?(n.unshift(r),n.push(o[s]),e.push(n)):e.push({type:1,value:o[s].value(r.value,n.value)})):o[s].type===2||o[s].type===9?(n=e.pop(),r=e.pop(),typeof r.type>"u"?(r=r.concat(n),r.push(o[s]),e.push(r)):typeof n.type>"u"?(n.unshift(r),n.push(o[s]),e.push(n)):e.push({type:1,value:o[s].value(r.value,n.value)})):o[s].type===12?(n=e.pop(),typeof n.type<"u"&&(n=[n]),r=e.pop(),i=e.pop(),e.push({type:1,value:o[s].value(i.value,r.value,new Uy(n))})):o[s].type===13&&(a?e.push({value:t[o[s].value],type:3}):e.push([o[s]]));if(e.length>1)throw new Uy.Exception("Uncaught Syntax error");return e[0].value>1e15?"Infinity":parseFloat(e[0].value.toFixed(15))};Uy.eval=function(t,e,n){return typeof e>"u"?this.lex(t).toPostfix().postfixEval():typeof n>"u"?typeof e.length<"u"?this.lex(t,e).toPostfix().postfixEval():this.lex(t).toPostfix().postfixEval(e):this.lex(t,e).toPostfix().postfixEval(n)};var D_e=Uy,gV=D_e;gV.prototype.formulaEval=function(){for(var t,e,n,r=[],i=this.value,o=0;o<i.length;o++)i[o].type===1||i[o].type===3?r.push({value:i[o].type===3?i[o].show:i[o].value,type:1}):i[o].type===13?r.push({value:i[o].show,type:1}):i[o].type===0?r[r.length-1]={value:i[o].show+(i[o].show!="-"?"(":"")+r[r.length-1].value+(i[o].show!="-"?")":""),type:0}:i[o].type===7?r[r.length-1]={value:(r[r.length-1].type!=1?"(":"")+r[r.length-1].value+(r[r.length-1].type!=1?")":"")+i[o].show,type:7}:i[o].type===10?(t=r.pop(),e=r.pop(),i[o].show==="P"||i[o].show==="C"?r.push({value:"<sup>"+e.value+"</sup>"+i[o].show+"<sub>"+t.value+"</sub>",type:10}):r.push({value:(e.type!=1?"(":"")+e.value+(e.type!=1?")":"")+"<sup>"+t.value+"</sup>",type:1})):i[o].type===2||i[o].type===9?(t=r.pop(),e=r.pop(),r.push({value:(e.type!=1?"(":"")+e.value+(e.type!=1?")":"")+i[o].show+(t.type!=1?"(":"")+t.value+(t.type!=1?")":""),type:i[o].type})):i[o].type===12&&(t=r.pop(),e=r.pop(),n=r.pop(),r.push({value:i[o].show+"("+n.value+","+e.value+","+t.value+")",type:12}));return r[0].value};var F_e=gV,U_e=w_e,z_e=E_e,B_e=F_e,$_e=100,H_e=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g,KT,V_e=W_e;function W_e(t,e){KT=0,e=Math.pow(10,e===void 0?5:e),t=t.replace(/\n+/g," ");function n(i,o,a){if(KT++>$_e)throw KT=0,new Error("Call stack overflow for "+a);if(i==="")throw new Error(o+"(): '"+a+"' must contain a non-whitespace string");i=r(i,a);var s=G_e(i);if(s.length>1||i.indexOf("var(")>-1)return o+"("+i+")";var l=s[0]||"";l==="%"&&(i=i.replace(/\b[0-9\.]+%/g,function(p){return parseFloat(p.slice(0,-1))*.01}));var c=i.replace(new RegExp(l,"gi"),""),f;try{f=B_e.eval(c)}catch{return o+"("+i+")"}return l==="%"&&(f*=100),(o.length||l==="%")&&(f=Math.round(f*e)/e),f+=l,f}function r(i,o){i=i.replace(/((?:\-[a-z]+\-)?calc)/g,"");for(var a="",s=i,l;l=H_e.exec(s);){l[0].index>0&&(a+=s.substring(0,l[0].index));var c=U_e("(",")",s.substring([0].index));if(c.body==="")throw new Error("'"+i+"' must contain a non-whitespace string");var f=n(c.body,"",o);a+=c.pre+f,s=c.post}return a+s}return z_e(t,/((?:\-[a-z]+\-)?calc)\(/,n)}function G_e(t){for(var e=[],n=[],r=/[\.0-9]([%a-z]+)/gi,i=r.exec(t);i;)!i||!i[1]||(n.indexOf(i[1].toLowerCase())===-1&&(e.push(i[1]),n.push(i[1].toLowerCase())),i=r.exec(t));return e}const ZT=Au(V_e);var j_e=typeof iu=="object"&&iu&&iu.Object===Object&&iu,vV=j_e,X_e=vV,q_e=typeof self=="object"&&self&&self.Object===Object&&self,Y_e=X_e||q_e||Function("return this")(),Tc=Y_e,K_e=Tc,Z_e=K_e.Symbol,Sx=Z_e,OF=Sx,yV=Object.prototype,Q_e=yV.hasOwnProperty,J_e=yV.toString,Kv=OF?OF.toStringTag:void 0;function ewe(t){var e=Q_e.call(t,Kv),n=t[Kv];try{t[Kv]=void 0;var r=!0}catch{}var i=J_e.call(t);return r&&(e?t[Kv]=n:delete t[Kv]),i}var twe=ewe,nwe=Object.prototype,rwe=nwe.toString;function iwe(t){return rwe.call(t)}var owe=iwe,kF=Sx,awe=twe,swe=owe,lwe="[object Null]",cwe="[object Undefined]",NF=kF?kF.toStringTag:void 0;function uwe(t){return t==null?t===void 0?cwe:lwe:NF&&NF in Object(t)?awe(t):swe(t)}var fp=uwe;function fwe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _0=fwe,dwe=fp,hwe=_0,pwe="[object AsyncFunction]",mwe="[object Function]",gwe="[object GeneratorFunction]",vwe="[object Proxy]";function ywe(t){if(!hwe(t))return!1;var e=dwe(t);return e==mwe||e==gwe||e==pwe||e==vwe}var xV=ywe,xwe=Tc,bwe=xwe["__core-js_shared__"],_we=bwe,QT=_we,DF=function(){var t=/[^.]+$/.exec(QT&&QT.keys&&QT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wwe(t){return!!DF&&DF in t}var Swe=wwe,Mwe=Function.prototype,Ewe=Mwe.toString;function Cwe(t){if(t!=null){try{return Ewe.call(t)}catch{}try{return t+""}catch{}}return""}var bV=Cwe,Twe=xV,Awe=Swe,Rwe=_0,Pwe=bV,Iwe=/[\\^$.*+?()[\]{}|]/g,Lwe=/^\[object .+?Constructor\]$/,Owe=Function.prototype,kwe=Object.prototype,Nwe=Owe.toString,Dwe=kwe.hasOwnProperty,Fwe=RegExp("^"+Nwe.call(Dwe).replace(Iwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Uwe(t){if(!Rwe(t)||Awe(t))return!1;var e=Twe(t)?Fwe:Lwe;return e.test(Pwe(t))}var zwe=Uwe;function Bwe(t,e){return t==null?void 0:t[e]}var $we=Bwe,Hwe=zwe,Vwe=$we;function Wwe(t,e){var n=Vwe(t,e);return Hwe(n)?n:void 0}var dp=Wwe,Gwe=dp,jwe=Gwe(Object,"create"),i2=jwe,FF=i2;function Xwe(){this.__data__=FF?FF(null):{},this.size=0}var qwe=Xwe;function Ywe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Kwe=Ywe,Zwe=i2,Qwe="__lodash_hash_undefined__",Jwe=Object.prototype,eSe=Jwe.hasOwnProperty;function tSe(t){var e=this.__data__;if(Zwe){var n=e[t];return n===Qwe?void 0:n}return eSe.call(e,t)?e[t]:void 0}var nSe=tSe,rSe=i2,iSe=Object.prototype,oSe=iSe.hasOwnProperty;function aSe(t){var e=this.__data__;return rSe?e[t]!==void 0:oSe.call(e,t)}var sSe=aSe,lSe=i2,cSe="__lodash_hash_undefined__";function uSe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lSe&&e===void 0?cSe:e,this}var fSe=uSe,dSe=qwe,hSe=Kwe,pSe=nSe,mSe=sSe,gSe=fSe;function w0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}w0.prototype.clear=dSe;w0.prototype.delete=hSe;w0.prototype.get=pSe;w0.prototype.has=mSe;w0.prototype.set=gSe;var vSe=w0;function ySe(){this.__data__=[],this.size=0}var xSe=ySe;function bSe(t,e){return t===e||t!==t&&e!==e}var zL=bSe,_Se=zL;function wSe(t,e){for(var n=t.length;n--;)if(_Se(t[n][0],e))return n;return-1}var o2=wSe,SSe=o2,MSe=Array.prototype,ESe=MSe.splice;function CSe(t){var e=this.__data__,n=SSe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ESe.call(e,n,1),--this.size,!0}var TSe=CSe,ASe=o2;function RSe(t){var e=this.__data__,n=ASe(e,t);return n<0?void 0:e[n][1]}var PSe=RSe,ISe=o2;function LSe(t){return ISe(this.__data__,t)>-1}var OSe=LSe,kSe=o2;function NSe(t,e){var n=this.__data__,r=kSe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var DSe=NSe,FSe=xSe,USe=TSe,zSe=PSe,BSe=OSe,$Se=DSe;function S0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}S0.prototype.clear=FSe;S0.prototype.delete=USe;S0.prototype.get=zSe;S0.prototype.has=BSe;S0.prototype.set=$Se;var a2=S0,HSe=dp,VSe=Tc,WSe=HSe(VSe,"Map"),BL=WSe,UF=vSe,GSe=a2,jSe=BL;function XSe(){this.size=0,this.__data__={hash:new UF,map:new(jSe||GSe),string:new UF}}var qSe=XSe;function YSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var KSe=YSe,ZSe=KSe;function QSe(t,e){var n=t.__data__;return ZSe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var s2=QSe,JSe=s2;function eMe(t){var e=JSe(this,t).delete(t);return this.size-=e?1:0,e}var tMe=eMe,nMe=s2;function rMe(t){return nMe(this,t).get(t)}var iMe=rMe,oMe=s2;function aMe(t){return oMe(this,t).has(t)}var sMe=aMe,lMe=s2;function cMe(t,e){var n=lMe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var uMe=cMe,fMe=qSe,dMe=tMe,hMe=iMe,pMe=sMe,mMe=uMe;function M0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}M0.prototype.clear=fMe;M0.prototype.delete=dMe;M0.prototype.get=hMe;M0.prototype.has=pMe;M0.prototype.set=mMe;var $L=M0,_V=$L,gMe="Expected a function";function HL(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(gMe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(HL.Cache||_V),n}HL.Cache=_V;var wV=HL;const vMe=Au(wV);var zF="__react_svg_text_measurement_id";function yMe(t,e){try{var n=document.getElementById(zF);if(!n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-hidden","true"),r.style.width="0",r.style.height="0",r.style.position="absolute",r.style.top="-100%",r.style.left="-100%",n=document.createElementNS("http://www.w3.org/2000/svg","text"),n.setAttribute("id",zF),r.appendChild(n),document.body.appendChild(r)}return Object.assign(n.style,e),n.textContent=t,n.getComputedTextLength()}catch{return null}}const BF=vMe(yMe,function(t,e){return t+"_"+JSON.stringify(e)});var xMe=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function bMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function JT(t){return typeof t=="number"}function $F(t){return typeof t=="number"&&Number.isFinite(t)||typeof t=="string"}function _Me(t){var e=t.verticalAnchor,n=e===void 0?"end":e,r=t.scaleToFit,i=r===void 0?!1:r,o=t.angle,a=t.width,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,f=c===void 0?"0.71em":c,p=t.children,m=t.style,v=bMe(t,xMe),x=v.x,_=x===void 0?0:x,b=v.y,y=b===void 0?0:b,S=!$F(_)||!$F(y),M=F.useMemo(function(){var O=p==null?[]:p.toString().split(/(?:(?!\u00A0+)\s+)/);return{wordsWithWidth:O.map(function(N){return{word:N,wordWidth:BF(N,m)||0}}),spaceWidth:BF("",m)||0}},[p,m]),C=M.wordsWithWidth,P=M.spaceWidth,A=F.useMemo(function(){return S?[]:a||i?C.reduce(function(O,N){var B=N.word,Y=N.wordWidth,J=O[O.length-1];if(J&&(a==null||i||(J.width||0)+Y+P<a))J.words.push(B),J.width=J.width||0,J.width+=Y+P;else{var G={words:[B],width:Y};O.push(G)}return O},[]):[{words:p==null?[]:p.toString().split(/(?:(?!\u00A0+)\s+)/)}]},[S,a,i,p,C,P]),R=F.useMemo(function(){var O=S?"":ZT(n==="start"?"calc("+f+")":n==="middle"?"calc("+(A.length-1)/2+" * -"+l+" + ("+f+" / 2))":"calc("+(A.length-1)+" * -"+l+")");return O},[S,n,f,A.length,l]),U=F.useMemo(function(){var O=[];if(S)return"";if(JT(_)&&JT(y)&&JT(a)&&i&&A.length>0){var N=A[0].width||1,B=i==="shrink-only"?Math.min(a/N,1):a/N,Y=B,J=_-B*_,G=y-Y*y;O.push("matrix("+B+", 0, 0, "+Y+", "+J+", "+G+")")}return o&&O.push("rotate("+o+", "+_+", "+y+")"),O.length>0?O.join(" "):""},[S,_,y,a,i,A,o]);return{wordsByLines:A,startDy:R,transform:U}}var wMe=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function k3(){return k3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k3.apply(this,arguments)}function SMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var MMe={overflow:"visible"};function SV(t){var e=t.dx,n=e===void 0?0:e,r=t.dy,i=r===void 0?0:r,o=t.textAnchor,a=o===void 0?"start":o,s=t.innerRef,l=t.innerTextRef;t.verticalAnchor,t.angle;var c=t.lineHeight,f=c===void 0?"1em":c;t.scaleToFit,t.capHeight,t.width;var p=SMe(t,wMe),m=p.x,v=m===void 0?0:m,x=p.fontSize,_=_Me(t),b=_.wordsByLines,y=_.startDy,S=_.transform;return Z.createElement("svg",{ref:s,x:n,y:i,fontSize:x,style:MMe},b.length>0?Z.createElement("text",k3({ref:l,transform:S},p,{textAnchor:a}),b.map(function(M,C){return Z.createElement("tspan",{key:C,x:v,dy:C===0?y:f},M.words.join(" "))})):null)}var EMe={top:"top",left:"left",right:"right",bottom:"bottom"};const Za=EMe;function CMe(t){var e=t.labelOffset,n=t.labelProps,r=t.orientation,i=t.range,o=t.tickLabelFontSize,a=t.tickLength,s=r===Za.left||r===Za.top?-1:1,l,c,f;if(r===Za.top||r===Za.bottom){var p=r===Za.bottom&&typeof n.fontSize=="number"?n.fontSize:0;l=(Number(i[0])+Number(i[i.length-1]))/2,c=s*(a+e+o+p)}else l=s*((Number(i[0])+Number(i[i.length-1]))/2),c=-(a+e),f="rotate("+s*90+")";return{x:l,y:c,transform:f}}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}function TMe(t){var e=t.hideTicks,n=t.horizontal,r=t.orientation,i=t.tickClassName,o=t.tickComponent,a=t.tickLabelProps,s=t.tickStroke,l=s===void 0?"#222":s,c=t.tickTransform,f=t.ticks,p=t.strokeWidth,m=t.tickLineProps;return f.map(function(v){var x,_=v.value,b=v.index,y=v.from,S=v.to,M=v.formattedValue,C=(x=a[b])!=null?x:{},P=Math.max(10,typeof C.fontSize=="number"&&C.fontSize||0),A=S.y+(n&&r!==Za.top?P:0);return Z.createElement(wx,{key:"visx-tick-"+_+"-"+b,className:Mc("visx-axis-tick",i),transform:c},!e&&Z.createElement(cV,zy({from:y,to:S,stroke:l,strokeWidth:p,strokeLinecap:"square"},m)),o?o(zy({},C,{x:S.x,y:A,formattedValue:M})):Z.createElement(SV,zy({x:S.x,y:A},C),M))})}function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qS.apply(this,arguments)}var HF={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function AMe(t){var e=t.axisFromPoint,n=t.axisLineClassName,r=t.axisToPoint,i=t.hideAxisLine,o=t.hideTicks,a=t.horizontal,s=t.label,l=s===void 0?"":s,c=t.labelClassName,f=t.labelOffset,p=f===void 0?14:f,m=t.labelProps,v=m===void 0?HF:m,x=t.orientation,_=x===void 0?Za.bottom:x,b=t.scale,y=t.stroke,S=y===void 0?"#222":y,M=t.strokeDasharray,C=t.strokeWidth,P=C===void 0?1:C,A=t.tickClassName,R=t.tickComponent,U=t.tickLineProps,O=t.tickLabelProps,N=t.tickLength,B=N===void 0?8:N,Y=t.tickStroke,J=Y===void 0?"#222":Y,G=t.tickTransform,ne=t.ticks,ie=t.ticksComponent,se=ie===void 0?TMe:ie,H=qS({},HF,typeof O=="object"?O:null),q=ne.map(function(Q){var ae=Q.value,xe=Q.index;return typeof O=="function"?O(ae,xe,ne):H}),te=Math.max.apply(Math,[10].concat(q.map(function(Q){return typeof Q.fontSize=="number"?Q.fontSize:0})));return Z.createElement(Z.Fragment,null,se({hideTicks:o,horizontal:a,orientation:_,scale:b,tickClassName:A,tickComponent:R,tickLabelProps:q,tickStroke:J,tickTransform:G,ticks:ne,strokeWidth:P,tickLineProps:U}),!i&&Z.createElement(cV,{className:Mc("visx-axis-line",n),from:e,to:r,stroke:S,strokeWidth:P,strokeDasharray:M}),l&&Z.createElement(SV,qS({className:Mc("visx-axis-label",c)},CMe({labelOffset:p,labelProps:v,orientation:_,range:b.range(),tickLabelFontSize:te,tickLength:B}),v),l))}function RMe(t,e){e===void 0&&(e="center");var n=t;if(e!=="start"&&"bandwidth"in n){var r=n.bandwidth();return e==="center"&&(r/=2),n.round()&&(r=Math.round(r)),function(i){var o=n(i);return typeof o=="number"?o+r:o}}return t}function PMe(t){var e=t;return"tickFormat"in e?e.tickFormat():Jbe}var G1=function(){function t(n){var r=n.x,i=r===void 0?0:r,o=n.y,a=o===void 0?0:o;this.x=0,this.y=0,this.x=i,this.y=a}var e=t.prototype;return e.value=function(){return{x:this.x,y:this.y}},e.toArray=function(){return[this.x,this.y]},t}();function uw(t,e){var n=t.x,r=t.y;return new G1(e?{x:n,y:r}:{x:r,y:n})}function N3(){return N3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N3.apply(this,arguments)}var eA=0;function IMe(t){return t===void 0&&(t=eA),typeof t=="number"?{start:t,end:t}:N3({start:eA,end:eA},t)}var LMe=["children","axisClassName","hideAxisLine","hideTicks","hideZero","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function D3(){return D3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D3.apply(this,arguments)}function OMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function MV(t){var e=t.children,n=e===void 0?AMe:e,r=t.axisClassName,i=t.hideAxisLine,o=i===void 0?!1:i,a=t.hideTicks,s=a===void 0?!1:a,l=t.hideZero,c=l===void 0?!1:l,f=t.left,p=f===void 0?0:f,m=t.numTicks,v=m===void 0?10:m,x=t.orientation,_=x===void 0?Za.bottom:x,b=t.rangePadding,y=b===void 0?0:b,S=t.scale,M=t.tickFormat,C=t.tickLength,P=C===void 0?8:C,A=t.tickValues,R=t.top,U=R===void 0?0:R,O=OMe(t,LMe),N=M??PMe(S),B=_===Za.left,Y=_===Za.top,J=Y||_===Za.bottom,G=RMe(S),ne=B||Y?-1:1,ie=S.range(),se=IMe(y),H=uw({x:Number(ie[0])+.5-se.start,y:0},J),q=uw({x:Number(ie[ie.length-1])+.5+se.end,y:0},J),te=(A??UL(S,v)).filter(function(ae){return!c||ae!==0&&ae!=="0"}).map(function(ae,xe){return{value:ae,index:xe}}),Q=te.map(function(ae){var xe=ae.value,we=ae.index,Te=FL(G(xe));return{value:xe,index:we,from:uw({x:Te,y:0},J),to:uw({x:Te,y:P*ne},J),formattedValue:N(xe,we,te)}});return Z.createElement(wx,{className:Mc("visx-axis",r),top:U,left:p},n(D3({},O,{axisFromPoint:H,axisToPoint:q,hideAxisLine:o,hideTicks:s,hideZero:c,horizontal:J,numTicks:v,orientation:_,rangePadding:y,scale:S,tickFormat:N,tickLength:P,tickPosition:G,tickSign:ne,ticks:Q})))}var kMe=["axisClassName","labelOffset","tickLength","tickLabelProps"];function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(this,arguments)}function NMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var DMe={dx:"-0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"end"};function FMe(t){var e=t.axisClassName,n=t.labelOffset,r=n===void 0?36:n,i=t.tickLength,o=i===void 0?8:i,a=t.tickLabelProps,s=NMe(t,kMe),l=typeof a=="function"?a:YS({},DMe,a);return Z.createElement(MV,YS({axisClassName:Mc("visx-axis-left",e),labelOffset:r,orientation:Za.left,tickLabelProps:l,tickLength:o},s))}var UMe=["axisClassName","labelOffset","tickLength","tickLabelProps"];function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KS.apply(this,arguments)}function zMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var BMe={dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"};function $Me(t){var e=t.axisClassName,n=t.labelOffset,r=n===void 0?8:n,i=t.tickLength,o=i===void 0?8:i,a=t.tickLabelProps,s=zMe(t,UMe),l=typeof a=="function"?a:KS({},BMe,a);return Z.createElement(MV,KS({axisClassName:Mc("visx-axis-bottom",e),labelOffset:r,orientation:Za.bottom,tickLabelProps:l,tickLength:o},s))}var EV=jMe,HMe=CV(F),VMe=CV(lV),WMe=["from","to","fill","className","innerRef"];function CV(t){return t&&t.__esModule?t:{default:t}}function F3(){return F3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F3.apply(this,arguments)}function GMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jMe(t){var e=t.from,n=e===void 0?{x:0,y:0}:e,r=t.to,i=r===void 0?{x:1,y:1}:r,o=t.fill,a=o===void 0?"transparent":o,s=t.className,l=t.innerRef,c=GMe(t,WMe),f=n.x===i.x||n.y===i.y;return HMe.default.createElement("line",F3({ref:l,className:(0,VMe.default)("visx-line",s),x1:n.x,y1:n.y,x2:i.x,y2:i.y,fill:a,shapeRendering:f?"crispEdges":"auto"},c))}function TV(t){return"bandwidth"in t?t.bandwidth():0}var XMe=["top","left","scale","width","stroke","strokeWidth","strokeDasharray","className","children","numTicks","lineStyle","offset","tickValues"];function U3(){return U3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U3.apply(this,arguments)}function qMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AV(t){var e=t.top,n=e===void 0?0:e,r=t.left,i=r===void 0?0:r,o=t.scale,a=t.width,s=t.stroke,l=s===void 0?"#eaf0f6":s,c=t.strokeWidth,f=c===void 0?1:c,p=t.strokeDasharray,m=t.className,v=t.children,x=t.numTicks,_=x===void 0?10:x,b=t.lineStyle,y=t.offset,S=t.tickValues,M=qMe(t,XMe),C=S??UL(o,_),P=(y??0)+TV(o)/2,A=C.map(function(R,U){var O,N=((O=FL(o(R)))!=null?O:0)+P;return{index:U,from:new G1({x:0,y:N}),to:new G1({x:a,y:N})}});return Z.createElement(wx,{className:Mc("visx-rows",m),top:n,left:i},v?v({lines:A}):A.map(function(R){var U=R.from,O=R.to,N=R.index;return Z.createElement(EV,U3({key:"row-line-"+N,from:U,to:O,stroke:l,strokeWidth:f,strokeDasharray:p,style:b},M))}))}AV.propTypes={tickValues:qe.array,width:qe.number.isRequired};var YMe=["top","left","scale","height","stroke","strokeWidth","strokeDasharray","className","numTicks","lineStyle","offset","tickValues","children"];function z3(){return z3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z3.apply(this,arguments)}function KMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function RV(t){var e=t.top,n=e===void 0?0:e,r=t.left,i=r===void 0?0:r,o=t.scale,a=t.height,s=t.stroke,l=s===void 0?"#eaf0f6":s,c=t.strokeWidth,f=c===void 0?1:c,p=t.strokeDasharray,m=t.className,v=t.numTicks,x=v===void 0?10:v,_=t.lineStyle,b=t.offset,y=t.tickValues,S=t.children,M=KMe(t,YMe),C=y??UL(o,x),P=(b??0)+TV(o)/2,A=C.map(function(R,U){var O,N=((O=FL(o(R)))!=null?O:0)+P;return{index:U,from:new G1({x:N,y:0}),to:new G1({x:N,y:a})}});return Z.createElement(wx,{className:Mc("visx-columns",m),top:n,left:i},S?S({lines:A}):A.map(function(R){var U=R.from,O=R.to,N=R.index;return Z.createElement(EV,z3({key:"column-line-"+N,from:U,to:O,stroke:l,strokeWidth:f,strokeDasharray:p,style:_},M))}))}RV.propTypes={tickValues:qe.array,height:qe.number.isRequired};function Gn(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const cr=t=>bxe(t[t.length-1]);var ZMe=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Gn);const QMe=cr(ZMe);var JMe=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Gn);const eEe=cr(JMe);var tEe=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Gn);const nEe=cr(tEe);var rEe=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Gn);const iEe=cr(rEe);var oEe=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Gn);const aEe=cr(oEe);var sEe=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Gn);const lEe=cr(sEe);var cEe=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Gn);const uEe=cr(cEe);var fEe=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Gn);const dEe=cr(fEe);var hEe=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Gn);const pEe=cr(hEe);var mEe=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Gn);const gEe=cr(mEe);var vEe=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Gn);const yEe=cr(vEe);var xEe=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Gn);const bEe=cr(xEe);var _Ee=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Gn);const wEe=cr(_Ee);var SEe=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Gn);const MEe=cr(SEe);var EEe=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Gn);const CEe=cr(EEe);var TEe=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Gn);const AEe=cr(TEe);var REe=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Gn);const PEe=cr(REe);var IEe=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Gn);const LEe=cr(IEe);var OEe=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Gn);const kEe=cr(OEe);var NEe=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Gn);const DEe=cr(NEe);var FEe=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Gn);const UEe=cr(FEe);var zEe=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Gn);const BEe=cr(zEe);var $Ee=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Gn);const HEe=cr($Ee);var VEe=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Gn);const WEe=cr(VEe);var GEe=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Gn);const jEe=cr(GEe);var XEe=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Gn);const qEe=cr(XEe);var YEe=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Gn);const KEe=cr(YEe);function ZEe(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const QEe=t2(Sc(300,.5,0),Sc(-240,.5,1));var JEe=t2(Sc(-100,.75,.35),Sc(80,1.5,.8)),e2e=t2(Sc(260,.75,.35),Sc(80,1.5,.8)),fw=Sc();function t2e(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return fw.h=360*t-100,fw.s=1.5-1.5*e,fw.l=.8-.9*e,fw+""}var dw=Qf(),n2e=Math.PI/3,r2e=Math.PI*2/3;function i2e(t){var e;return t=(.5-t)*Math.PI,dw.r=255*(e=Math.sin(t))*e,dw.g=255*(e=Math.sin(t+n2e))*e,dw.b=255*(e=Math.sin(t+r2e))*e,dw+""}function o2e(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function l2(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const a2e=l2(Gn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var s2e=l2(Gn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),l2e=l2(Gn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),c2e=l2(Gn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),PV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VF=Z.createContext&&Z.createContext(PV),jf=globalThis&&globalThis.__assign||function(){return jf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jf.apply(this,arguments)},u2e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function IV(t){return t&&t.map(function(e,n){return Z.createElement(e.tag,jf({key:n},e.attr),IV(e.child))})}function pd(t){return function(e){return Z.createElement(f2e,jf({attr:jf({},t.attr)},e),IV(t.child))}}function f2e(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,a=u2e(t,["attr","size","title"]),s=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Z.createElement("svg",jf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:jf(jf({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&Z.createElement("title",null,o),t.children)};return VF!==void 0?Z.createElement(VF.Consumer,null,function(n){return e(n)}):e(PV)}function d2e(t){return pd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(t)}function h2e(t){return pd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(t)}function p2e(t){return pd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 10 20 15 15 20"}},{tag:"path",attr:{d:"M4 4v7a4 4 0 0 0 4 4h12"}}]})(t)}function m2e(t){return pd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}}]})(t)}var LV=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},e}()}(),B3=typeof window<"u"&&typeof document<"u"&&window.document===document,ZS=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),g2e=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ZS):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),v2e=2;function y2e(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){g2e(o)}function s(){var l=Date.now();if(n){if(l-i<v2e)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=l}return s}var x2e=20,b2e=["top","right","bottom","left","width","height","size","weight"],_2e=typeof MutationObserver<"u",w2e=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=y2e(this.refresh.bind(this),x2e)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!B3||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_2e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!B3||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=b2e.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),OV=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},l0=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ZS},kV=c2(0,0,0,0);function QS(t){return parseFloat(t)||0}function WF(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+QS(o)},0)}function S2e(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=QS(a)}return n}function M2e(t){var e=t.getBBox();return c2(0,0,e.width,e.height)}function E2e(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return kV;var r=l0(t).getComputedStyle(t),i=S2e(r),o=i.left+i.right,a=i.top+i.bottom,s=QS(r.width),l=QS(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=WF(r,"left","right")+o),Math.round(l+a)!==n&&(l-=WF(r,"top","bottom")+a)),!T2e(t)){var c=Math.round(s+o)-e,f=Math.round(l+a)-n;Math.abs(c)!==1&&(s-=c),Math.abs(f)!==1&&(l-=f)}return c2(i.left,i.top,s,l)}var C2e=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof l0(t).SVGGraphicsElement}:function(t){return t instanceof l0(t).SVGElement&&typeof t.getBBox=="function"}}();function T2e(t){return t===l0(t).document.documentElement}function A2e(t){return B3?C2e(t)?M2e(t):E2e(t):kV}function R2e(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return OV(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function c2(t,e,n,r){return{x:t,y:e,width:n,height:r}}var P2e=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=c2(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=A2e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),I2e=function(){function t(e,n){var r=R2e(n);OV(this,{target:e,contentRect:r})}return t}(),L2e=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new LV,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof l0(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new P2e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof l0(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new I2e(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),NV=typeof WeakMap<"u"?new WeakMap:new LV,DV=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=w2e.getInstance(),r=new L2e(e,n,this);NV.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){DV.prototype[t]=function(){var e;return(e=NV.get(this))[t].apply(e,arguments)}});var O2e=function(){return typeof ZS.ResizeObserver<"u"?ZS.ResizeObserver:DV}(),k2e=["client","offset","scroll","bounds","margin"];function GF(t){var e=[];return k2e.forEach(function(n){t[n]&&e.push(n)}),e}function jF(t,e){var n={};if(e.indexOf("client")>-1&&(n.client={top:t.clientTop,left:t.clientLeft,width:t.clientWidth,height:t.clientHeight}),e.indexOf("offset")>-1&&(n.offset={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}),e.indexOf("scroll")>-1&&(n.scroll={top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}),e.indexOf("bounds")>-1){var r=t.getBoundingClientRect();n.bounds={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}}if(e.indexOf("margin")>-1){var i=getComputedStyle(t);n.margin={top:i?parseInt(i.marginTop):0,right:i?parseInt(i.marginRight):0,bottom:i?parseInt(i.marginBottom):0,left:i?parseInt(i.marginLeft):0}}return n}function N2e(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||window}function D2e(t){return function(e){var n,r;return r=n=function(i){yI(o,i);function o(){for(var s,l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];return s=i.call.apply(i,[this].concat(c))||this,s.state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},s._animationFrameID=null,s._resizeObserver=null,s._node=null,s._window=null,s.measure=function(p){var m=jF(s._node,t||GF(s.props));p&&(m.entry=p[0].contentRect),s._animationFrameID=s._window.requestAnimationFrame(function(){s._resizeObserver!==null&&(s.setState({contentRect:m}),typeof s.props.onResize=="function"&&s.props.onResize(m))})},s._handleRef=function(p){s._resizeObserver!==null&&s._node!==null&&s._resizeObserver.unobserve(s._node),s._node=p,s._window=N2e(s._node);var m=s.props.innerRef;m&&(typeof m=="function"?m(s._node):m.current=s._node),s._resizeObserver!==null&&s._node!==null&&s._resizeObserver.observe(s._node)},s}var a=o.prototype;return a.componentDidMount=function(){this._resizeObserver=this._window!==null&&this._window.ResizeObserver?new this._window.ResizeObserver(this.measure):new O2e(this.measure),this._node!==null&&(this._resizeObserver.observe(this._node),typeof this.props.onResize=="function"&&this.props.onResize(jF(this._node,t||GF(this.props))))},a.componentWillUnmount=function(){this._window!==null&&this._window.cancelAnimationFrame(this._animationFrameID),this._resizeObserver!==null&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},a.render=function(){var l=this.props;l.innerRef,l.onResize;var c=ht(l,["innerRef","onResize"]);return F.createElement(e,j({},c,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},o}(F.Component),n.propTypes={client:qe.bool,offset:qe.bool,scroll:qe.bool,bounds:qe.bool,margin:qe.bool,innerRef:qe.oneOfType([qe.object,qe.func]),onResize:qe.func},r}}var FV=D2e()(function(t){var e=t.measure,n=t.measureRef,r=t.contentRect,i=t.children;return i({measure:e,measureRef:n,contentRect:r})});FV.displayName="Measure";FV.propTypes.children=qe.func;function F2e(t){return pd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"}}]})(t)}function U2e(t){return pd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}}]})(t)}function z2e(t){return pd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}}]})(t)}function B2e(t){return pd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 11H1v2h6v-2zm2.17-3.24L7.05 5.64 5.64 7.05l2.12 2.12 1.41-1.41zM13 1h-2v6h2V1zm5.36 6.05l-1.41-1.41-2.12 2.12 1.41 1.41 2.12-2.12zM17 11v2h6v-2h-6zm-5-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm2.83 7.24l2.12 2.12 1.41-1.41-2.12-2.12-1.41 1.41zm-9.19.71l1.41 1.41 2.12-2.12-1.41-1.41-2.12 2.12zM11 23h2v-6h-2v6z"}}]})(t)}var u2={},UV="a menu outside a mounted Wrapper with an id, or a menu that does not exist";function $2e(t,e){u2[t]=e}function H2e(t){delete u2[t]}function V2e(t,e){var n=u2[t];if(!n)throw new Error("Cannot open "+UV);n.openMenu(e)}function W2e(t,e){var n=u2[t];if(!n)throw new Error("Cannot close "+UV);n.closeMenu(e)}var zV={registerManager:$2e,unregisterManager:H2e,openMenu:V2e,closeMenu:W2e};function Tr(t){t=t||{};var e=t.keybindings||{};this._settings={keybindings:{next:e.next||{keyCode:40},prev:e.prev||{keyCode:38},first:e.first,last:e.last},wrap:t.wrap,stringSearch:t.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[];var n,r;for(n in this._settings.keybindings)r=this._settings.keybindings[n],r&&[].concat(r).forEach((function(i){i.metaKey=i.metaKey||!1,i.ctrlKey=i.ctrlKey||!1,i.altKey=i.altKey||!1,i.shiftKey=i.shiftKey||!1,this._keybindingsLookup.push({action:n,eventMatcher:i})}).bind(this));this._searchString="",this._members=[],t.members&&this.setMembers(t.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}Tr.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this};Tr.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this};Tr.prototype._handleKeydownEvent=function(t){var e=this._getActiveElementIndex();if(e!==-1){var n=!1;this._keybindingsLookup.forEach((function(r){if(G2e(r.eventMatcher,t))switch(n=!0,t.preventDefault(),r.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}).bind(this)),n||this._handleUnboundKey(t)}};Tr.prototype.moveFocusForward=function(){var t=this._getActiveElementIndex(),e;return t<this._members.length-1?e=t+1:this._settings.wrap?e=0:e=t,this.focusNodeAtIndex(e),e};Tr.prototype.moveFocusBack=function(){var t=this._getActiveElementIndex(),e;return t>0?e=t-1:this._settings.wrap?e=this._members.length-1:e=t,this.focusNodeAtIndex(e),e};Tr.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)};Tr.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)};Tr.prototype._handleUnboundKey=function(t){if(this._settings.stringSearch){if(this._searchString!==""&&(t.key===" "||t.keyCode===32))return t.preventDefault(),-1;if(!j2e(t.keyCode)||t.ctrlKey||t.metaKey||t.altKey)return-1;t.preventDefault(),this._addToSearchString(String.fromCharCode(t.keyCode)),this._runStringSearch()}};Tr.prototype._clearSearchString=function(){this._searchString=""};Tr.prototype._addToSearchString=function(t){this._searchString+=t.toLowerCase()};Tr.prototype._startSearchStringRefreshTimer=function(){var t=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){t._clearSearchString()},this._settings.stringSearchDelay)};Tr.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)};Tr.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)};Tr.prototype.moveFocusByString=function(t){for(var e,n=0,r=this._members.length;n<r;n++)if(e=this._members[n],!!e.text&&e.text.indexOf(t)===0)return BV(e.node)};Tr.prototype._findIndexOfNode=function(t){for(var e=0,n=this._members.length;e<n;e++)if(this._members[e].node===t)return e;return-1};Tr.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)};Tr.prototype.focusNodeAtIndex=function(t){var e=this._members[t];return e&&BV(e.node),this};Tr.prototype.addMember=function(t,e){var n=t.node||t,r=t.text||n.getAttribute("data-focus-group-text")||n.textContent||"";this._checkNode(n);var i=r.replace(/[\W_]/g,"").toLowerCase(),o={node:n,text:i};return e!=null?this._members.splice(e,0,o):this._members.push(o),this};Tr.prototype.removeMember=function(t){var e=typeof t=="number"?t:this._findIndexOfNode(t);if(e!==-1)return this._members.splice(e,1),this};Tr.prototype.clearMembers=function(){return this._members=[],this};Tr.prototype.setMembers=function(t){this.clearMembers();for(var e=0,n=t.length;e<n;e++)this.addMember(t[e]);return this};Tr.prototype.getMembers=function(){return this._members};Tr.prototype._checkNode=function(t){if(!t.nodeType||t.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return t};function G2e(t,e){for(var n in t)if(e[n]!==void 0&&t[n]!==e[n])return!1;return!0}function j2e(t){return t>=65&&t<=90}function BV(t){!t||!t.focus||(t.focus(),t.tagName.toLowerCase()==="input"&&t.select())}var X2e=function(e){return new Tr(e)},q2e=X2e,XF=zV,Y2e={wrap:!0,stringSearch:!0},K2e={init:function(e){this.updateOptions(e),this.handleBlur=Z2e.bind(this),this.handleSelection=Q2e.bind(this),this.handleMenuKey=J2e.bind(this),this.focusGroup=q2e(Y2e),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(e){var n=this.options;this.options=e||this.options||{},typeof this.options.closeOnSelection>"u"&&(this.options.closeOnSelection=!0),typeof this.options.closeOnBlur>"u"&&(this.options.closeOnBlur=!0),this.options.id&&XF.registerManager(this.options.id,this),n&&n.id&&n.id!==this.options.id&&XF.unregisterManager(this.options.id,this)},focusItem:function(e){this.focusGroup.focusNodeAtIndex(e)},addItem:function(e){this.focusGroup.addMember(e)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(e){this.focusGroup._handleUnboundKey(e)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(e){if(!this.isOpen&&(e=e||{},e.focusMenu===void 0&&(e.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),e.focusMenu)){var n=this;this.moveFocusTimer=setTimeout(function(){n.focusItem(0)},0)}},closeMenu:function(e){this.isOpen&&(e=e||{},this.isOpen=!1,this.update(),e.focusButton&&this.button.ref.current.focus())},toggleMenu:function(e,n){e=e||{},n=n||{},this.isOpen?this.closeMenu(e):this.openMenu(n)}};function Z2e(){var t=this;t.blurTimer=setTimeout(function(){if(t.button){var e=t.button.ref.current;if(e){var n=e.ownerDocument.activeElement;if(!(e&&n===e)){var r=t.menu.ref.current;if(r===n){t.focusItem(0);return}r&&r.contains(n)||t.isOpen&&t.closeMenu({focusButton:!1})}}}},0)}function Q2e(t,e){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(t,e)}function J2e(t){if(this.isOpen)switch(t.key){case"Escape":t.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":t.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":t.preventDefault(),this.focusGroup.moveFocusToLast();break}}var eCe=function(t){var e=Object.create(K2e);return e.init(t),e},tCe=F,nCe=tCe.createContext(),f2=nCe,hw=d0,d2={refType:hw.oneOfType([hw.func,hw.shape({current:hw.elementType})])},h2=function(t,e,n){n=n||{};for(var r in e)e.hasOwnProperty(r)&&(n[r]||(t[r]=e[r]))};function rCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iCe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var By=F,Lm=d0,aCe=eCe,sCe=f2,lCe=d2,cCe=lCe.refType,$3=h2,JS={children:Lm.node.isRequired,forwardedRef:cCe,onMenuToggle:Lm.func,onSelection:Lm.func,closeOnSelection:Lm.bool,closeOnBlur:Lm.bool,tag:Lm.string},qF=function(e){return{onMenuToggle:e.onMenuToggle,onSelection:e.onSelection,closeOnSelection:e.closeOnSelection,closeOnBlur:e.closeOnBlur,id:e.id}},VL=function(t){oCe(e,t);function e(n){rCe(this,e);var r=iCe(this,t.call(this,n));return r.manager=aCe(qF(n)),r}return e.prototype.componentDidUpdate=function(){this.manager.updateOptions(qF(this.props))},e.prototype.render=function(){var r={};return $3(r,this.props,JS),By.createElement(sCe.Provider,{value:this.manager},By.createElement(this.props.tag,r,this.props.children))},e}(By.Component);VL.propTypes=JS;VL.defaultProps={tag:"div"};var uCe=By.forwardRef(function(t,e){var n={forwardedRef:e};return $3(n,t,{children:JS.children,forwardedRef:JS.forwardedRef}),$3(n,{forwardedRef:e}),By.createElement(VL,n,t.children)});function fCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dg=F,pw=d0,hCe=f2,pCe=d2,mCe=pCe.refType,Yw=h2,$y={ambManager:pw.object.isRequired,children:pw.node.isRequired,disabled:pw.bool,forwardedRef:mCe,tag:pw.string},gCe=function(){return["button","fieldset","input","optgroup","option","select","textarea"]},WL=function(t){dCe(e,t);function e(){var n,r,i;fCe(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=YF(this,t.call.apply(t,[this].concat(a))),r),r.ref=Dg.createRef(),r.handleKeyDown=function(l){if(!r.props.disabled){var c=r.props.ambManager;switch(l.key){case"ArrowDown":l.preventDefault(),c.isOpen?c.focusItem(0):c.openMenu();break;case"Enter":case" ":l.preventDefault(),c.toggleMenu();break;case"Escape":c.handleMenuKey(l);break;default:c.handleButtonNonArrowKey(l)}}},r.handleClick=function(){r.props.disabled||r.props.ambManager.toggleMenu({},{focusMenu:!1})},r.setRef=function(l){r.ref.current=l,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(l):r.props.forwardedRef&&(r.props.forwardedRef.current=l)},n),YF(r,i)}return e.prototype.componentDidMount=function(){this.props.ambManager.button=this},e.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},e.prototype.render=function(){var r=this.props,i=this.props.ambManager,o={role:"button",tabIndex:r.disabled?"":"0","aria-haspopup":!0,"aria-expanded":i.isOpen,"aria-disabled":r.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},a={};return Yw(a,$y),gCe().indexOf(r.tag)>=0&&delete a.disabled,i.options.closeOnBlur&&(o.onBlur=i.handleBlur),Yw(o,r,a),Yw(o,{ref:this.setRef}),Dg.createElement(r.tag,o,r.children)},e}(Dg.Component);WL.propTypes=$y;WL.defaultProps={tag:"span"};var vCe=Dg.forwardRef(function(t,e){return Dg.createElement(hCe.Consumer,null,function(n){var r={ambManager:n,forwardedRef:e};return Yw(r,t,{ambManager:$y.ambManager,children:$y.children,forwardedRef:$y.forwardedRef}),Dg.createElement(WL,r,t.children)})}),yCe=function(e,n,r){var i=0,o=0,a=!1,s=!1,l=!1;e.addEventListener("click",c,r),e.addEventListener("touchstart",f,r);function c(b){l||n(b)}function f(b){l=!0,!a&&(a=!0,e.addEventListener("touchmove",p,r),e.addEventListener("touchend",m,r),e.addEventListener("touchcancel",v,r),s=!1,i=b.touches[0].clientX,o=b.touches[0].clientY)}function p(b){s||Math.abs(b.touches[0].clientX-i)<=10&&Math.abs(b.touches[0].clientY-o)<=10||(s=!0)}function m(b){a=!1,x(),s||n(b)}function v(){a=!1,s=!1,i=0,o=0}function x(){e.removeEventListener("touchmove",p,r),e.removeEventListener("touchend",m,r),e.removeEventListener("touchcancel",v,r)}function _(){e.removeEventListener("click",c,r),e.removeEventListener("touchstart",f,r),x()}return{remove:_}};function xCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Fg=F,Zv=d0,_Ce=yCe,wCe=f2,SCe=d2,MCe=SCe.refType,H3=h2,Hy={ambManager:Zv.object.isRequired,children:Zv.oneOfType([Zv.func,Zv.node]).isRequired,forwardedRef:MCe,tag:Zv.string},GL=function(t){bCe(e,t);function e(){var n,r,i;xCe(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=KF(this,t.call.apply(t,[this].concat(a))),r),r.ref=Fg.createRef(),r.addTapListener=function(){var l=r.ref.current;if(l){var c=l.ownerDocument;c&&(r.tapListener=_Ce(c.documentElement,r.handleTap))}},r.handleTap=function(l){r.ref.current.contains(l.target)||r.props.ambManager.button.ref.current.contains(l.target)||r.props.ambManager.closeMenu()},r.setRef=function(l){r.ref.current=l,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(l):r.props.forwardedRef&&(r.props.forwardedRef.current=l)},n),KF(r,i)}return e.prototype.componentDidMount=function(){this.props.ambManager.menu=this},e.prototype.componentDidUpdate=function(){var r=this.props.ambManager;r.options.closeOnBlur&&(r.isOpen&&!this.tapListener?this.addTapListener():!r.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),r.isOpen||r.clearItems())},e.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},e.prototype.render=function(){var r=this.props,i=this.props.ambManager,o=function(){return typeof r.children=="function"?r.children({isOpen:i.isOpen}):i.isOpen?r.children:!1}();if(!o)return!1;var a={onKeyDown:i.handleMenuKey,role:"menu",tabIndex:-1};return i.options.closeOnBlur&&(a.onBlur=i.handleBlur),H3(a,r,Hy),H3(a,{ref:this.setRef}),Fg.createElement(r.tag,a,o)},e}(Fg.Component);GL.propTypes=Hy;GL.defaultProps={tag:"div"};var ECe=Fg.forwardRef(function(t,e){return Fg.createElement(wCe.Consumer,null,function(n){var r={ambManager:n,forwardedRef:e};return H3(r,t,{ambManager:Hy.ambManager,children:Hy.children,forwardedRef:Hy.forwardedRef}),Fg.createElement(GL,r,t.children)})});function CCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function TCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ug=F,Qv=d0,ACe=f2,RCe=d2,PCe=RCe.refType,$V=h2,Vy={ambManager:Qv.object.isRequired,children:Qv.node.isRequired,forwardedRef:PCe,tag:Qv.string,text:Qv.string,value:Qv.any},jL=function(t){TCe(e,t);function e(){var n,r,i;CCe(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=ZF(this,t.call.apply(t,[this].concat(a))),r),r.ref=Ug.createRef(),r.handleKeyDown=function(l){l.key!=="Enter"&&l.key!==" "||r.props.tag==="a"&&r.props.href||(l.preventDefault(),r.selectItem(l))},r.selectItem=function(l){var c=typeof r.props.value<"u"?r.props.value:r.props.children;r.props.ambManager.handleSelection(c,l)},r.setRef=function(l){r.ref.current=l,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(l):r.props.forwardedRef&&(r.props.forwardedRef.current=l)},n),ZF(r,i)}return e.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},e.prototype.render=function(){var r={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return $V(r,this.props,Vy),Ug.createElement(this.props.tag,r,this.props.children)},e}(Ug.Component);jL.propTypes=Vy;jL.defaultProps={tag:"div"};var ICe=Ug.forwardRef(function(t,e){return Ug.createElement(ACe.Consumer,null,function(n){var r={ambManager:n,forwardedRef:e};return $V(r,t,{ambManager:Vy.ambManager,children:Vy.children,forwardedRef:Vy.forwardedRef}),Ug.createElement(jL,r,t.children)})}),QF=zV;QF.openMenu,QF.closeMenu;const JF=t=>{let e;const n=new Set,r=(l,c)=>{const f=typeof l=="function"?l(e):l;if(!Object.is(f,e)){const p=e;e=c??typeof f!="object"?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,s={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{n.clear()}};return e=t(r,i,s),s},LCe=t=>t?JF(t):JF,{useSyncExternalStoreWithSelector:OCe}=$$;function kCe(t,e=t.getState,n){const r=OCe(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return F.useDebugValue(r),r}const eU=t=>{const e=typeof t=="function"?LCe(t):t,n=(r,i)=>kCe(e,r,i);return Object.assign(n,e),n},NCe=t=>t?eU(t):eU;var DCe=Object.defineProperty,FCe=(t,e,n)=>e in t?DCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mw=(t,e,n)=>(FCe(t,typeof e!="symbol"?e+"":e,n),n);const XL=F.createContext({}),UCe=F.createContext(void 0),zCe="_wrapper_1t5kp_1",BCe="_grid_1t5kp_6",$Ce="_innerContainer_1t5kp_15",HCe="_colHeaders_1t5kp_19",VCe="_rowHeaders_1t5kp_23",WCe="_indexCell_1t5kp_28",GCe="_topLeftCell_1t5kp_49 _indexCell_1t5kp_28",jCe="_stickyGrid_1t5kp_53",XCe="_cell_1t5kp_72",gh={wrapper:zCe,grid:BCe,innerContainer:$Ce,colHeaders:HCe,rowHeaders:VCe,indexCell:WCe,topLeftCell:GCe,stickyGrid:jCe,cell:XCe};function qCe(t){const{rowIndex:e,columnIndex:n,style:r}=t,{rowHeaderCellsWidth:i,cellSize:o,cellFormatter:a}=F.useContext(XL);return k.jsx("div",{className:gh.cell,style:{...r,left:r.left+i,top:r.top+o.height},role:"cell","aria-rowindex":e,"aria-colindex":n,"data-bg":(e+n)%2===1||void 0,children:a(e,n)})}F.memo(qCe);function tU(t){const{indexMin:e,indexMax:n,width:r,transform:i,headers:o}=t,{cellSize:a}=F.useContext(XL);return k.jsx(k.Fragment,{children:Co.range(e,n+1).map(s=>k.jsx("div",{className:gh.indexCell,style:{width:r||a.width,height:a.height,transform:i},"data-bg":s%2===1?"":void 0,children:s>=0&&o?o[s]:s},s.toString()))})}const YCe=F.forwardRef((t,e)=>{const{children:n,style:r}=t,{rowCount:i,columnCount:o,cellSize:a,sticky:s,rowHeaderCellsWidth:l,columnHeaders:c}=F.useContext(XL),f=F.useContext(UCe),{overscanColumnStartIndex:p=0,overscanColumnStopIndex:m=0,overscanRowStartIndex:v=0,overscanRowStopIndex:x=0}=f||{};return k.jsxs("div",{ref:e,className:gh.stickyGrid,style:{...r,width:r.width+l,height:r.height+a.height},role:"table","aria-rowcount":i,"aria-colcount":o,"data-sticky":s||void 0,children:[k.jsxs("div",{className:gh.colHeaders,children:[k.jsx("div",{className:gh.topLeftCell,style:{width:l,height:a.height},"data-bg":!0,"aria-hidden":"true"}),k.jsx(tU,{indexMin:p,indexMax:m,transform:`translateX(${a.width*p}px)`,headers:c})]}),k.jsxs("div",{className:gh.innerContainer,children:[k.jsx("div",{className:gh.rowHeaders,"aria-hidden":"true",children:k.jsx(tU,{indexMin:v,indexMax:x,transform:`translateY(${a.height*v}px)`,width:l})}),n]})]})});YCe.displayName="StickyGrid";var E0=(t=>(t.Group="group",t.Dataset="dataset",t.Datatype="datatype",t.Unresolved="unresolved",t))(E0||{}),Vo=(t=>(t.Bool="Boolean",t.Integer="Integer",t.Unsigned="Integer (unsigned)",t.Float="Float",t.Complex="Complex",t.String="String",t.Compound="Compound",t.Array="Array",t.VLen="Array (variable length)",t.Enum="Enumeration",t.Unknown="Unknown",t))(Vo||{}),p2=(t=>(t.LE="little-endian",t.BE="big-endian",t))(p2||{}),wn=(t=>(t.Linear="linear",t.Log="log",t.SymLog="symlog",t.Sqrt="sqrt",t.Gamma="gamma",t))(wn||{});wn.Linear,wn.Log,wn.SymLog;wn.Linear,wn.Log,wn.SymLog,wn.Sqrt;const nU=Cc(".3~e"),tA=Cc(".5~e");Cc(".5~g");Cc(".3~g");JCe(".12~g");const qL=3,KCe=/0\.([0-9]+)$/u,ZCe=Cc(`.${qL}~g`),QCe=Cc(`.${qL}~e`);function nA(t){const e=ZCe(t),n=KCe.exec(e);return n&&n[1].length>qL?QCe(t):e}function JCe(t,e=!1){const n=Cc(t);return r=>{const[i,o]=r;if(o===0&&!e)return`${n(i)}`;if(i===0&&!e)return`${n(o)} i`;const a=Math.sign(o)>=0?" + ":"  ";return`${n(i)}${a}${n(Math.abs(o))} i`}}function eTe(t,e){return`${t==="/"?"":t}/${e}`}function tTe(t){const[e,n]=t.shape;return{rows:e,cols:n}}Vo.Unsigned,Vo.Integer,Vo.Float,Vo.String,Vo.Bool,Vo.Complex;function nTe(t){return t!==void 0}function rTe(t){return t!==null}function Kw(t,e="Expected some value"){if(!nTe(t))throw new TypeError(e)}function rA(t,e="Expected value to not be null"){if(!rTe(t))throw new TypeError(e)}function iTe(t){return t.kind===E0.Group}function oTe(t){return"children"in t}function aTe(t){return(...e)=>F.useMemo(()=>t(...e),e)}const wf=Co.range(-20,21),Zw=Co.range(0,100,5),sTe=Co.range(-1,1.25,.25),lTe=Co.range(10,40,10),cTe=Co.range(1,4),uTe=Co.range(9335,9338),j1=wf.map(t=>t**2),Qw=Zw.map(t=>j1.map(e=>e-t)),HV=sTe.map(t=>Qw.map(e=>e.map(n=>n*t))),fTe=lTe.map(t=>HV.map(e=>e.map(n=>n.map(r=>Math.sin(r/t))))),gw=[0,1,2,3],V3=[[[255,0,0],[0,255,0],[0,0,255]],[[0,255,255],[255,0,255],[255,255,0]],[[0,0,0],[128,128,128],[255,255,255]]],vw=V3.flat(1/0),YL=Co.range(1,11).map(t=>[t*Math.cos(t*3.14/10),t*Math.sin(t*3.14/10)]),VV=["Hydrogen","Lithum","Carbon","Sodium","Argon"].map((t,e)=>[t,e,j1[e],e%2===0,YL[e]]),iA=[!0,!1,!1,!0,!0,!0,!1,!0,!1,!1],dTe=[VV,["Vanadium","Niobium","Tantalum","Silicon","Germanium"].map((t,e)=>[t,e*10,j1[e],e%2===1,YL[e]])],hTe={null:null,raw:{int:42},scalar_int:0,scalar_int_42:42,scalar_str:"foo",scalar_bool:!0,scalar_cplx:[1,5],oneD:j1,oneD_cplx:YL,oneD_linear:wf,oneD_errors:j1.map(t=>Math.abs(t)/10),oneD_str:["foo","bar"],oneD_bool:iA,twoD:Qw,twoD_errors:Zw.map(t=>wf.map(e=>Math.abs(e-t))),twoD_cplx:[[[0,-5],[-2.1,-2]],[[5,0],[-3,.1]]],twoD_bool:iA.map(t=>iA.map(e=>t?e:!e)),threeD:HV,threeD_bool:[[[!0,!1,!0,!1],[!0,!0,!0,!0],[!1,!1,!1,!1]],[[!0,!1,!1,!1],[!0,!0,!0,!0],[!1,!1,!0,!1]]],threeD_cplx:[[[[2,0],[1.41,1.41],[1,1.73],[0,2]],[[4,0],[2.82,2.82],[2,3.46],[0,4]],[[1,0],[.71,.71],[.5,.87],[0,1]]],[[[-1,0],[.87,-.5],[.92,-.38],[1,0]],[[-4,0],[3.46,-2],[3.7,-1.53],[4,0]],[[-8,0],[6.93,-4],[7.39,-3.06],[8,0]]]],threeD_rgb:V3,fourD_rgb:Co.range(0,10).map(t=>V3.map(e=>e.map(n=>n.map(r=>Math.min(r+t*20,255))))),fourD:fTe,uint8:Uint8Array.from(gw),int16:Int16Array.from(gw),float32:Float32Array.from(gw),float64:Float64Array.from(gw),int8_rgb:Int8Array.from(vw.map(t=>t-128)),uint8_rgb:Uint8Array.from(vw),int32_rgb:Uint32Array.from(vw),float32_rgb:Float32Array.from(vw.map(t=>t/255)),X:wf,X_desc:[...wf].reverse(),X_log:wf.map((t,e)=>(e+1)*.1),X_rgb:cTe,Y:Zw,Y_desc:[...Zw].reverse(),Y_rgb:uTe,title_twoD:"NeXus 2D",secondary:Qw.map(t=>t.map(e=>e*2)),tertiary:Qw.map(t=>t.map(e=>e/2)),position:[-1,1,3],scatter_data:wf.map(t=>Math.cos(t*3.14/40)),Y_scatter:wf.map((t,e)=>(e%10+e%5)/123456),oneD_compound:VV,twoD_compound:dTe},Dt={class:Vo.Integer,endianness:p2.LE,size:32};Vo.Unsigned,p2.LE;const ru={class:Vo.Float,endianness:p2.LE,size:64},lu={class:Vo.String,charSet:"ASCII"},oA={class:Vo.Compound,fields:{int:Dt}},fy={class:Vo.Bool},fh={class:Vo.Complex,realType:ru,imagType:ru},rU={class:Vo.Compound,fields:{string:lu,int:Dt,float:ru,bool:fy,complex:fh}};function KL(t,e,n,r){return{name:t,type:e,shape:n,value:r}}function WV(t,e,n){return KL(t,e,[],n)}function wi(t,e){return WV(t,lu,e)}function iU(t,e){return WV(t,Dt,e)}function W3(t,e){return{...t,attributes:[...t.attributes,...e]}}function Om(t){return W3(t,[wi("CLASS","IMAGE"),wi("IMAGE_VERSION","1.2")])}function GV(t,e){t.children.forEach(n=>{n.path=eTe(e,n.path.slice(1)),iTe(n)&&oTe(n)&&GV(n,e)})}function Va(t,e=[],n={}){const{attributes:r=[],link:i,isRoot:o=!1}=n,a=o?"/":`/${t}`,s={name:t,path:a,kind:E0.Group,children:e,attributes:r,link:i};return GV(s,a),s}function Wt(t,e,n,r={}){const{attributes:i=[],valueId:o=t,link:a}=r;return{name:t,path:`/${t}`,kind:E0.Dataset,attributes:i,shape:n,type:e,value:hTe[o],link:a}}function Ps(t,e,n={}){return Wt(t,e,[],n)}function pTe(t,e,n={}){const{attributes:r=[],link:i}=n;return{name:t,path:`/${t}`,kind:E0.Datatype,attributes:r,type:e,link:i}}function aA(t,e,n,r){return{name:t,path:`/${t}`,kind:E0.Unresolved,attributes:[],link:{class:e,file:r,path:n}}}function mTe(t){return KL("axes",lu,[t.length],t)}function gTe(t){return KL("auxiliary_signals",lu,[t.length],t)}function vTe(t){const{signalScaleType:e,axisScaleTypes:n}=t;return wi("SILX_style",JSON.stringify({signal_scale_type:e,axes_scale_type:n}))}function Is(t,e,n={}){const{defaultPath:r,children:i,...o}=n;return Va(t,i,{...o,attributes:[...o.attributes??[],wi("NX_class",e),...r?[wi("default",r)]:[]]})}function Qi(t,e){const{signal:n,title:r,errors:i,silxStyle:o,axes:a={},axesAttr:s,auxiliary:l={},auxAttr:c,attributes:f=[],children:p=[],...m}=e;return Is(t,"NXdata",{...m,attributes:[wi("signal",n.name),...s?[mTe(s)]:[],...o?[vTe(o)]:[],...c?[gTe(c)]:[],...f],children:[n,...r?[r]:[],...i?[i]:[],...Object.values(a),...Object.values(l),...p]})}function zi(t,e,n,r={}){const{interpretation:i,longName:o,units:a,...s}=r;return Wt(t,e,n,{...s,attributes:[...s.attributes??[],...i?[wi("interpretation",i)]:[],...o?[wi("long_name",o)]:[],...a?[wi("units",a)]:[]]})}const yTe="source.h5";Is(yTe,"NXroot",{isRoot:!0,defaultPath:"nexus_entry",children:[Va("entities",[Va("empty_group"),Wt("empty_dataset",Dt,null),pTe("datatype",oA),Ps("raw",oA),Ps("raw_large",oA),Ps("scalar_int",Dt),Ps("scalar_str",lu),Ps("scalar_bool",fy),Ps("scalar_cplx",fh),aA("unresolved_hard_link","Hard"),aA("unresolved_soft_link","Soft","/foo"),aA("unresolved_external_link","External","entry_000/dataset","my_file.h5")]),Va("nD_datasets",[Wt("oneD_linear",Dt,[41]),Wt("oneD",Dt,[41]),Wt("oneD_cplx",fh,[10]),Wt("oneD_compound",rU,[5]),Wt("oneD_bool",fy,[10]),Wt("twoD",Dt,[20,41]),Wt("twoD_cplx",fh,[2,2]),Wt("twoD_compound",rU,[2,5]),Wt("twoD_bool",fy,[10,10]),Wt("threeD",Dt,[9,20,41]),Wt("threeD_bool",fy,[2,3,4]),Wt("threeD_cplx",fh,[2,3,4]),Om(Wt("threeD_rgb",Dt,[3,3,3])),Wt("fourD",Dt,[3,9,20,41])]),Va("typed_arrays",[Wt("uint8",Dt,[2,2]),Wt("int16",Dt,[2,2]),Wt("float32",Dt,[2,2]),Wt("float64",Dt,[2,2]),Om(Wt("int8_rgb",Dt,[3,3,3])),Om(Wt("uint8_rgb",Dt,[3,3,3])),Om(Wt("int32_rgb",Dt,[3,3,3])),Om(Wt("float32_rgb",Dt,[3,3,3]))]),Is("nexus_entry","NXentry",{defaultPath:"nx_process/nx_data",children:[Is("nx_process","NXprocess",{children:[Qi("nx_data",{signal:Wt("twoD",Dt,[20,41]),silxStyle:{signalScaleType:wn.SymLog},title:Ps("title",lu,{valueId:"title_twoD"})}),Is("absolute_default_path","NXentry",{defaultPath:"/nexus_entry/nx_process/nx_data"})]}),Qi("spectrum",{signal:zi("twoD_spectrum",Dt,[20,41],{valueId:"twoD",interpretation:"spectrum",units:"arb. units"}),errors:Wt("errors",ru,[20,41],{valueId:"twoD_errors"}),axes:{X:zi("X",Dt,[41],{units:"nm"})},axesAttr:[".","X"]}),Qi("image",{signal:zi("fourD_image",Dt,[3,9,20,41],{valueId:"fourD",longName:"Interference fringes",interpretation:"image"}),axes:{X:zi("X",Dt,[41],{units:"nm"}),Y:zi("Y",Dt,[20],{units:"deg",longName:"Angle (degrees)"})},axesAttr:[".",".","Y","X"],silxStyle:{signalScaleType:wn.Log}}),Qi("log_spectrum",{signal:Wt("oneD",Dt,[41]),errors:Wt("oneD_errors",Dt,[41]),axes:{X_log:Wt("X_log",ru,[41])},axesAttr:["X_log"],silxStyle:{signalScaleType:wn.Log,axisScaleTypes:[wn.Log]}}),Qi("spectrum_with_aux",{signal:zi("twoD_spectrum",Dt,[20,41],{valueId:"twoD",interpretation:"spectrum",units:"arb. units"}),errors:Wt("errors",ru,[20,41],{valueId:"twoD_errors"}),axes:{X:zi("X",Dt,[41],{units:"nm"})},axesAttr:[".","X"],auxiliary:{secondary:Wt("secondary",Dt,[20,41]),tertiary:Wt("tertiary",Dt,[20,41])},auxAttr:["secondary","tertiary"],children:[Wt("secondary_errors",ru,[20,41],{valueId:"twoD_errors"})]}),Qi("complex",{signal:Wt("twoD_complex",fh,[2,2],{valueId:"twoD_cplx"}),axes:{position:Wt("position",Dt,[3])},axesAttr:[".","position"]}),Qi("complex_spectrum",{signal:zi("twoD_complex",fh,[2,2],{valueId:"twoD_cplx",interpretation:"spectrum"})}),Qi("rgb-image",{signal:Om(zi("fourD_rgb",Dt,[10,3,3,3],{longName:"RGB CMY DGW",interpretation:"rgb-image"})),axes:{X_rgb:Wt("X_rgb",ru,[3]),Y_rgb:Wt("Y_rgb",ru,[3])},axesAttr:[".","Y_rgb","X_rgb"]}),Qi("descending-axes",{signal:Wt("twoD",Dt,[20,41]),axes:{X:zi("X",Dt,[41],{valueId:"X_desc"}),Y:zi("Y",Dt,[20],{valueId:"Y_desc"})},axesAttr:["Y","X"]}),Qi("scatter",{signal:Wt("scatter_data",Dt,[41]),axes:{X:zi("X",Dt,[41],{valueId:"X"}),Y:zi("Y",Dt,[41],{valueId:"Y_scatter"})},axesAttr:["X","Y"]}),Is("old-style","NXdata",{children:[Wt("twoD",Dt,[20,41],{attributes:[iU("signal",1),wi("axes","Y:X")]}),zi("X",Dt,[41],{units:"nm"}),zi("Y",Dt,[20],{units:"deg",longName:"Angle (degrees)"})]})]}),Is("nexus_no_default","NXprocess",{defaultPath:void 0,children:[Is("ignore_me","NXentry"),Qi("spectrum",{signal:Wt("oneD",Dt,[41])})]}),Va("nexus_malformed",[Va("default_not_found",[],{attributes:[wi("default","/test")]}),Va("no_signal",[],{attributes:[wi("NX_class","NXdata")]}),Va("signal_not_found",[],{attributes:[wi("NX_class","NXdata"),wi("signal","unknown")]}),Is("signal_not_dataset","NXdata",{children:[Va("some_group")],attributes:[wi("signal","some_group")]}),Is("signal_old-style_not_dataset","NXdata",{children:[Va("some_group",[],{attributes:[iU("signal",1)]})]}),Is("signal_not_array","NXdata",{children:[Ps("some_scalar",Dt)],attributes:[wi("signal","some_scalar")]}),Is("signal_not_numeric","NXdata",{children:[Wt("oneD_str",lu,[2])],attributes:[wi("signal","oneD_str")]}),Qi("interpretation_unknown",{signal:zi("fourD",Dt,[3,9,20,41],{interpretation:"unknown"})}),Qi("rgb-image_incompatible",{signal:zi("oneD",Dt,[41],{interpretation:"rgb-image"})}),W3(Qi("silx_style_unknown",{signal:Wt("oneD",Dt,[41]),axes:{X:Wt("X",Dt,[41])},axesAttr:["X"]}),[wi("SILX_style",JSON.stringify({unknown:wn.Log,signal_scale_type:"invalid",axes_scale_type:["invalid"]}))]),W3(Qi("silx_style_malformed",{signal:Wt("oneD",Dt,[41])}),[wi("SILX_style","{")])]),Va("resilience",[Ps("error_value",Dt),Ps("slow_value",Dt,{valueId:"scalar_int_42"}),Wt("slow_slicing",Dt,[9,20,41],{valueId:"threeD"}),Va("slow_metadata"),Qi("slow_nx_spectrum",{signal:zi("slow_twoD",Dt,[20,41],{valueId:"twoD",interpretation:"spectrum"}),errors:Wt("slow_twoD_errors",Dt,[20,41],{valueId:"twoD_errors"}),axes:{slow_X:Wt("slow_X",Dt,[41],{valueId:"X"})},axesAttr:[".","slow_X"],auxiliary:{slow_secondary:Wt("slow_secondary",Dt,[20,41],{valueId:"secondary"})},auxAttr:["slow_secondary"],title:Ps("title",lu,{valueId:"title_twoD"})}),Qi("slow_nx_image",{signal:Wt("slow_threeD",Dt,[9,20,41],{valueId:"threeD"}),axes:{slow_X:Wt("slow_X",Dt,[41],{valueId:"X"}),slow_Y:Wt("slow_Y",Dt,[20],{valueId:"Y"})},axesAttr:[".","slow_Y","slow_X"],title:Ps("title",lu,{valueId:"title_twoD"})})])]});const xTe=new K(0,0,0);class bg extends Ys{get size(){const{x:e,y:n}=this.getSize(new K);return{width:e,height:n}}get center(){return this.getCenter(new K)}static empty(e=xTe){return new bg(e.clone(),e.clone())}static fromPoints(...e){return new bg().setFromPoints(e)}static fromSize({width:e,height:n}){return bg.empty().expandBySize(e,n)}clampPoint(e){return super.clampPoint(e,new K)}expandBySize(e,n){const{size:r}=this,i=e<0?Math.max(e,-r.width):e,o=n<0?Math.max(n,-r.height):n;return this.expandByVector(new K(i,o).divideScalar(2))}expandToRatio(e){if(e===void 0||e<=0)return this;const{width:n,height:r}=this.size,i=n/r;return e>i?this.expandBySize(r*e-n,0):this.expandBySize(0,n/e-r)}hasMinSize(e,n=e){const{width:r,height:i}=this.size;return r>=e&&i>=n}keepWithin(e){const{center:n,size:r}=this,{width:i,height:o}=e.size,a=bg.empty(e.center).expandBySize(Math.max(i-r.width,0),Math.max(o-r.height,0)).clampPoint(n).sub(n).setZ(0);return this.translate(a)}toRect(){return[this.min,this.max]}}const ed=bg;function oU(t,e){const n=e-t;return r=>n!==0?(r-t)/n:.5}function jV(t){let e=(t==null?void 0:t.domain)||[0,1],n=(t==null?void 0:t.range)||[0,1],r=(t==null?void 0:t.exponent)??1,i=(t==null?void 0:t.clamp)||!1,o=a0,a;const s=function(R){const U=Co.isNumber(R)?R:R.valueOf();return Number.isNaN(U)?a:o(...n)(oU(...e)(l(U))**r)};function l(R){if(!i)return R;const[U,O]=e;return Math.max(U,Math.min(O,R))}function c(R){return R?(e=R,A):[...e]}function f(R){return R?(n=R,A):[...n]}function p(R){return R?(n=R,o=RL,A):[...n]}function m(R){return R?(i=R,A):i}function v(){return a}function x(R){return R?(o=R,A):o}function _(R){return R?(r=R,A):r}function b(R){return l(a0(...e)(oU(...n)(R)**(1/r)))}function y(){return qbe({domain:e,range:n,exponent:r,clamp:i})}function S(R){return e=y().nice(R).domain(),A}function M(R){return y().ticks(R)}function C(R,U){return y().tickFormat(R,U)}function P(){return jV().domain(e).range(n).exponent(r).clamp(i).interpolate(o)}const A=Object.assign(s,{domain:c,range:f,rangeRound:p,clamp:m,interpolate:x,invert:b,unknown:v,exponent:_,nice:S,ticks:M,tickFormat:C,copy:P});return A}const bTe=[.1,1],_Te={left:80,right:24,top:16,bottom:34},wTe=28,aU=24;wn.Linear+"",-1/0,wn.Log+"",Number.MIN_VALUE,wn.SymLog+"",-1/0,wn.Sqrt+"",wn.Gamma+"",-1/0;const STe=DL({domain:[300,900],range:[3,10],clamp:!0,round:!0}),MTe=DL({domain:[300,500],range:[.8,1.4]});function XV(t,e){if(Array.isArray(t)){const[,n]=t;return jV({...e,exponent:n})}switch(t){case wn.Linear:return DL(e);case wn.Log:return jbe(e);case wn.SymLog:return Kbe(e);case wn.Sqrt:return Qbe(e)}throw new Error("Unknown scale type")}function ETe(t,e){const{width:n,height:r}=t;return e?n/r>e?{width:r*e,height:r}:{width:n,height:n/e}:{width:n,height:r}}function CTe(t,e=[-Number.MAX_VALUE/2,Number.MAX_VALUE/2]){const[n,r]=e;return Co.clamp(t,n,r)}function sU(t,e){const{scaleType:n,visDomain:r,flip:i,nice:o=!1}=t;return XV(n??wn.Linear,{domain:r,range:[-e/2,e/2],reverse:i,nice:o})}function TTe(t,e){const n=Math.min(...t),r=Math.max(...t),i=Math.ceil(n),o=Math.floor(r),a=o-i+1,s=Math.min(a,e);if(s===0)return[];const l=Math.max(AH(i,o,s),1),c=Math.ceil(n/l),f=Math.floor(r/l)-c+1;return Array.from({length:f},(p,m)=>(c+m)*l)}function ATe(t,e,n){if(n!==wn.Log)return nA;const[r,i]=t[0]>0?t:[-t[1],-[t[0]]],o=MTe(e);return i/r<10**o?nA:a=>{const s=Math.log10(Math.abs(a.valueOf()));return s===Math.floor(s)?nA(a):""}}function qV(t,e,n){if(t==="auto")return;if(t==="equal")return qV(1,e,n);const[r,i]=e,[o,a]=n;return Math.abs(i-r)/Math.abs(a-o)/t}function RTe(t={}){const{left:e,right:n,top:r,bottom:i}=_Te;return{left:e+(t.left?aU:0),right:n,top:r+(t.top?wTe:0),bottom:i+(t.bottom?aU:0)}}const PTe=`
  varying vec2 coords;

  void main() {
    coords = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`;function ITe(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,{value:n}]))}const YV=F.createContext({});function qi(){return F.useContext(YV)}function LTe(t){const{visRatio:e,abscissaConfig:n,ordinateConfig:r,svgOverlay:i,floatingToolbar:o,children:a}=t,{width:s,height:l}=oo(Y=>Y.size),c={width:s,height:l},f=s/l,p=ETe(c,e),m=F.useMemo(()=>ed.empty().expandByPoint(new K(s,l)),[s,l]),v=sU(n,p.width),x=sU(r,p.height),_=F.useCallback(Y=>new K(v(Y.x),x(Y.y)),[v,x]),b=F.useCallback(Y=>new K(v.invert(Y.x),x.invert(Y.y)),[v,x]),y=F.useMemo(()=>new dn().makeScale(s/2,-l/2,1).setPosition(s/2,l/2,0),[s,l]),S=F.useMemo(()=>y.clone().invert(),[y]),M=F.useCallback((Y,J)=>J.clone().project(Y).applyMatrix4(y),[y]),C=F.useCallback((Y,J)=>J.clone().applyMatrix4(S).unproject(Y),[S]),P=F.useCallback((Y,J)=>M(Y,_(J)),[_,M]),A=F.useCallback((Y,J)=>b(C(Y,J)),[C,b]),R=F.useCallback((Y,J=Y.position)=>{const{scale:G}=Y;return ed.empty(J).expandBySize(s*G.x,l*G.y)},[s,l]),U=F.useCallback(Y=>{const[J,G]=R(Y).toRect().map(b);return{xVisibleDomain:[J.x,G.x],yVisibleDomain:[J.y,G.y]}},[R,b]),O=oo(Y=>{var J;return(J=Y.gl.domElement.parentElement)==null?void 0:J.parentElement});Kw(O),rA(O);const N=O.parentElement;rA(N);const B=N.parentElement;return rA(B),k.jsx(YV.Provider,{value:{canvasSize:c,canvasRatio:f,canvasBox:m,visRatio:e,visSize:p,abscissaConfig:n,ordinateConfig:r,abscissaScale:v,ordinateScale:x,dataToWorld:_,dataToHtml:P,worldToHtml:M,worldToData:b,htmlToWorld:C,htmlToData:A,getFovBox:R,getVisibleDomains:U,visCanvas:B,canvasArea:N,r3fRoot:O,svgOverlay:i,floatingToolbar:o},children:a})}var m2=(t=>(t[t.Left=0]="Left",t[t.Middle=1]="Middle",t))(m2||{});class OTe{constructor(e,n){mw(this,"buttons"),mw(this,"modifierKeys"),mw(this,"isWheel"),mw(this,"isEnabled"),this.id=e;const{button:r=m2.Left,modifierKey:i=[],disabled:o=!1}=n;r==="Wheel"?(this.buttons=[],this.isWheel=!0):(this.buttons=Co.castArray(r),this.isWheel=!1),this.modifierKeys=Co.castArray(i),this.isEnabled=!o}matches(e){return this.isEnabled&&(e instanceof WheelEvent?this.isWheel:this.buttons.includes(e.button))&&this.modifierKeys.every(n=>e.getModifierState(n))}}const KV=F.createContext({});function kTe(){return F.useContext(KV)}function NTe(t){const{children:e}=t,[n]=F.useState(new Map),r=F.useCallback((a,s)=>{n.has(a)?console.warn(`An interaction with ID "${a}" is already registered.`):n.set(a,new OTe(a,s))},[n]),i=F.useCallback(a=>{n.delete(a)},[n]),o=F.useCallback((a,s)=>{const l=[...n.values()];if(!n.has(a))throw new Error(`Interaction ${a} is not registered`);const c=l.filter(f=>f.matches(s));return c.length===0?!1:c.length===1?c[0].id===a:c.reduce((f,p)=>p.modifierKeys.length>f.modifierKeys.length?p:f).id===a},[n]);return k.jsx(KV.Provider,{value:{registerInteraction:r,unregisterInteraction:i,shouldInteract:o},children:e})}const lU=.95,cU=new K(1,1,1),DTe=["Alt","Control","Shift"];function Mx(){const{visSize:t,getFovBox:e}=qi(),n=oo(i=>i.camera),r=oo(i=>i.invalidate);return F.useCallback(i=>{const{position:o}=n,a=ed.fromSize(t),s=e(n,i).keepWithin(a);o.copy(s.center.setZ(o.z)),n.updateMatrixWorld(),r()},[n,t,e,r])}function ZV(){const{canvasSize:t}=qi(),e=oo(r=>r.camera),n=Mx();return F.useCallback(({world:r})=>{const{width:i,height:o}=t,a=ed.fromPoints(...r),{width:s,height:l}=a.size;e.scale.set(Math.max(s,1)/i,Math.max(l,1)/o,1),n(a.center)},[e,t,n])}function ZL(){const{canvasArea:t}=qi();Lh(t,"wheel",e=>e.preventDefault(),{passive:!1})}function QL(t){const e=oo(r=>r.camera),n=Mx();return function(r){const{sourceEvent:i,worldPt:o}=r,{x:a,y:s}=t(i);if(!a&&!s)return;const l=new K(a?lU:1,s?lU:1,1);i.deltaY<0?e.scale.multiply(l).min(cU):e.scale.divide(l).min(cU);const c=e.position.clone().sub(o);i.deltaY<0?c.multiply(l):c.divide(l),n(o.clone().add(c))}}function vu(t,e,n={}){const r=qa(e),i=oo(c=>c.camera),{htmlToWorld:o,worldToData:a,canvasArea:s}=qi();function l(c){const{offsetX:f,offsetY:p}=c,m=new K(f,p),v=o(i,m),x=a(v);r.current({htmlPt:m,worldPt:v,dataPt:x,sourceEvent:c})}Lh(s,t,l,n)}function Ex(t,e){const{shouldInteract:n,registerInteraction:r,unregisterInteraction:i}=kTe();return F.useEffect(()=>(r(t,e),()=>i(t)),[t,r,i,e]),F.useCallback(o=>n(t,o),[t,n])}function QV(t=[]){const{canvasArea:e}=qi(),n=Co.castArray(t),[r]=F.useState(new Map),[i,o]=mde(!1);function a(){const s=n.every(l=>r.get(l));i!==s&&o(s)}return Lh(window,"keyup",s=>{const{key:l}=s;r.set(l,!1),a()}),Lh(window,"keydown",s=>{const{key:l}=s;r.set(l,!0),a()}),Lh(e,"pointerdown",s=>{DTe.forEach(l=>{r.set(l,s.getModifierState(l))}),a()}),i}function FTe(t){const{id:e="Pan",button:n=m2.Left,modifierKey:r,disabled:i}=t,o=Ex(e,{button:n,modifierKey:r,disabled:i}),a=oo(v=>v.camera),s=Mx(),l=F.useRef(),c=QV(r);function f(v){const{worldPt:x,sourceEvent:_}=v,{target:b,pointerId:y}=_;o(_)&&(b.setPointerCapture(y),l.current=x.clone())}function p(v){if(!l.current||!c)return;const{worldPt:x}=v,_=l.current.clone().sub(x);s(a.position.clone().add(_))}function m(v){const{sourceEvent:x}=v,{target:_,pointerId:b}=x;_.releasePointerCapture(b),l.current=void 0}return vu("pointerdown",f),vu("pointermove",p),vu("pointerup",m),null}function JV(t){const{id:e="Selection",modifierKey:n,disabled:r,transform:i=te=>te,validate:o=()=>!0,onSelectionStart:a,onSelectionChange:s,onSelectionEnd:l,onValidSelection:c,children:f}=t,p=qa(i),m=qa(o),v=qa(a),x=qa(s),_=qa(l),b=qa(c),y=oo(te=>te.camera),S=qi(),{canvasBox:M,htmlToWorld:C,worldToData:P}=S,[A,R]=pde(),U=F.useRef(),O=F.useRef(!1),N=QV(n),B=Ex(e,{button:m2.Left,modifierKey:n,disabled:r});function Y(te){const{sourceEvent:Q}=te;if(!B(Q))return;const{target:ae,pointerId:xe}=Q;ae.setPointerCapture(xe),U.current=te}function J(te){if(!U.current)return;const{htmlPt:Q}=U.current,ae=[Q,M.clampPoint(te.htmlPt)],xe=ae.map(Te=>C(y,Te)),we=xe.map(P);R({html:ae,world:xe,data:we})}function G(te){if(!U.current)return;const{sourceEvent:Q}=te,{target:ae,pointerId:xe}=Q;ae.releasePointerCapture(xe),U.current=void 0,O.current=B(Q),R(void 0)}vu("pointerdown",Y),vu("pointermove",J),vu("pointerup",G);function ne(){U.current=void 0,R(void 0)}yde("Escape",ne,[],{event:"keydown"}),Lh(window,"contextmenu",te=>{U.current&&(te.preventDefault(),ne())});const ie=F.useMemo(()=>A&&p.current(A,y,S),[A,p,y,S]),se=F.useMemo(()=>!!ie&&m.current(ie),[ie,m]),H=vN(ie),q=vN(se);return F.useEffect(()=>{var te,Q,ae,xe;if(ie){Kw(A),H||(te=v.current)==null||te.call(v),(Q=x.current)==null||Q.call(x,N?ie:void 0,A,se);return}H&&(Kw(q),(ae=_.current)==null||ae.call(_,O.current?H:void 0,q),q&&O.current&&((xe=b.current)==null||xe.call(b,H)),O.current=!1)},[ie,H,A,se,q,N,v,x,_,b]),!ie||!N?null:(Kw(A),k.jsx(k.Fragment,{children:f(ie,A,se)}))}const UTe="_selection_1p9dp_1",G3={selection:UTe};function JL(t){const{overflowCanvas:e=!1,children:n}=t,{r3fRoot:r,canvasArea:i}=qi(),o=e?i:r,[a]=F.useState(()=>{const l=document.createElement("div");return l.setAttribute("hidden",""),l}),[s]=F.useState(()=>aB(a));return F.useLayoutEffect(()=>{s.render(ad.createPortal(n,o))},[n,o,s]),F.useLayoutEffect(()=>(r.append(a),()=>{s.unmount(),a.remove()}),[r,s,a]),null}function eO(t){const{children:e}=t,{svgOverlay:n}=qi();return n?k.jsx(JL,{children:ad.createPortal(e,n)}):null}function eM(t){const{coords:e,strokePosition:n,...r}=t,{stroke:i,strokeWidth:o=1}=r,a=i&&n?o*(n==="outside"?1:-1):0,{min:s,max:l}=ed.fromPoints(...e).expandBySize(a,a);return k.jsx("path",{d:`M ${s.x},${s.y} H ${l.x} V ${l.y} H ${s.x} z`,...r})}const zTe=20;function BTe(t){const{minZoom:e=zTe,...n}=t,{canvasSize:r,canvasRatio:i,canvasBox:o,visRatio:a,visSize:s,htmlToWorld:l,worldToData:c}=qi(),f=ZV(),p=oo(x=>x.camera),m=a!==void 0;function v(x){if(!m)return x;const{scale:_}=p,b=ed.empty(new K(r.width/2,r.height/2)).expandBySize(s.width/_.x,s.height/_.y),y=ed.fromPoints(...x.html).expandToRatio(i).keepWithin(o).keepWithin(b).toRect(),S=y.map(C=>l(p,C)),M=S.map(c);return{html:y,world:S,data:M}}return k.jsx(JV,{id:"SelectToZoom",transform:v,validate:({html:x})=>x[0].manhattanDistanceTo(x[1])>=e,onValidSelection:f,...n,children:({html:x},{html:_},b)=>k.jsxs(eO,{children:[k.jsx(eM,{className:G3.selection,coords:_,fill:"white",fillOpacity:!m&&b?.25:0,stroke:"black",strokePosition:"inside",strokeDasharray:m||!b?4:void 0}),m&&k.jsx(eM,{className:G3.selection,coords:x,fill:"white",fillOpacity:b?.25:0,stroke:"black",strokePosition:"inside"})]})})}function $Te(t){const{modifierKey:e,disabled:n}=t,{visRatio:r}=qi(),i=Ex("XAxisZoom",{button:"Wheel",modifierKey:e,disabled:r!==void 0||n}),o=a=>({x:i(a),y:!1});return ZL(),vu("wheel",QL(o)),null}function HTe(t){const{modifierKey:e,disabled:n}=t,{visRatio:r}=qi(),i=Ex("YAxisZoom",{button:"Wheel",modifierKey:e,disabled:r!==void 0||n}),o=a=>({x:!1,y:i(a)});return ZL(),vu("wheel",QL(o)),null}function VTe(t){const{modifierKey:e,disabled:n}=t,r=Ex("Zoom",{button:"Wheel",modifierKey:e,disabled:n}),i=o=>{const a=r(o);return{x:a,y:a}};return ZL(),vu("wheel",QL(i)),null}function WTe(t){const{axis:e,onSelectionStart:n,onSelectionChange:r,onSelectionEnd:i,children:o,...a}=t;function s(l,c,f){const{canvasSize:p,htmlToWorld:m,worldToData:v}=f,{width:x,height:_}=p,[b,y]=l.html,S=e==="x"?[new K(b.x,0),new K(y.x,_)]:[new K(0,b.y),new K(x,y.y)],M=S.map(P=>m(c,P)),C=M.map(v);return{html:S,world:M,data:C}}return k.jsx(JV,{transform:s,onSelectionStart:n,onSelectionChange:r,onSelectionEnd:i,...a,children:o})}const GTe=20;function uU(t){const{axis:e,modifierKey:n,disabled:r,minZoom:i=GTe}=t,{visRatio:o}=qi(),a=ZV();return k.jsx(WTe,{axis:e,id:`${e.toUpperCase()}SelectToZoom`,modifierKey:n,disabled:o!==void 0||r,validate:({html:s})=>ed.fromPoints(...s).hasMinSize(i),onValidSelection:a,children:({html:s},l,c)=>k.jsx(eO,{children:k.jsx(eM,{className:G3.selection,coords:s,fill:"white",fillOpacity:c?.25:0,stroke:"black",strokePosition:"inside",strokeDasharray:c?void 0:4})})})}function jTe(t){const{...e}=t;return k.jsxs(k.Fragment,{children:[e.pan!==!1&&k.jsx(FTe,{...e.pan}),e.zoom!==!1&&k.jsx(VTe,{...e.zoom}),e.xAxisZoom!==!1&&k.jsx($Te,{modifierKey:"Alt",...e.xAxisZoom}),e.yAxisZoom!==!1&&k.jsx(HTe,{modifierKey:"Shift",...e.yAxisZoom}),e.selectToZoom!==!1&&k.jsx(BTe,{modifierKey:"Control",...e.selectToZoom}),e.xSelectToZoom!==!1&&k.jsx(uU,{axis:"x",modifierKey:["Control","Alt"],...e.xSelectToZoom}),e.ySelectToZoom!==!1&&k.jsx(uU,{axis:"y",modifierKey:["Control","Shift"],...e.ySelectToZoom})]})}function tO(t,e,n=(r,i)=>Object.is(r,i)){const r=oo(s=>s.camera),i=dde(),o=F.useRef(),a=qa(t);return F.useMemo(()=>{o.current=a.current(r)},e),wL(()=>{const s=a.current(r);n(o.current,s)||(o.current=s,i())}),o.current}function XTe(t){const{children:e}=t,{floatingToolbar:n}=qi();return n?k.jsx(JL,{children:ad.createPortal(e,n)}):null}const qTe="_btn_rzs1v_1 _btn_rnveq_39 btnClean",YTe="_btnLike_rzs1v_11 _btnLike_rnveq_55",fU={btn:qTe,btnLike:YTe};function KTe(){const t=oo(i=>i.camera),e=oo(i=>i.invalidate),n=tO(({scale:i})=>i.x<1||i.y<1,[]);function r(){t.scale.x=1,t.scale.y=1,t.position.x=0,t.position.y=0,t.updateMatrixWorld(),e()}return k.jsx(XTe,{children:k.jsx("button",{className:fU.btn,type:"button",hidden:!n,onClick:()=>r(),children:k.jsx("span",{className:fU.btnLike,children:"Reset zoom"})})})}function ZTe(t){const{children:e,size:n,...r}=t,{visSize:i}=qi(),{width:o,height:a}=n??i;return k.jsxs("mesh",{...r,children:[k.jsx("planeGeometry",{args:[o,a]}),e]})}const QTe="_axis_1fn7e_1",JTe="_grid_1fn7e_2",eAe="_tick_1fn7e_22",tAe="_label_1fn7e_34",tM={axis:QTe,grid:JTe,tick:eAe,label:tAe};function nAe(t){const{formattedValue:e,...n}=t;return k.jsx("text",{...n,dy:"0.3125em",children:e})}const rAe={labelClassName:tM.label,labelProps:{},tickClassName:tM.tick,tickComponent:nAe},iAe={abscissa:[$Me,RV],ordinate:[FMe,AV]};function dU(t){const{type:e,config:n,domain:r,canvasSize:i,offset:o,flipAxis:a,showAxis:s}=t,{width:l,height:c}=i,f=e==="abscissa",p=f?l:c,{scaleType:m=wn.Linear,isIndexAxis:v,showGrid:x,label:_,nice:b=!1}=n,y=XV(m,{domain:r,range:a?[p,0]:[0,p],nice:b}),[S,M]=iAe[e],C=STe(p),P=v?{tickValues:TTe(r,C)}:{numTicks:C};return k.jsxs(k.Fragment,{children:[s&&k.jsx("svg",{className:tM.axis,"data-type":e,style:f?{width:l,height:o}:{width:o,height:c},children:k.jsx(S,{scale:y,tickFormat:ATe(r,p,m),label:_,labelOffset:o-(f?32:36),hideAxisLine:x,...P,...rAe})}),x&&k.jsx("svg",{className:tM.grid,...i,children:k.jsx(M,{scale:y,...i,...P})})]})}function oAe(t){const{axisOffsets:e,showAxes:n}=t,{canvasSize:r,visCanvas:i,abscissaConfig:o,ordinateConfig:a,getVisibleDomains:s}=qi(),l=tO(s,[s]);return k.jsx(JL,{children:ad.createPortal(k.jsxs(k.Fragment,{children:[k.jsx(dU,{type:"abscissa",config:o,domain:l.xVisibleDomain,canvasSize:r,offset:e.bottom,showAxis:n}),k.jsx(dU,{type:"ordinate",config:a,domain:l.yVisibleDomain,canvasSize:r,offset:e.left,showAxis:n,flipAxis:!0})]}),i)})}function aAe(t){const{className:e,orthographic:n,children:r}=t;return k.jsxs(j1e,{className:e,orthographic:n,flat:!0,frameloop:"demand",dpr:[1,3],resize:{debounce:{scroll:20,resize:200},scroll:!1},gl:{preserveDrawingBuffer:!0},children:[k.jsx("ambientLight",{}),r]})}function sAe(){const{visRatio:t}=qi(),e=oo(r=>r.camera),n=Mx();return F.useEffect(()=>{if(!t||e.scale.x===e.scale.y)return;const r=Math.max(e.scale.x,e.scale.y);e.scale.x=r,e.scale.y=r,n(e.position)},[e,n,t]),null}function lAe(t){const{value:e}=t,n=oo(i=>i.raycaster),r=oo(i=>i.camera);return F.useEffect(()=>{const i=n.params.Points,o=i?i.threshold:1;return i&&(i.threshold=e),()=>{i&&(i.threshold=o)}},[n,e]),wL(()=>{const i=(r.scale.x+r.scale.y)/2;n.params.Points&&(n.params.Points.threshold=e*i/2)}),null}function cAe(){const{dataToWorld:t,worldToData:e}=qi(),n=F.useRef(),r=oo(o=>o.camera),i=Mx();return wL(()=>{n.current=e(r.position)}),F.useEffect(()=>{n.current&&i(t(n.current))},[n,i,t,r]),null}const uAe="_visCanvas_lddco_1",fAe="_title_lddco_28",dAe="_canvasArea_lddco_40",hAe="_r3fRoot_lddco_42",pAe="_svgOverlay_lddco_42",mAe="_floatingToolbar_lddco_42",km={visCanvas:uAe,title:fAe,canvasArea:dAe,r3fRoot:hAe,svgOverlay:pAe,floatingToolbar:mAe},gAe={left:0,right:0,top:0,bottom:0};function vAe(t){const{title:e,aspect:n="auto",abscissaConfig:r,ordinateConfig:i,raycasterThreshold:o,showAxes:a=!0,children:s}=t,l=qV(n,r.visDomain,i.visDomain),c=a?RTe({left:!!i.label,bottom:!!r.label,top:!!e}):gAe,[f,p]=F.useState(null),[m,v]=F.useState(null);return k.jsxs("div",{className:km.visCanvas,style:{gridTemplateColumns:`${c.left}px minmax(0, 1fr) ${c.right}px`,gridTemplateRows:`${c.top}px minmax(0, 1fr) ${c.bottom}px`},children:[a&&e&&k.jsx("p",{className:km.title,children:e}),k.jsxs("div",{className:km.canvasArea,children:[k.jsx(aAe,{className:km.r3fRoot,orthographic:!0,children:k.jsxs(LTe,{visRatio:l,abscissaConfig:r,ordinateConfig:i,svgOverlay:f,floatingToolbar:m,children:[k.jsx(oAe,{axisOffsets:c,showAxes:a}),k.jsx(NTe,{children:s}),k.jsx(cAe,{}),k.jsx(sAe,{}),o!==void 0&&k.jsx(lAe,{value:o})]})}),k.jsx("svg",{ref:p,className:km.svgOverlay,overflow:"hidden"})]}),k.jsx("div",{ref:v,className:km.floatingToolbar})]})}var dy=(t=>(t.Circle="Circle",t.Cross="Cross",t.Square="Square",t.Cap="Cap",t))(dy||{});dy.Cross+"",dy.Cap+"",dy.Circle+"",dy.Square+"";class yAe extends Cu{}uH({Line_:yAe});var _g=(t=>(t.MinGreater="min-greater",t.InvalidMinWithScale="invalid-min-with-scale",t.InvalidMaxWithScale="invalid-max-with-scale",t.CustomMaxFallback="custom-max-fallback",t))(_g||{});function xAe(t){return GS(t*360,1,.5).formatRgb()}function Nm(t){return e=>t(1-e)}const bAe={Blues:Nm(BEe),Greens:Nm(HEe),Greys:Nm(WEe),Oranges:Nm(KEe),Purples:Nm(jEe),Reds:Nm(qEe),Turbo:o2e,Viridis:a2e,Inferno:l2e,Magma:s2e,Plasma:c2e,Cividis:ZEe,Warm:JEe,Cool:e2e,Cubehelix:QEe,BuGn:gEe,BuPu:yEe,GnBu:bEe,OrRd:wEe,PuBuGn:MEe,PuBu:CEe,PuRd:AEe,RdPu:PEe,YlGnBu:LEe,YlGn:kEe,YlOrBr:DEe,YlOrRd:UEe,Rainbow:t2e,Sinebow:i2e,HSL:xAe,BrBG:QMe,PRGn:eEe,PiYG:nEe,PuOr:iEe,RdBu:aEe,RdGy:lEe,RdYlBu:uEe,RdYlGn:dEe,Spectral:pEe},hU=1/20;Co.range(0,1+hU,hU);const _Ae={[wn.Linear]:t=>t,[wn.Log]:Math.log10,[wn.SymLog]:t=>Math.sign(t)*Math.log10(1+Math.abs(t)),[wn.Sqrt]:Math.sqrt,[wn.Gamma]:t=>t},wAe={float32:Sl,uint16:Yh,uint8:is,uint8_clamped:is};function SAe(t,e){const n=bAe[t];return e?r=>n(1-r):n}function MAe(t,e=wn.Linear){const n=_Ae[e];return[n(t[0]),n(t[1])]}function EAe(t,e=qr){if(!t)return;const{rows:n,cols:r}=tTe(t),i=new Wf(t.data,r,n,BI,wAe[t.dtype],lx,Vi,Vi,e);return i.needsUpdate=!0,i}const sA=aTe(EAe),CAe=Qf(255,255,255,0),lA=256,TAe={[wn.Log]:"log(value) * oneOverLog10",[wn.SymLog]:"sign(value) * log(1. + abs(value)) * oneOverLog10",[wn.Sqrt]:"sqrt(value)"},AAe={[wn.Log]:"value > 0.",[wn.Sqrt]:"value >= 0."};function RAe(t){const{values:e,domain:n,scaleType:r,colorMap:i,invertColorMap:o=!1,magFilter:a,alphaValues:s,alphaDomain:l=bTe,badColor:c=CAe,mask:f}=t,p=sA(e,a),m=sA(s),v=sA(f),x=F.useMemo(()=>{const C=SAe(i,o),P=Array.from({length:lA}).flatMap((R,U)=>{const{r:O,g:N,b:B}=Qf(C(U/(lA-1)));return[O,N,B,255]}),A=new Wf(Uint8Array.from(P),lA,1,Wo,is);return A.needsUpdate=!0,A},[i,o]),[_,b]=Array.isArray(r)?r:[r,1],y=MAe(n,_),S=typeof c=="string"?Qf(c):c,M={uniforms:ITe({data:p,mask:v,colorMap:x,min:y[0],oneOverRange:1/(y[1]-y[0]),gammaExponent:b,normRevertFactor:e.dtype==="uint8"?255:1,alpha:m,withAlpha:s?1:0,alphaMin:l[0],oneOverAlphaRange:1/(l[1]-l[0]),badColor:new Yn(S.r/255,S.g/255,S.b/255,S.opacity)}),vertexShader:PTe,fragmentShader:`
      uniform sampler2D data;
      uniform sampler2D colorMap;

      uniform float min;
      uniform float oneOverRange;
      uniform float gammaExponent;
      uniform float normRevertFactor;

      uniform sampler2D alpha;
      uniform float alphaMin;
      uniform float oneOverAlphaRange;
      uniform int withAlpha;
      uniform vec4 badColor;

      uniform sampler2D mask;

      const float oneOverLog10 = 0.43429448190325176;

      varying vec2 coords;

      bool isSupported(float value) {
        return ${AAe[_]||"true"};
      }

      float scale(float value) {
        return ${TAe[_]||"value"};
      }

      void main() {
        float value = texture2D(data, coords).r * normRevertFactor;
        float maskValue = texture2D(mask, coords).r;

        if (isnan(value) || !isSupported(value) || maskValue == 1.) {
            gl_FragColor = badColor;
        } else {
          float scaledValue = scale(value);
          float normalizedValue = clamp(oneOverRange * (scaledValue - min), 0., 1.);

          gl_FragColor = texture2D(colorMap, vec2(pow(normalizedValue, gammaExponent), 0.5));

          if (withAlpha == 1) {
            gl_FragColor.a = oneOverAlphaRange * (texture2D(alpha, coords).r - alphaMin);
          }
        }
      }
    `};return k.jsx("shaderMaterial",{args:[M],side:xl})}const PAe=F.memo(RAe);function IAe(t){const{values:e,domain:n,scaleType:r,colorMap:i,invertColorMap:o,magFilter:a,alphaValues:s,alphaDomain:l,badColor:c,mask:f,...p}=t;return k.jsx(ZTe,{...p,children:k.jsx(PAe,{values:e,domain:n,scaleType:r,colorMap:i,invertColorMap:o,magFilter:a,alphaValues:s,alphaDomain:l,badColor:c,mask:f})})}const LAe="_toolbar_rnveq_1",OAe="_controls_rnveq_13",kAe="_controlWrapper_rnveq_20",NAe="_control_rnveq_13",DAe="_sep_rnveq_34",FAe="_btn_rnveq_39 btnClean",UAe="_btnLike_rnveq_55",zAe="_icon_rnveq_80",BAe="_label_rnveq_97",$Ae="_popup_rnveq_133",HAe="_popupInner_rnveq_140",yw={toolbar:LAe,controls:OAe,controlWrapper:kAe,control:NAe,sep:DAe,btn:FAe,btnLike:UAe,icon:zAe,label:BAe,popup:$Ae,popupInner:HAe};function VAe(t){const{label:e,icon:n,iconOnly:r,small:i,raised:o,disabled:a,onClick:s,...l}=t;return k.jsx("button",{className:yw.btn,type:"button",title:r?e:void 0,"aria-label":r?e:void 0,disabled:a,"data-small":i||void 0,"data-raised":o||void 0,onClick:()=>s(),...l,children:k.jsxs("span",{className:yw.btnLike,children:[n&&k.jsx(n,{className:yw.icon}),!r&&k.jsx("span",{className:yw.label,children:e})]})})}function pU(t){const{value:e,onToggle:n,...r}=t;return k.jsx(VAe,{...r,"aria-pressed":e,onClick:()=>n()})}F.createContext(void 0);const WAe="_boundEditor_fj0px_1",GAe="_label_fj0px_8",jAe="_value_fj0px_16",XAe="_actionBtn_fj0px_64 _actionBtn_3jqdy_30 btnClean",Jv={boundEditor:WAe,label:GAe,value:jAe,actionBtn:XAe},eW=F.forwardRef((t,e)=>{const{bound:n,value:r,isEditing:i,hasError:o,onEditToggle:a,onChange:s}=t,l=`${n}-bound`,c=F.useRef(null),[f,p]=F.useState("");function m(){a(!1),p(tA(r))}return F.useImperativeHandle(e,()=>({cancel:m})),F.useEffect(()=>{p(tA(r))},[r,p]),F.useEffect(()=>{var v,x;i||(v=c.current)==null||v.blur(),i&&n==="min"&&((x=c.current)==null||x.focus())},[i,n]),k.jsxs("form",{className:Jv.boundEditor,"data-error":o||void 0,"data-editing":i,onSubmit:v=>{v.preventDefault();const x=Number.parseFloat(f.replace("","-")),_=Number.isNaN(x)?r:CTe(x);p(tA(_)),s(_),a(!1)},children:[k.jsx("label",{id:`${l}-label`,className:Jv.label,htmlFor:l,children:n}),k.jsx("input",{id:l,ref:c,className:Jv.value,type:"text",name:"bound",value:f,title:i?void 0:r.toString(),"aria-labelledby":`${l}-label`,onChange:v=>p(v.target.value),onFocus:()=>{i||a(!0)}}),k.jsx("button",{className:Jv.actionBtn,type:"submit",disabled:!i,"aria-label":`Apply ${n}`,children:k.jsx(h2e,{})}),k.jsx("button",{className:Jv.actionBtn,type:"button",disabled:!i,"aria-label":`Cancel ${n}`,onClick:()=>m(),children:k.jsx(m2e,{})})]})});eW.displayName="BoundEditor";const mU=eW,qAe="_root_3jqdy_1",YAe="_dataRange_3jqdy_9",KAe="_autoscale_3jqdy_20",ZAe="_actionBtn_3jqdy_30 btnClean",QAe="_error_3jqdy_51",JAe="_errorMessage_3jqdy_59",eRe="_swapBtn_3jqdy_73 _actionBtn_3jqdy_30 btnClean",zg={root:qAe,dataRange:YAe,autoscale:KAe,actionBtn:ZAe,error:QAe,errorMessage:JAe,swapBtn:eRe},tRe={[_g.MinGreater]:{message:"Min greater than max",fallback:"data range"},[_g.InvalidMinWithScale]:{message:"Custom min invalid with this scale",fallback:"data min"},[_g.InvalidMaxWithScale]:{message:"Custom max invalid with this scale",fallback:"data max"},[_g.CustomMaxFallback]:{message:"Custom min invalid with this scale",fallback:"custom max"}};function cA(t){const{error:e,showSwapBtn:n=!1,onSwap:r}=t,{message:i,fallback:o}=tRe[e];return k.jsxs("p",{className:zg.error,children:[k.jsxs("span",{className:zg.errorMessage,children:[i,k.jsx("br",{}),k.jsx(p2e,{})," falling back to ",k.jsx("strong",{children:o})]}),n&&r&&k.jsx("button",{className:zg.swapBtn,type:"button","aria-label":"Swap min and max",onClick:()=>r(),children:k.jsx(F2e,{})})]})}const nRe=F.forwardRef((t,e)=>{const{sliderDomain:n,dataDomain:r,errors:i}=t,{isAutoMin:o,isAutoMax:a,isEditingMin:s,isEditingMax:l}=t,{onAutoMinToggle:c,onAutoMaxToggle:f,onEditMin:p,onEditMax:m,onChangeMin:v,onChangeMax:x,onSwap:_}=t,{minGreater:b,minError:y,maxError:S}=i,M=F.useRef(null),C=F.useRef(null);return F.useImperativeHandle(e,()=>({cancelEditing:()=>{var P,A;(P=M.current)==null||P.cancel(),(A=C.current)==null||A.cancel()}})),k.jsxs("div",{className:zg.root,children:[b&&k.jsx(cA,{error:_g.MinGreater,showSwapBtn:!o&&!a,onSwap:_}),k.jsx(mU,{ref:M,bound:"min",value:n[0],isEditing:s,hasError:b||!!y,onEditToggle:p,onChange:v}),y&&k.jsx(cA,{error:y}),k.jsx(mU,{ref:C,bound:"max",value:n[1],isEditing:l,hasError:b||!!S,onEditToggle:m,onChange:x}),S&&k.jsx(cA,{error:S}),k.jsxs("p",{className:zg.dataRange,children:["Data range"," ",k.jsxs("span",{children:["["," ",k.jsx("abbr",{title:r[0].toString(),children:nU(r[0])})," ",","," ",k.jsx("abbr",{title:r[1].toString(),children:nU(r[1])})," ","]"]})]}),k.jsxs("p",{className:zg.autoscale,children:["Autoscale"," ",k.jsx(pU,{label:"Min",raised:!0,value:o,onToggle:c}),k.jsx(pU,{label:"Max",raised:!0,value:a,onToggle:f})]})]})});nRe.displayName="DomainControls";const rRe="_thumb_doizn_1",iRe="_thumbBtnLike_doizn_11",oRe="_icon_doizn_47",xw={thumb:rRe,thumbBtnLike:iRe,icon:oRe},aRe=F.forwardRef((t,e)=>{const{bound:n,isAuto:r,hasError:i,disabled:o,AutoIcon:a,...s}=t;return k.jsx("div",{ref:e,...s,className:xw.thumb,"aria-label":`Change ${n} limit`,"aria-disabled":o||void 0,tabIndex:o?-1:s.tabIndex,"data-auto":r,"data-error":i||void 0,children:k.jsxs("div",{className:xw.thumbBtnLike,children:[r&&k.jsx(a,{className:xw.icon}),!r&&i&&k.jsx(d2e,{className:xw.icon,strokeWidth:"3"})]})})});aRe.displayName="Thumb";function sRe(t){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",...t,children:k.jsx("path",{d:"M18 17v-2H6v2zm4-4v-2H2v2zm-8 8v-2h-4v2zm4-12V7H6v2zm-8-4h4V3h-4z",stroke:"none"})})}function lRe(t){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",...t,children:k.jsx("polyline",{points:"2 12 6 12 9 21 15 3 19 3"})})}wn.Linear+"",wn.Log+"",wn.SymLog+"",wn.Sqrt+"",wn.Gamma+"";function cRe(t){const{points:e,children:n}=t,{dataToHtml:r}=qi(),i=tO(o=>e.map(a=>r(o,a)),[e,r]);return k.jsx(k.Fragment,{children:n(...i)})}function uA(t){const{coords:e,...n}=t,[r,i]=e;return k.jsx("line",{x1:r.x,y1:r.y,x2:i.x,y2:i.y,...n})}function fA(t){const{coords:e,...n}=t,[r,i]=e,o=i.distanceTo(r);return k.jsx("circle",{cx:r.x,cy:r.y,r:o,...n})}NCe(t=>({val:void 0,setTooltipValue:(e,n,r)=>t(()=>({val:{x:e,y:n,v:r}}))}));function uRe(t){const{api:e,layer:n,x:r,y:i,magFilter:o,onPointerMove:a,...s}=t,l=e.get(n,new ze(r,i)),[c,f]=l.shape,p=a&&Co.throttle(m=>{a(m,l)},50,{trailing:!1});return k.jsx("group",{position:[r+f/2,i+c/2,0],children:k.jsx(IAe,{values:l,...s,magFilter:o,size:{width:f,height:c},onPointerMove:p})})}F.memo(uRe);new Ys(new K(-1,-1,-1),new K(1,1,1));class to{constructor(e,n){jc(this,"min");jc(this,"max");if(this.min=e,this.max=n,e>n){const r=n;this.max=e,this.min=r}}containsValue(e){return e>=this.min&&e<=this.max}containsRange(e){return e.min>=this.min&&e.max<=this.max}toString(){return`(min:${this.min}, max:${this.max})`}intersect(e){return e===null||e.min>this.max||this.min>e.max?null:new to(Math.max(e.min,this.min),Math.min(e.max,this.max))}equals(e){return this.min===e.min&&this.max===e.max}apply(e){return new to(e(this.min),e(this.max))}inPlaceApply(e){return this.min=e(this.min),this.max=e(this.max),this}static createWithFunc(e,n,r){return new to(r(e),r(n))}}var hu=(t=>(t.milimeter="milimeter",t.pixel="pixel",t.reciprocal="reciprocal",t))(hu||{});const tW=p0(t=>({detector:!0,detectorColour:{r:144,g:19,b:254,a:.4},beamstop:!0,beamstopColor:{r:0,g:0,b:0,a:1},cameraTube:!0,cameraTubeColor:{r:80,g:227,b:194,a:.4},clearnace:!0,qrange:!0,mask:!1,calibrantInPlot:!1,calibrant:"something",plotAxes:"milimeter",update:e=>{t({...e})}})),fRe=(t,e,n)=>{let r=500;n===hu.milimeter&&(r=100);const i=Math.max(t.resolution.height,t.resolution.width,e.diameter);return{xAxis:new to(-r,Math.round(i+r)),yAxis:new to(-r,Math.round(i+r))}},Jw=t=>`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`;class dRe{constructor(e,n,r){jc(this,"detProps");jc(this,"kmod");jc(this,"qScale");jc(this,"mki");this.detProps=e,e.beamVector.normalize(),this.qScale=r,this.mki=e.beamVector.clone().negate(),this.kmod=this.qScale/n;const i=this.detProps.beamVector.clone();i.multiplyScalar(this.kmod),this.mki=i.negate()}convertToQ(e){const n=e.length();return n>0?(e.multiplyScalar(this.kmod/n),e.add(this.mki)):e.add(this.mki),e}qFromPixelPosition(e){const n=new K;return n.set(-e.x,-e.y,0),n.add(this.detProps.origin),this.convertToQ(n)}setDiffractionCrystalEnviroment(e){this.kmod=this.qScale/e;const n=this.detProps.beamVector.clone();n.multiplyScalar(this.kmod),this.mki=n.negate()}}class nW{constructor(e,n){jc(this,"direction");jc(this,"initial_point");if(e.length()==0)throw TypeError("The direction vector of a ray cannot be the zero vector.");this.direction=e,this.initial_point=n}getPoint(e){const n=new ze(this.direction.x,this.direction.y);return n.multiplyScalar(e),n.add(this.initial_point),n}getPointAtDistance(e){return this.getPoint(e/this.direction.length())}getParameterRange(e,n){let r=Math.min(e,n);const i=Math.max(e,n);return r<0&&(r=0),new to(r,i)}getCircleIntersectionParameterRange(e,n){const r=this.initial_point.clone().add(n.multiplyScalar(-1)),i=this.direction.dot(this.direction),o=2*r.dot(this.direction),a=r.dot(r)-Math.pow(e,2),s=Math.pow(o,2)-4*i*a;if(s<0)return null;let l,c;if(i==0){if(o==0)return a==0?new to(0,Number.POSITIVE_INFINITY):null;l=-a/o,c=-a/o}else l=.5*(-o-Math.sqrt(s))/i,c=.5*(-o+Math.sqrt(s))/i;return this.getParameterRange(l,c)}getRectangleIntersectionParameterRange(e,n,r){let i;const o=e.x+n,a=e.x,s=e.y,l=e.y-r;if(this.direction.x===0){if(!new to(a,o).containsValue(this.initial_point.x))return null;i=new to(0,Number.POSITIVE_INFINITY)}else i=new to((a-this.initial_point.x)/this.direction.x,(o-this.initial_point.x)/this.direction.x);return this.direction.y==0?new to(l,s).containsValue(this.initial_point.y)?this.getParameterRange(i.min,i.max):null:(i=i.intersect(new to((l-this.initial_point.y)/this.direction.y,(s-this.initial_point.y)/this.direction.y)),i==null?null:this.getParameterRange(i.min,i.max))}}function hRe(t,e,n,r){const i={ptMin:new ze(0,0),ptMax:new ze(0,0),visibleQRange:null,fullQRange:null},o=(e.clearance??0)*t.pixelSize.width+e.diameter/2,a=(e.clearance??0)*t.pixelSize.height+e.diameter/2,s=(e.centre.x??0)*t.pixelSize.width,l=(e.centre.y??0)*t.pixelSize.height,c=t.resolution.height*t.pixelSize.height,f=t.resolution.width*t.pixelSize.width,p=(n.centre.x??0)*t.pixelSize.width,m=(n.centre.y??0)*t.pixelSize.height,v=new ze(o*Math.cos(r.angle??0)+s,a*Math.sin(r.angle??0)+l),x=new nW(new ze(Math.cos(r.angle??0),Math.sin(r.angle??0)),v);let _=x.getRectangleIntersectionParameterRange(new ze(0,c),f,c);if(_!=null&&n!=null&&n.diameter!=0&&(_=_.intersect(x.getCircleIntersectionParameterRange((n.diameter??0)/2,new ze(p,m)))),_===null||r.wavelength==null||r.cameraLength==null)return i;const b=x.getPoint(_.min),y=x.getPoint(_.max),S={...t,origin:new K(s,l,r.cameraLength*1e3),beamVector:new K(0,0,1)},M=new dRe(S,r.wavelength*1e10,2*Math.PI),C=M.qFromPixelPosition(b),P=M.qFromPixelPosition(y);S.origin.z=r.minCameraLength*1e3,M.setDiffractionCrystalEnviroment(r.minWavelength*1e10);const A=M.qFromPixelPosition(y);S.origin.z=r.maxCameraLength*1e3,M.setDiffractionCrystalEnviroment(r.maxWavelength*1e10);const R=M.qFromPixelPosition(b);return{ptMin:b,ptMax:y,visibleQRange:new to(C.length()*1e10,P.length()*1e10),fullQRange:new to(A.length()*1e10,R.length()*1e10)}}var Fs={},Cx={},pRe=Array.isArray,Ol=pRe;function mRe(t){return t!=null&&typeof t=="object"}var ku=mRe,gRe=fp,vRe=Ol,yRe=ku,xRe="[object String]";function bRe(t){return typeof t=="string"||!vRe(t)&&yRe(t)&&gRe(t)==xRe}var _Re=bRe;function wRe(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var SRe=wRe,MRe=SRe,ERe=MRe(),CRe=ERe;function TRe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ARe=TRe,RRe=fp,PRe=ku,IRe="[object Arguments]";function LRe(t){return PRe(t)&&RRe(t)==IRe}var ORe=LRe,gU=ORe,kRe=ku,rW=Object.prototype,NRe=rW.hasOwnProperty,DRe=rW.propertyIsEnumerable,FRe=gU(function(){return arguments}())?gU:function(t){return kRe(t)&&NRe.call(t,"callee")&&!DRe.call(t,"callee")},iW=FRe,nM={exports:{}};function URe(){return!1}var zRe=URe;nM.exports;(function(t,e){var n=Tc,r=zRe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(nM,nM.exports);var nO=nM.exports,BRe=9007199254740991,$Re=/^(?:0|[1-9]\d*)$/;function HRe(t,e){var n=typeof t;return e=e??BRe,!!e&&(n=="number"||n!="symbol"&&$Re.test(t))&&t>-1&&t%1==0&&t<e}var oW=HRe,VRe=9007199254740991;function WRe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=VRe}var rO=WRe,GRe=fp,jRe=rO,XRe=ku,qRe="[object Arguments]",YRe="[object Array]",KRe="[object Boolean]",ZRe="[object Date]",QRe="[object Error]",JRe="[object Function]",e3e="[object Map]",t3e="[object Number]",n3e="[object Object]",r3e="[object RegExp]",i3e="[object Set]",o3e="[object String]",a3e="[object WeakMap]",s3e="[object ArrayBuffer]",l3e="[object DataView]",c3e="[object Float32Array]",u3e="[object Float64Array]",f3e="[object Int8Array]",d3e="[object Int16Array]",h3e="[object Int32Array]",p3e="[object Uint8Array]",m3e="[object Uint8ClampedArray]",g3e="[object Uint16Array]",v3e="[object Uint32Array]",xr={};xr[c3e]=xr[u3e]=xr[f3e]=xr[d3e]=xr[h3e]=xr[p3e]=xr[m3e]=xr[g3e]=xr[v3e]=!0;xr[qRe]=xr[YRe]=xr[s3e]=xr[KRe]=xr[l3e]=xr[ZRe]=xr[QRe]=xr[JRe]=xr[e3e]=xr[t3e]=xr[n3e]=xr[r3e]=xr[i3e]=xr[o3e]=xr[a3e]=!1;function y3e(t){return XRe(t)&&jRe(t.length)&&!!xr[GRe(t)]}var x3e=y3e;function b3e(t){return function(e){return t(e)}}var iO=b3e,rM={exports:{}};rM.exports;(function(t,e){var n=vV,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(rM,rM.exports);var oO=rM.exports,_3e=x3e,w3e=iO,vU=oO,yU=vU&&vU.isTypedArray,S3e=yU?w3e(yU):_3e,aW=S3e,M3e=ARe,E3e=iW,C3e=Ol,T3e=nO,A3e=oW,R3e=aW,P3e=Object.prototype,I3e=P3e.hasOwnProperty;function L3e(t,e){var n=C3e(t),r=!n&&E3e(t),i=!n&&!r&&T3e(t),o=!n&&!r&&!i&&R3e(t),a=n||r||i||o,s=a?M3e(t.length,String):[],l=s.length;for(var c in t)(e||I3e.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||A3e(c,l)))&&s.push(c);return s}var sW=L3e,O3e=Object.prototype;function k3e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||O3e;return t===n}var aO=k3e;function N3e(t,e){return function(n){return t(e(n))}}var lW=N3e,D3e=lW,F3e=D3e(Object.keys,Object),U3e=F3e,z3e=aO,B3e=U3e,$3e=Object.prototype,H3e=$3e.hasOwnProperty;function V3e(t){if(!z3e(t))return B3e(t);var e=[];for(var n in Object(t))H3e.call(t,n)&&n!="constructor"&&e.push(n);return e}var W3e=V3e,G3e=xV,j3e=rO;function X3e(t){return t!=null&&j3e(t.length)&&!G3e(t)}var g2=X3e,q3e=sW,Y3e=W3e,K3e=g2;function Z3e(t){return K3e(t)?q3e(t):Y3e(t)}var Tx=Z3e,Q3e=CRe,J3e=Tx;function ePe(t,e){return t&&Q3e(t,e,J3e)}var cW=ePe;function tPe(t){return t}var uW=tPe,nPe=uW;function rPe(t){return typeof t=="function"?t:nPe}var iPe=rPe,oPe=cW,aPe=iPe;function sPe(t,e){return t&&oPe(t,aPe(e))}var sO=sPe,lPe=lW,cPe=lPe(Object.getPrototypeOf,Object),lO=cPe,uPe=fp,fPe=lO,dPe=ku,hPe="[object Object]",pPe=Function.prototype,mPe=Object.prototype,fW=pPe.toString,gPe=mPe.hasOwnProperty,vPe=fW.call(Object);function yPe(t){if(!dPe(t)||uPe(t)!=hPe)return!1;var e=fPe(t);if(e===null)return!0;var n=gPe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&fW.call(n)==vPe}var xPe=yPe;function bPe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var dW=bPe,_Pe=a2;function wPe(){this.__data__=new _Pe,this.size=0}var SPe=wPe;function MPe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var EPe=MPe;function CPe(t){return this.__data__.get(t)}var TPe=CPe;function APe(t){return this.__data__.has(t)}var RPe=APe,PPe=a2,IPe=BL,LPe=$L,OPe=200;function kPe(t,e){var n=this.__data__;if(n instanceof PPe){var r=n.__data__;if(!IPe||r.length<OPe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new LPe(r)}return n.set(t,e),this.size=n.size,this}var NPe=kPe,DPe=a2,FPe=SPe,UPe=EPe,zPe=TPe,BPe=RPe,$Pe=NPe;function C0(t){var e=this.__data__=new DPe(t);this.size=e.size}C0.prototype.clear=FPe;C0.prototype.delete=UPe;C0.prototype.get=zPe;C0.prototype.has=BPe;C0.prototype.set=$Pe;var cO=C0,HPe="__lodash_hash_undefined__";function VPe(t){return this.__data__.set(t,HPe),this}var WPe=VPe;function GPe(t){return this.__data__.has(t)}var jPe=GPe,XPe=$L,qPe=WPe,YPe=jPe;function iM(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new XPe;++e<n;)this.add(t[e])}iM.prototype.add=iM.prototype.push=qPe;iM.prototype.has=YPe;var KPe=iM;function ZPe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var QPe=ZPe;function JPe(t,e){return t.has(e)}var eIe=JPe,tIe=KPe,nIe=QPe,rIe=eIe,iIe=1,oIe=2;function aIe(t,e,n,r,i,o){var a=n&iIe,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),f=o.get(e);if(c&&f)return c==e&&f==t;var p=-1,m=!0,v=n&oIe?new tIe:void 0;for(o.set(t,e),o.set(e,t);++p<s;){var x=t[p],_=e[p];if(r)var b=a?r(_,x,p,e,t,o):r(x,_,p,t,e,o);if(b!==void 0){if(b)continue;m=!1;break}if(v){if(!nIe(e,function(y,S){if(!rIe(v,S)&&(x===y||i(x,y,n,r,o)))return v.push(S)})){m=!1;break}}else if(!(x===_||i(x,_,n,r,o))){m=!1;break}}return o.delete(t),o.delete(e),m}var hW=aIe,sIe=Tc,lIe=sIe.Uint8Array,pW=lIe;function cIe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var uIe=cIe;function fIe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var dIe=fIe,xU=Sx,bU=pW,hIe=zL,pIe=hW,mIe=uIe,gIe=dIe,vIe=1,yIe=2,xIe="[object Boolean]",bIe="[object Date]",_Ie="[object Error]",wIe="[object Map]",SIe="[object Number]",MIe="[object RegExp]",EIe="[object Set]",CIe="[object String]",TIe="[object Symbol]",AIe="[object ArrayBuffer]",RIe="[object DataView]",_U=xU?xU.prototype:void 0,dA=_U?_U.valueOf:void 0;function PIe(t,e,n,r,i,o,a){switch(n){case RIe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case AIe:return!(t.byteLength!=e.byteLength||!o(new bU(t),new bU(e)));case xIe:case bIe:case SIe:return hIe(+t,+e);case _Ie:return t.name==e.name&&t.message==e.message;case MIe:case CIe:return t==e+"";case wIe:var s=mIe;case EIe:var l=r&vIe;if(s||(s=gIe),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=yIe,a.set(t,e);var f=pIe(s(t),s(e),r,i,o,a);return a.delete(t),f;case TIe:if(dA)return dA.call(t)==dA.call(e)}return!1}var IIe=PIe;function LIe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var mW=LIe,OIe=mW,kIe=Ol;function NIe(t,e,n){var r=e(t);return kIe(t)?r:OIe(r,n(t))}var gW=NIe;function DIe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var FIe=DIe;function UIe(){return[]}var vW=UIe,zIe=FIe,BIe=vW,$Ie=Object.prototype,HIe=$Ie.propertyIsEnumerable,wU=Object.getOwnPropertySymbols,VIe=wU?function(t){return t==null?[]:(t=Object(t),zIe(wU(t),function(e){return HIe.call(t,e)}))}:BIe,uO=VIe,WIe=gW,GIe=uO,jIe=Tx;function XIe(t){return WIe(t,jIe,GIe)}var yW=XIe,SU=yW,qIe=1,YIe=Object.prototype,KIe=YIe.hasOwnProperty;function ZIe(t,e,n,r,i,o){var a=n&qIe,s=SU(t),l=s.length,c=SU(e),f=c.length;if(l!=f&&!a)return!1;for(var p=l;p--;){var m=s[p];if(!(a?m in e:KIe.call(e,m)))return!1}var v=o.get(t),x=o.get(e);if(v&&x)return v==e&&x==t;var _=!0;o.set(t,e),o.set(e,t);for(var b=a;++p<l;){m=s[p];var y=t[m],S=e[m];if(r)var M=a?r(S,y,m,e,t,o):r(y,S,m,t,e,o);if(!(M===void 0?y===S||i(y,S,n,r,o):M)){_=!1;break}b||(b=m=="constructor")}if(_&&!b){var C=t.constructor,P=e.constructor;C!=P&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof P=="function"&&P instanceof P)&&(_=!1)}return o.delete(t),o.delete(e),_}var QIe=ZIe,JIe=dp,eLe=Tc,tLe=JIe(eLe,"DataView"),nLe=tLe,rLe=dp,iLe=Tc,oLe=rLe(iLe,"Promise"),aLe=oLe,sLe=dp,lLe=Tc,cLe=sLe(lLe,"Set"),uLe=cLe,fLe=dp,dLe=Tc,hLe=fLe(dLe,"WeakMap"),pLe=hLe,j3=nLe,X3=BL,q3=aLe,Y3=uLe,K3=pLe,xW=fp,T0=bV,MU="[object Map]",mLe="[object Object]",EU="[object Promise]",CU="[object Set]",TU="[object WeakMap]",AU="[object DataView]",gLe=T0(j3),vLe=T0(X3),yLe=T0(q3),xLe=T0(Y3),bLe=T0(K3),dh=xW;(j3&&dh(new j3(new ArrayBuffer(1)))!=AU||X3&&dh(new X3)!=MU||q3&&dh(q3.resolve())!=EU||Y3&&dh(new Y3)!=CU||K3&&dh(new K3)!=TU)&&(dh=function(t){var e=xW(t),n=e==mLe?t.constructor:void 0,r=n?T0(n):"";if(r)switch(r){case gLe:return AU;case vLe:return MU;case yLe:return EU;case xLe:return CU;case bLe:return TU}return e});var v2=dh,hA=cO,_Le=hW,wLe=IIe,SLe=QIe,RU=v2,PU=Ol,IU=nO,MLe=aW,ELe=1,LU="[object Arguments]",OU="[object Array]",bw="[object Object]",CLe=Object.prototype,kU=CLe.hasOwnProperty;function TLe(t,e,n,r,i,o){var a=PU(t),s=PU(e),l=a?OU:RU(t),c=s?OU:RU(e);l=l==LU?bw:l,c=c==LU?bw:c;var f=l==bw,p=c==bw,m=l==c;if(m&&IU(t)){if(!IU(e))return!1;a=!0,f=!1}if(m&&!f)return o||(o=new hA),a||MLe(t)?_Le(t,e,n,r,i,o):wLe(t,e,l,n,r,i,o);if(!(n&ELe)){var v=f&&kU.call(t,"__wrapped__"),x=p&&kU.call(e,"__wrapped__");if(v||x){var _=v?t.value():t,b=x?e.value():e;return o||(o=new hA),i(_,b,n,r,o)}}return m?(o||(o=new hA),SLe(t,e,n,r,i,o)):!1}var ALe=TLe,RLe=ALe,NU=ku;function bW(t,e,n,r,i){return t===e?!0:t==null||e==null||!NU(t)&&!NU(e)?t!==t&&e!==e:RLe(t,e,n,r,bW,i)}var _W=bW,PLe=cO,ILe=_W,LLe=1,OLe=2;function kLe(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],f=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var p=new PLe;if(r)var m=r(c,f,l,t,e,p);if(!(m===void 0?ILe(f,c,LLe|OLe,r,p):m))return!1}}return!0}var NLe=kLe,DLe=_0;function FLe(t){return t===t&&!DLe(t)}var wW=FLe,ULe=wW,zLe=Tx;function BLe(t){for(var e=zLe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ULe(i)]}return e}var $Le=BLe;function HLe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var SW=HLe,VLe=NLe,WLe=$Le,GLe=SW;function jLe(t){var e=WLe(t);return e.length==1&&e[0][2]?GLe(e[0][0],e[0][1]):function(n){return n===t||VLe(n,t,e)}}var XLe=jLe,qLe=fp,YLe=ku,KLe="[object Symbol]";function ZLe(t){return typeof t=="symbol"||YLe(t)&&qLe(t)==KLe}var fO=ZLe,QLe=Ol,JLe=fO,eOe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tOe=/^\w*$/;function nOe(t,e){if(QLe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||JLe(t)?!0:tOe.test(t)||!eOe.test(t)||e!=null&&t in Object(e)}var dO=nOe,rOe=wV,iOe=500;function oOe(t){var e=rOe(t,function(r){return n.size===iOe&&n.clear(),r}),n=e.cache;return e}var aOe=oOe,sOe=aOe,lOe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cOe=/\\(\\)?/g,uOe=sOe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lOe,function(n,r,i,o){e.push(i?o.replace(cOe,"$1"):r||n)}),e}),fOe=uOe,DU=Sx,dOe=dW,hOe=Ol,pOe=fO,mOe=1/0,FU=DU?DU.prototype:void 0,UU=FU?FU.toString:void 0;function MW(t){if(typeof t=="string")return t;if(hOe(t))return dOe(t,MW)+"";if(pOe(t))return UU?UU.call(t):"";var e=t+"";return e=="0"&&1/t==-mOe?"-0":e}var gOe=MW,vOe=gOe;function yOe(t){return t==null?"":vOe(t)}var xOe=yOe,bOe=Ol,_Oe=dO,wOe=fOe,SOe=xOe;function MOe(t,e){return bOe(t)?t:_Oe(t,e)?[t]:wOe(SOe(t))}var EW=MOe,EOe=fO,COe=1/0;function TOe(t){if(typeof t=="string"||EOe(t))return t;var e=t+"";return e=="0"&&1/t==-COe?"-0":e}var y2=TOe,AOe=EW,ROe=y2;function POe(t,e){e=AOe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ROe(e[n++])];return n&&n==r?t:void 0}var CW=POe,IOe=CW;function LOe(t,e,n){var r=t==null?void 0:IOe(t,e);return r===void 0?n:r}var OOe=LOe;function kOe(t,e){return t!=null&&e in Object(t)}var NOe=kOe,DOe=EW,FOe=iW,UOe=Ol,zOe=oW,BOe=rO,$Oe=y2;function HOe(t,e,n){e=DOe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=$Oe(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&BOe(i)&&zOe(a,i)&&(UOe(t)||FOe(t)))}var VOe=HOe,WOe=NOe,GOe=VOe;function jOe(t,e){return t!=null&&GOe(t,e,WOe)}var XOe=jOe,qOe=_W,YOe=OOe,KOe=XOe,ZOe=dO,QOe=wW,JOe=SW,e4e=y2,t4e=1,n4e=2;function r4e(t,e){return ZOe(t)&&QOe(e)?JOe(e4e(t),e):function(n){var r=YOe(n,t);return r===void 0&&r===e?KOe(n,t):qOe(e,r,t4e|n4e)}}var i4e=r4e;function o4e(t){return function(e){return e==null?void 0:e[t]}}var a4e=o4e,s4e=CW;function l4e(t){return function(e){return s4e(e,t)}}var c4e=l4e,u4e=a4e,f4e=c4e,d4e=dO,h4e=y2;function p4e(t){return d4e(t)?u4e(h4e(t)):f4e(t)}var m4e=p4e,g4e=XLe,v4e=i4e,y4e=uW,x4e=Ol,b4e=m4e;function _4e(t){return typeof t=="function"?t:t==null?y4e:typeof t=="object"?x4e(t)?v4e(t[0],t[1]):g4e(t):b4e(t)}var w4e=_4e,S4e=g2;function M4e(t,e){return function(n,r){if(n==null)return n;if(!S4e(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var E4e=M4e,C4e=cW,T4e=E4e,A4e=T4e(C4e),R4e=A4e,P4e=R4e,I4e=g2;function L4e(t,e){var n=-1,r=I4e(t)?Array(t.length):[];return P4e(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var O4e=L4e,k4e=dW,N4e=w4e,D4e=O4e,F4e=Ol;function U4e(t,e){var n=F4e(t)?k4e:D4e;return n(t,N4e(e))}var z4e=U4e;Object.defineProperty(Cx,"__esModule",{value:!0});Cx.flattenNames=void 0;var B4e=_Re,$4e=x2(B4e),H4e=sO,V4e=x2(H4e),W4e=xPe,G4e=x2(W4e),j4e=z4e,X4e=x2(j4e);function x2(t){return t&&t.__esModule?t:{default:t}}var q4e=Cx.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,X4e.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,G4e.default)(r)?(0,V4e.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,$4e.default)(r)&&n.push(r)}),n};Cx.default=q4e;var Ax={};function Y4e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var K4e=Y4e,Z4e=dp,Q4e=function(){try{var t=Z4e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),J4e=Q4e,zU=J4e;function eke(t,e,n){e=="__proto__"&&zU?zU(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var TW=eke,tke=TW,nke=zL,rke=Object.prototype,ike=rke.hasOwnProperty;function oke(t,e,n){var r=t[e];(!(ike.call(t,e)&&nke(r,n))||n===void 0&&!(e in t))&&tke(t,e,n)}var AW=oke,ake=AW,ske=TW;function lke(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;l===void 0&&(l=t[s]),i?ske(n,s,l):ake(n,s,l)}return n}var b2=lke,cke=b2,uke=Tx;function fke(t,e){return t&&cke(e,uke(e),t)}var dke=fke;function hke(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var pke=hke,mke=_0,gke=aO,vke=pke,yke=Object.prototype,xke=yke.hasOwnProperty;function bke(t){if(!mke(t))return vke(t);var e=gke(t),n=[];for(var r in t)r=="constructor"&&(e||!xke.call(t,r))||n.push(r);return n}var _ke=bke,wke=sW,Ske=_ke,Mke=g2;function Eke(t){return Mke(t)?wke(t,!0):Ske(t)}var hO=Eke,Cke=b2,Tke=hO;function Ake(t,e){return t&&Cke(e,Tke(e),t)}var Rke=Ake,oM={exports:{}};oM.exports;(function(t,e){var n=Tc,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(c,f){if(f)return c.slice();var p=c.length,m=s?s(p):new c.constructor(p);return c.copy(m),m}t.exports=l})(oM,oM.exports);var Pke=oM.exports;function Ike(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Lke=Ike,Oke=b2,kke=uO;function Nke(t,e){return Oke(t,kke(t),e)}var Dke=Nke,Fke=mW,Uke=lO,zke=uO,Bke=vW,$ke=Object.getOwnPropertySymbols,Hke=$ke?function(t){for(var e=[];t;)Fke(e,zke(t)),t=Uke(t);return e}:Bke,RW=Hke,Vke=b2,Wke=RW;function Gke(t,e){return Vke(t,Wke(t),e)}var jke=Gke,Xke=gW,qke=RW,Yke=hO;function Kke(t){return Xke(t,Yke,qke)}var Zke=Kke,Qke=Object.prototype,Jke=Qke.hasOwnProperty;function e5e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Jke.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var t5e=e5e,BU=pW;function n5e(t){var e=new t.constructor(t.byteLength);return new BU(e).set(new BU(t)),e}var pO=n5e,r5e=pO;function i5e(t,e){var n=e?r5e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var o5e=i5e,a5e=/\w*$/;function s5e(t){var e=new t.constructor(t.source,a5e.exec(t));return e.lastIndex=t.lastIndex,e}var l5e=s5e,$U=Sx,HU=$U?$U.prototype:void 0,VU=HU?HU.valueOf:void 0;function c5e(t){return VU?Object(VU.call(t)):{}}var u5e=c5e,f5e=pO;function d5e(t,e){var n=e?f5e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var h5e=d5e,p5e=pO,m5e=o5e,g5e=l5e,v5e=u5e,y5e=h5e,x5e="[object Boolean]",b5e="[object Date]",_5e="[object Map]",w5e="[object Number]",S5e="[object RegExp]",M5e="[object Set]",E5e="[object String]",C5e="[object Symbol]",T5e="[object ArrayBuffer]",A5e="[object DataView]",R5e="[object Float32Array]",P5e="[object Float64Array]",I5e="[object Int8Array]",L5e="[object Int16Array]",O5e="[object Int32Array]",k5e="[object Uint8Array]",N5e="[object Uint8ClampedArray]",D5e="[object Uint16Array]",F5e="[object Uint32Array]";function U5e(t,e,n){var r=t.constructor;switch(e){case T5e:return p5e(t);case x5e:case b5e:return new r(+t);case A5e:return m5e(t,n);case R5e:case P5e:case I5e:case L5e:case O5e:case k5e:case N5e:case D5e:case F5e:return y5e(t,n);case _5e:return new r;case w5e:case E5e:return new r(t);case S5e:return g5e(t);case M5e:return new r;case C5e:return v5e(t)}}var z5e=U5e,B5e=_0,WU=Object.create,$5e=function(){function t(){}return function(e){if(!B5e(e))return{};if(WU)return WU(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),H5e=$5e,V5e=H5e,W5e=lO,G5e=aO;function j5e(t){return typeof t.constructor=="function"&&!G5e(t)?V5e(W5e(t)):{}}var X5e=j5e,q5e=v2,Y5e=ku,K5e="[object Map]";function Z5e(t){return Y5e(t)&&q5e(t)==K5e}var Q5e=Z5e,J5e=Q5e,eNe=iO,GU=oO,jU=GU&&GU.isMap,tNe=jU?eNe(jU):J5e,nNe=tNe,rNe=v2,iNe=ku,oNe="[object Set]";function aNe(t){return iNe(t)&&rNe(t)==oNe}var sNe=aNe,lNe=sNe,cNe=iO,XU=oO,qU=XU&&XU.isSet,uNe=qU?cNe(qU):lNe,fNe=uNe,dNe=cO,hNe=K4e,pNe=AW,mNe=dke,gNe=Rke,vNe=Pke,yNe=Lke,xNe=Dke,bNe=jke,_Ne=yW,wNe=Zke,SNe=v2,MNe=t5e,ENe=z5e,CNe=X5e,TNe=Ol,ANe=nO,RNe=nNe,PNe=_0,INe=fNe,LNe=Tx,ONe=hO,kNe=1,NNe=2,DNe=4,PW="[object Arguments]",FNe="[object Array]",UNe="[object Boolean]",zNe="[object Date]",BNe="[object Error]",IW="[object Function]",$Ne="[object GeneratorFunction]",HNe="[object Map]",VNe="[object Number]",LW="[object Object]",WNe="[object RegExp]",GNe="[object Set]",jNe="[object String]",XNe="[object Symbol]",qNe="[object WeakMap]",YNe="[object ArrayBuffer]",KNe="[object DataView]",ZNe="[object Float32Array]",QNe="[object Float64Array]",JNe="[object Int8Array]",eDe="[object Int16Array]",tDe="[object Int32Array]",nDe="[object Uint8Array]",rDe="[object Uint8ClampedArray]",iDe="[object Uint16Array]",oDe="[object Uint32Array]",pr={};pr[PW]=pr[FNe]=pr[YNe]=pr[KNe]=pr[UNe]=pr[zNe]=pr[ZNe]=pr[QNe]=pr[JNe]=pr[eDe]=pr[tDe]=pr[HNe]=pr[VNe]=pr[LW]=pr[WNe]=pr[GNe]=pr[jNe]=pr[XNe]=pr[nDe]=pr[rDe]=pr[iDe]=pr[oDe]=!0;pr[BNe]=pr[IW]=pr[qNe]=!1;function eS(t,e,n,r,i,o){var a,s=e&kNe,l=e&NNe,c=e&DNe;if(n&&(a=i?n(t,r,i,o):n(t)),a!==void 0)return a;if(!PNe(t))return t;var f=TNe(t);if(f){if(a=MNe(t),!s)return yNe(t,a)}else{var p=SNe(t),m=p==IW||p==$Ne;if(ANe(t))return vNe(t,s);if(p==LW||p==PW||m&&!i){if(a=l||m?{}:CNe(t),!s)return l?bNe(t,gNe(a,t)):xNe(t,mNe(a,t))}else{if(!pr[p])return i?t:{};a=ENe(t,p,s)}}o||(o=new dNe);var v=o.get(t);if(v)return v;o.set(t,a),INe(t)?t.forEach(function(b){a.add(eS(b,e,n,b,t,o))}):RNe(t)&&t.forEach(function(b,y){a.set(y,eS(b,e,n,y,t,o))});var x=c?l?wNe:_Ne:l?ONe:LNe,_=f?void 0:x(t);return hNe(_||t,function(b,y){_&&(y=b,b=t[y]),pNe(a,y,eS(b,e,n,y,t,o))}),a}var aDe=eS,sDe=aDe,lDe=1,cDe=4;function uDe(t){return sDe(t,lDe|cDe)}var fDe=uDe;Object.defineProperty(Ax,"__esModule",{value:!0});Ax.mergeClasses=void 0;var dDe=sO,hDe=OW(dDe),pDe=fDe,mDe=OW(pDe),gDe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function OW(t){return t&&t.__esModule?t:{default:t}}var vDe=Ax.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,mDe.default)(e.default)||{};return n.map(function(i){var o=e[i];return o&&(0,hDe.default)(o,function(a,s){r[s]||(r[s]={}),r[s]=gDe({},r[s],o[s])}),i}),r};Ax.default=vDe;var Rx={};Object.defineProperty(Rx,"__esModule",{value:!0});Rx.autoprefix=void 0;var yDe=sO,YU=bDe(yDe),xDe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function bDe(t){return t&&t.__esModule?t:{default:t}}var _De={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},wDe=Rx.autoprefix=function(e){var n={};return(0,YU.default)(e,function(r,i){var o={};(0,YU.default)(r,function(a,s){var l=_De[s];l?o=xDe({},o,l(a)):o[s]=a}),n[i]=o}),n};Rx.default=wDe;var Px={};Object.defineProperty(Px,"__esModule",{value:!0});Px.hover=void 0;var SDe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MDe=F,pA=EDe(MDe);function EDe(t){return t&&t.__esModule?t:{default:t}}function CDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function TDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ADe=Px.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){TDe(i,r);function i(){var o,a,s,l;CDe(this,i);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return l=(a=(s=KU(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(f))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return pA.default.createElement(n,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},pA.default.createElement(e,SDe({},s.props,s.state)))},a),KU(s,l)}return i}(pA.default.Component)};Px.default=ADe;var Ix={};Object.defineProperty(Ix,"__esModule",{value:!0});Ix.active=void 0;var RDe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PDe=F,mA=IDe(PDe);function IDe(t){return t&&t.__esModule?t:{default:t}}function LDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ODe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kDe=Ix.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){ODe(i,r);function i(){var o,a,s,l;LDe(this,i);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return l=(a=(s=ZU(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(f))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return mA.default.createElement(n,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},mA.default.createElement(e,RDe({},s.props,s.state)))},a),ZU(s,l)}return i}(mA.default.Component)};Ix.default=kDe;var mO={};Object.defineProperty(mO,"__esModule",{value:!0});var NDe=function(e,n){var r={},i=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[a]=s};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};mO.default=NDe;Object.defineProperty(Fs,"__esModule",{value:!0});Fs.ReactCSS=Fs.loop=Fs.handleActive=gO=Fs.handleHover=Fs.hover=void 0;var DDe=Cx,FDe=A0(DDe),UDe=Ax,zDe=A0(UDe),BDe=Rx,$De=A0(BDe),HDe=Px,kW=A0(HDe),VDe=Ix,WDe=A0(VDe),GDe=mO,jDe=A0(GDe);function A0(t){return t&&t.__esModule?t:{default:t}}Fs.hover=kW.default;var gO=Fs.handleHover=kW.default;Fs.handleActive=WDe.default;Fs.loop=jDe.default;var XDe=Fs.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,FDe.default)(r),a=(0,zDe.default)(e,o);return(0,$De.default)(a)},cn=Fs.default=XDe,qDe=function(e,n,r,i,o){var a=o.clientWidth,s=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,f=l-(o.getBoundingClientRect().left+window.pageXOffset),p=c-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var m=void 0;if(p<0?m=0:p>s?m=1:m=Math.round(p*100/s)/100,n.a!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}else{var v=void 0;if(f<0?v=0:f>a?v=1:v=Math.round(f*100/a)/100,i!==v)return{h:n.h,s:n.s,l:n.l,a:v,source:"rgb"}}return null},gA={},YDe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var a=o.getContext("2d");return a?(a.fillStyle=e,a.fillRect(0,0,o.width,o.height),a.fillStyle=n,a.fillRect(0,0,r,r),a.translate(r,r),a.fillRect(0,0,r,r),o.toDataURL()):null},KDe=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(gA[o])return gA[o];var a=YDe(e,n,r,i);return gA[o]=a,a},QU=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,a=e.borderRadius,s=e.boxShadow,l=e.children,c=cn({default:{grid:{borderRadius:a,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+KDe(n,r,i,o.canvas)+") center left"}}});return F.isValidElement(l)?Z.cloneElement(l,QU({},l.props,{style:QU({},l.props.style,c.grid)})):Z.createElement("div",{style:c.grid})};R0.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var ZDe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QDe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function JDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vO=function(t){eFe(e,t);function e(){var n,r,i,o;JDe(this,e);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return o=(r=(i=JU(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(s))),i),i.handleChange=function(c){var f=qDe(c,i.props.hsl,i.props.direction,i.props.a,i.container);f&&typeof i.props.onChange=="function"&&i.props.onChange(f,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),JU(i,o)}return QDe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=cn({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:ZDe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Z.createElement("div",{style:o.alpha},Z.createElement("div",{style:o.checkboard},Z.createElement(R0,{renderers:this.props.renderers})),Z.createElement("div",{style:o.gradient}),Z.createElement("div",{style:o.container,ref:function(s){return r.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Z.createElement("div",{style:o.pointer},this.props.pointer?Z.createElement(this.props.pointer,this.props):Z.createElement("div",{style:o.slider}))))}}]),e}(F.PureComponent||F.Component),tFe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function nFe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iFe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aFe=1,NW=38,sFe=40,lFe=[NW,sFe],cFe=function(e){return lFe.indexOf(e)>-1},uFe=function(e){return Number(String(e).replace(/%/g,""))},fFe=1,Nn=function(t){oFe(e,t);function e(n){rFe(this,e);var r=iFe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=uFe(i.target.value);if(!isNaN(o)&&cFe(i.keyCode)){var a=r.getArrowOffset(),s=i.keyCode===NW?o+a:o-a;r.setUpdatedValue(s,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+fFe++,r}return tFe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return nFe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||aFe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=cn({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return Z.createElement("div",{style:i.wrap},Z.createElement("input",{id:this.inputId,style:i.input,ref:function(a){return r.input=a},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?Z.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(F.PureComponent||F.Component),dFe=function(e,n,r,i){var o=i.clientWidth,a=i.clientHeight,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=s-(i.getBoundingClientRect().left+window.pageXOffset),f=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var p=void 0;if(f<0)p=359;else if(f>a)p=0;else{var m=-(f*100/a)+100;p=360*m/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var v=void 0;if(c<0)v=0;else if(c>o)v=359;else{var x=c*100/o;v=360*x/100}if(r.h!==v)return{h:v,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},hFe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function pFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var P0=function(t){mFe(e,t);function e(){var n,r,i,o;pFe(this,e);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return o=(r=(i=e8(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(s))),i),i.handleChange=function(c){var f=dFe(c,i.props.direction,i.props.hsl,i.container);f&&typeof i.props.onChange=="function"&&i.props.onChange(f,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),e8(i,o)}return hFe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,a=cn({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return Z.createElement("div",{style:a.hue},Z.createElement("div",{className:"hue-"+o,style:a.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Z.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),Z.createElement("div",{style:a.pointer},this.props.pointer?Z.createElement(this.props.pointer,this.props):Z.createElement("div",{style:a.slider}))))}}]),e}(F.PureComponent||F.Component);function gFe(){this.__data__=[],this.size=0}function Lx(t,e){return t===e||t!==t&&e!==e}function _2(t,e){for(var n=t.length;n--;)if(Lx(t[n][0],e))return n;return-1}var vFe=Array.prototype,yFe=vFe.splice;function xFe(t){var e=this.__data__,n=_2(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():yFe.call(e,n,1),--this.size,!0}function bFe(t){var e=this.__data__,n=_2(e,t);return n<0?void 0:e[n][1]}function _Fe(t){return _2(this.__data__,t)>-1}function wFe(t,e){var n=this.__data__,r=_2(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nu.prototype.clear=gFe;Nu.prototype.delete=xFe;Nu.prototype.get=bFe;Nu.prototype.has=_Fe;Nu.prototype.set=wFe;function SFe(){this.__data__=new Nu,this.size=0}function MFe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function EFe(t){return this.__data__.get(t)}function CFe(t){return this.__data__.has(t)}var TFe=typeof global=="object"&&global&&global.Object===Object&&global;const DW=TFe;var AFe=typeof self=="object"&&self&&self.Object===Object&&self,RFe=DW||AFe||Function("return this")();const kl=RFe;var PFe=kl.Symbol;const td=PFe;var FW=Object.prototype,IFe=FW.hasOwnProperty,LFe=FW.toString,ey=td?td.toStringTag:void 0;function OFe(t){var e=IFe.call(t,ey),n=t[ey];try{t[ey]=void 0;var r=!0}catch{}var i=LFe.call(t);return r&&(e?t[ey]=n:delete t[ey]),i}var kFe=Object.prototype,NFe=kFe.toString;function DFe(t){return NFe.call(t)}var FFe="[object Null]",UFe="[object Undefined]",t8=td?td.toStringTag:void 0;function hp(t){return t==null?t===void 0?UFe:FFe:t8&&t8 in Object(t)?OFe(t):DFe(t)}function Xs(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zFe="[object AsyncFunction]",BFe="[object Function]",$Fe="[object GeneratorFunction]",HFe="[object Proxy]";function yO(t){if(!Xs(t))return!1;var e=hp(t);return e==BFe||e==$Fe||e==zFe||e==HFe}var VFe=kl["__core-js_shared__"];const vA=VFe;var n8=function(){var t=/[^.]+$/.exec(vA&&vA.keys&&vA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function WFe(t){return!!n8&&n8 in t}var GFe=Function.prototype,jFe=GFe.toString;function pp(t){if(t!=null){try{return jFe.call(t)}catch{}try{return t+""}catch{}}return""}var XFe=/[\\^$.*+?()[\]{}|]/g,qFe=/^\[object .+?Constructor\]$/,YFe=Function.prototype,KFe=Object.prototype,ZFe=YFe.toString,QFe=KFe.hasOwnProperty,JFe=RegExp("^"+ZFe.call(QFe).replace(XFe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eUe(t){if(!Xs(t)||WFe(t))return!1;var e=yO(t)?JFe:qFe;return e.test(pp(t))}function tUe(t,e){return t==null?void 0:t[e]}function mp(t,e){var n=tUe(t,e);return eUe(n)?n:void 0}var nUe=mp(kl,"Map");const X1=nUe;var rUe=mp(Object,"create");const q1=rUe;function iUe(){this.__data__=q1?q1(null):{},this.size=0}function oUe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aUe="__lodash_hash_undefined__",sUe=Object.prototype,lUe=sUe.hasOwnProperty;function cUe(t){var e=this.__data__;if(q1){var n=e[t];return n===aUe?void 0:n}return lUe.call(e,t)?e[t]:void 0}var uUe=Object.prototype,fUe=uUe.hasOwnProperty;function dUe(t){var e=this.__data__;return q1?e[t]!==void 0:fUe.call(e,t)}var hUe="__lodash_hash_undefined__";function pUe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=q1&&e===void 0?hUe:e,this}function tp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tp.prototype.clear=iUe;tp.prototype.delete=oUe;tp.prototype.get=cUe;tp.prototype.has=dUe;tp.prototype.set=pUe;function mUe(){this.size=0,this.__data__={hash:new tp,map:new(X1||Nu),string:new tp}}function gUe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function w2(t,e){var n=t.__data__;return gUe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function vUe(t){var e=w2(this,t).delete(t);return this.size-=e?1:0,e}function yUe(t){return w2(this,t).get(t)}function xUe(t){return w2(this,t).has(t)}function bUe(t,e){var n=w2(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Du(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Du.prototype.clear=mUe;Du.prototype.delete=vUe;Du.prototype.get=yUe;Du.prototype.has=xUe;Du.prototype.set=bUe;var _Ue=200;function wUe(t,e){var n=this.__data__;if(n instanceof Nu){var r=n.__data__;if(!X1||r.length<_Ue-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Du(r)}return n.set(t,e),this.size=n.size,this}function yc(t){var e=this.__data__=new Nu(t);this.size=e.size}yc.prototype.clear=SFe;yc.prototype.delete=MFe;yc.prototype.get=EFe;yc.prototype.has=CFe;yc.prototype.set=wUe;var SUe=function(){try{var t=mp(Object,"defineProperty");return t({},"",{}),t}catch{}}();const aM=SUe;function xO(t,e,n){e=="__proto__"&&aM?aM(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Z3(t,e,n){(n!==void 0&&!Lx(t[e],n)||n===void 0&&!(e in t))&&xO(t,e,n)}function MUe(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var EUe=MUe();const UW=EUe;var zW=typeof es=="object"&&es&&!es.nodeType&&es,r8=zW&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,CUe=r8&&r8.exports===zW,i8=CUe?kl.Buffer:void 0,o8=i8?i8.allocUnsafe:void 0;function TUe(t,e){if(e)return t.slice();var n=t.length,r=o8?o8(n):new t.constructor(n);return t.copy(r),r}var AUe=kl.Uint8Array;const sM=AUe;function RUe(t){var e=new t.constructor(t.byteLength);return new sM(e).set(new sM(t)),e}function PUe(t,e){var n=e?RUe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function IUe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var a8=Object.create,LUe=function(){function t(){}return function(e){if(!Xs(e))return{};if(a8)return a8(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const OUe=LUe;function BW(t,e){return function(n){return t(e(n))}}var kUe=BW(Object.getPrototypeOf,Object);const $W=kUe;var NUe=Object.prototype;function bO(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||NUe;return t===n}function DUe(t){return typeof t.constructor=="function"&&!bO(t)?OUe($W(t)):{}}function nd(t){return t!=null&&typeof t=="object"}var FUe="[object Arguments]";function s8(t){return nd(t)&&hp(t)==FUe}var HW=Object.prototype,UUe=HW.hasOwnProperty,zUe=HW.propertyIsEnumerable,BUe=s8(function(){return arguments}())?s8:function(t){return nd(t)&&UUe.call(t,"callee")&&!zUe.call(t,"callee")};const lM=BUe;var $Ue=Array.isArray;const ls=$Ue;var HUe=9007199254740991;function _O(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=HUe}function I0(t){return t!=null&&_O(t.length)&&!yO(t)}function VUe(t){return nd(t)&&I0(t)}function WUe(){return!1}var VW=typeof es=="object"&&es&&!es.nodeType&&es,l8=VW&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,GUe=l8&&l8.exports===VW,c8=GUe?kl.Buffer:void 0,jUe=c8?c8.isBuffer:void 0,XUe=jUe||WUe;const cM=XUe;var qUe="[object Object]",YUe=Function.prototype,KUe=Object.prototype,WW=YUe.toString,ZUe=KUe.hasOwnProperty,QUe=WW.call(Object);function JUe(t){if(!nd(t)||hp(t)!=qUe)return!1;var e=$W(t);if(e===null)return!0;var n=ZUe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&WW.call(n)==QUe}var e8e="[object Arguments]",t8e="[object Array]",n8e="[object Boolean]",r8e="[object Date]",i8e="[object Error]",o8e="[object Function]",a8e="[object Map]",s8e="[object Number]",l8e="[object Object]",c8e="[object RegExp]",u8e="[object Set]",f8e="[object String]",d8e="[object WeakMap]",h8e="[object ArrayBuffer]",p8e="[object DataView]",m8e="[object Float32Array]",g8e="[object Float64Array]",v8e="[object Int8Array]",y8e="[object Int16Array]",x8e="[object Int32Array]",b8e="[object Uint8Array]",_8e="[object Uint8ClampedArray]",w8e="[object Uint16Array]",S8e="[object Uint32Array]",br={};br[m8e]=br[g8e]=br[v8e]=br[y8e]=br[x8e]=br[b8e]=br[_8e]=br[w8e]=br[S8e]=!0;br[e8e]=br[t8e]=br[h8e]=br[n8e]=br[p8e]=br[r8e]=br[i8e]=br[o8e]=br[a8e]=br[s8e]=br[l8e]=br[c8e]=br[u8e]=br[f8e]=br[d8e]=!1;function M8e(t){return nd(t)&&_O(t.length)&&!!br[hp(t)]}function E8e(t){return function(e){return t(e)}}var GW=typeof es=="object"&&es&&!es.nodeType&&es,Wy=GW&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,C8e=Wy&&Wy.exports===GW,yA=C8e&&DW.process,T8e=function(){try{var t=Wy&&Wy.require&&Wy.require("util").types;return t||yA&&yA.binding&&yA.binding("util")}catch{}}();const u8=T8e;var f8=u8&&u8.isTypedArray,A8e=f8?E8e(f8):M8e;const wO=A8e;function Q3(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var R8e=Object.prototype,P8e=R8e.hasOwnProperty;function I8e(t,e,n){var r=t[e];(!(P8e.call(t,e)&&Lx(r,n))||n===void 0&&!(e in t))&&xO(t,e,n)}function L8e(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;l===void 0&&(l=t[s]),i?xO(n,s,l):I8e(n,s,l)}return n}function O8e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var k8e=9007199254740991,N8e=/^(?:0|[1-9]\d*)$/;function SO(t,e){var n=typeof t;return e=e??k8e,!!e&&(n=="number"||n!="symbol"&&N8e.test(t))&&t>-1&&t%1==0&&t<e}var D8e=Object.prototype,F8e=D8e.hasOwnProperty;function jW(t,e){var n=ls(t),r=!n&&lM(t),i=!n&&!r&&cM(t),o=!n&&!r&&!i&&wO(t),a=n||r||i||o,s=a?O8e(t.length,String):[],l=s.length;for(var c in t)(e||F8e.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||SO(c,l)))&&s.push(c);return s}function U8e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var z8e=Object.prototype,B8e=z8e.hasOwnProperty;function $8e(t){if(!Xs(t))return U8e(t);var e=bO(t),n=[];for(var r in t)r=="constructor"&&(e||!B8e.call(t,r))||n.push(r);return n}function XW(t){return I0(t)?jW(t,!0):$8e(t)}function H8e(t){return L8e(t,XW(t))}function V8e(t,e,n,r,i,o,a){var s=Q3(t,n),l=Q3(e,n),c=a.get(l);if(c){Z3(t,n,c);return}var f=o?o(s,l,n+"",t,e,a):void 0,p=f===void 0;if(p){var m=ls(l),v=!m&&cM(l),x=!m&&!v&&wO(l);f=l,m||v||x?ls(s)?f=s:VUe(s)?f=IUe(s):v?(p=!1,f=TUe(l,!0)):x?(p=!1,f=PUe(l,!0)):f=[]:JUe(l)||lM(l)?(f=s,lM(s)?f=H8e(s):(!Xs(s)||yO(s))&&(f=DUe(l))):p=!1}p&&(a.set(l,f),i(f,l,r,o,a),a.delete(l)),Z3(t,n,f)}function qW(t,e,n,r,i){t!==e&&UW(e,function(o,a){if(i||(i=new yc),Xs(o))V8e(t,e,a,n,qW,r,i);else{var s=r?r(Q3(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),Z3(t,a,s)}},XW)}function S2(t){return t}function W8e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var d8=Math.max;function G8e(t,e,n){return e=d8(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=d8(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),W8e(t,this,s)}}function j8e(t){return function(){return t}}var X8e=aM?function(t,e){return aM(t,"toString",{configurable:!0,enumerable:!1,value:j8e(e),writable:!0})}:S2;const q8e=X8e;var Y8e=800,K8e=16,Z8e=Date.now;function Q8e(t){var e=0,n=0;return function(){var r=Z8e(),i=K8e-(r-n);if(n=r,i>0){if(++e>=Y8e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var J8e=Q8e(q8e);const e6e=J8e;function t6e(t,e){return e6e(G8e(t,e,S2),t+"")}function n6e(t,e,n){if(!Xs(n))return!1;var r=typeof e;return(r=="number"?I0(n)&&SO(e,n.length):r=="string"&&e in n)?Lx(n[e],t):!1}function r6e(t){return t6e(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&n6e(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}var i6e=r6e(function(t,e,n){qW(t,e,n)});const _a=i6e;var Ox=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,a=e.styles,s=a===void 0?{}:a,l=cn(_a({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":n===1});return Z.createElement("div",{style:l.wrap},Z.createElement("div",{style:l.bg}),Z.createElement("div",{style:l.content},o))};Ox.propTypes={background:qe.string,zDepth:qe.oneOf([0,1,2,3,4,5]),radius:qe.number,styles:qe.object};Ox.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var o6e=function(){return kl.Date.now()};const xA=o6e;var a6e=/\s/;function s6e(t){for(var e=t.length;e--&&a6e.test(t.charAt(e)););return e}var l6e=/^\s+/;function c6e(t){return t&&t.slice(0,s6e(t)+1).replace(l6e,"")}var u6e="[object Symbol]";function M2(t){return typeof t=="symbol"||nd(t)&&hp(t)==u6e}var h8=0/0,f6e=/^[-+]0x[0-9a-f]+$/i,d6e=/^0b[01]+$/i,h6e=/^0o[0-7]+$/i,p6e=parseInt;function p8(t){if(typeof t=="number")return t;if(M2(t))return h8;if(Xs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Xs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=c6e(t);var n=d6e.test(t);return n||h6e.test(t)?p6e(t.slice(2),n?2:8):f6e.test(t)?h8:+t}var m6e="Expected a function",g6e=Math.max,v6e=Math.min;function YW(t,e,n){var r,i,o,a,s,l,c=0,f=!1,p=!1,m=!0;if(typeof t!="function")throw new TypeError(m6e);e=p8(e)||0,Xs(n)&&(f=!!n.leading,p="maxWait"in n,o=p?g6e(p8(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m);function v(A){var R=r,U=i;return r=i=void 0,c=A,a=t.apply(U,R),a}function x(A){return c=A,s=setTimeout(y,e),f?v(A):a}function _(A){var R=A-l,U=A-c,O=e-R;return p?v6e(O,o-U):O}function b(A){var R=A-l,U=A-c;return l===void 0||R>=e||R<0||p&&U>=o}function y(){var A=xA();if(b(A))return S(A);s=setTimeout(y,_(A))}function S(A){return s=void 0,m&&r?v(A):(r=i=void 0,a)}function M(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function C(){return s===void 0?a:S(xA())}function P(){var A=xA(),R=b(A);if(r=arguments,i=this,l=A,R){if(s===void 0)return x(l);if(p)return clearTimeout(s),s=setTimeout(y,e),v(l)}return s===void 0&&(s=setTimeout(y,e)),a}return P.cancel=M,P.flush=C,P}var y6e="Expected a function";function x6e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(y6e);return Xs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),YW(t,e,{leading:r,maxWait:e,trailing:i})}var b6e=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,a=i.height,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=s-(r.getBoundingClientRect().left+window.pageXOffset),f=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),f<0?f=0:f>a&&(f=a);var p=c/o,m=1-f/a;return{h:n.h,s:p,v:m,a:n.a,source:"hsv"}},_6e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function w6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S6e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function M6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var E2=function(t){M6e(e,t);function e(n){w6e(this,e);var r=S6e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,b6e(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=x6e(function(i,o,a){i(o,a)},50),r}return _6e(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,a=i.white,s=i.black,l=i.pointer,c=i.circle,f=cn({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:a,black:s,pointer:l,circle:c}},{custom:!!this.props.style});return Z.createElement("div",{style:f.color,ref:function(m){return r.container=m},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Z.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),Z.createElement("div",{style:f.white,className:"saturation-white"},Z.createElement("div",{style:f.black,className:"saturation-black"}),Z.createElement("div",{style:f.pointer},this.props.pointer?Z.createElement(this.props.pointer,this.props):Z.createElement("div",{style:f.circle}))))}}]),e}(F.PureComponent||F.Component);function E6e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var C6e=BW(Object.keys,Object);const T6e=C6e;var A6e=Object.prototype,R6e=A6e.hasOwnProperty;function P6e(t){if(!bO(t))return T6e(t);var e=[];for(var n in Object(t))R6e.call(t,n)&&n!="constructor"&&e.push(n);return e}function MO(t){return I0(t)?jW(t):P6e(t)}function I6e(t,e){return t&&UW(t,e,MO)}function L6e(t,e){return function(n,r){if(n==null)return n;if(!I0(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var O6e=L6e(I6e);const KW=O6e;function k6e(t){return typeof t=="function"?t:S2}function N6e(t,e){var n=ls(t)?E6e:KW;return n(t,k6e(e))}function uM(t){"@babel/helpers - typeof";return uM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uM(t)}var D6e=/^\s+/,F6e=/\s+$/;function kt(t,e){if(t=t||"",e=e||{},t instanceof kt)return t;if(!(this instanceof kt))return new kt(t,e);var n=U6e(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}kt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,a,s;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*a+.0722*s},setAlpha:function(e){return this._a=ZW(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=g8(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=g8(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=m8(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=m8(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return v8(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return H6e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Er(this._r,255)*100)+"%",g:Math.round(Er(this._g,255)*100)+"%",b:Math.round(Er(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Er(this._r,255)*100)+"%, "+Math.round(Er(this._g,255)*100)+"%, "+Math.round(Er(this._b,255)*100)+"%)":"rgba("+Math.round(Er(this._r,255)*100)+"%, "+Math.round(Er(this._g,255)*100)+"%, "+Math.round(Er(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:eze[v8(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+y8(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=kt(e);r="#"+y8(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return kt(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(j6e,arguments)},brighten:function(){return this._applyModification(X6e,arguments)},darken:function(){return this._applyModification(q6e,arguments)},desaturate:function(){return this._applyModification(V6e,arguments)},saturate:function(){return this._applyModification(W6e,arguments)},greyscale:function(){return this._applyModification(G6e,arguments)},spin:function(){return this._applyModification(Y6e,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Q6e,arguments)},complement:function(){return this._applyCombination(K6e,arguments)},monochromatic:function(){return this._applyCombination(J6e,arguments)},splitcomplement:function(){return this._applyCombination(Z6e,arguments)},triad:function(){return this._applyCombination(x8,[3])},tetrad:function(){return this._applyCombination(x8,[4])}};kt.fromRatio=function(t,e){if(uM(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=hy(t[r]));t=n}return kt(t,e)};function U6e(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return typeof t=="string"&&(t=ize(t)),uM(t)=="object"&&(Jc(t.r)&&Jc(t.g)&&Jc(t.b)?(e=z6e(t.r,t.g,t.b),a=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Jc(t.h)&&Jc(t.s)&&Jc(t.v)?(r=hy(t.s),i=hy(t.v),e=$6e(t.h,r,i),a=!0,s="hsv"):Jc(t.h)&&Jc(t.s)&&Jc(t.l)&&(r=hy(t.s),o=hy(t.l),e=B6e(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=ZW(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function z6e(t,e,n){return{r:Er(t,255)*255,g:Er(e,255)*255,b:Er(n,255)*255}}function m8(t,e,n){t=Er(t,255),e=Er(e,255),n=Er(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,a,s=(r+i)/2;if(r==i)o=a=0;else{var l=r-i;switch(a=s>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function B6e(t,e,n){var r,i,o;t=Er(t,360),e=Er(e,100),n=Er(n,100);function a(c,f,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?c+(f-c)*6*p:p<1/2?f:p<2/3?c+(f-c)*(2/3-p)*6:c}if(e===0)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function g8(t,e,n){t=Er(t,255),e=Er(e,255),n=Er(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,a,s=r,l=r-i;if(a=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,v:s}}function $6e(t,e,n){t=Er(t,360)*6,e=Er(e,100),n=Er(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,c=[n,a,o,o,s,n][l],f=[s,n,n,a,o,o][l],p=[o,o,s,n,n,a][l];return{r:c*255,g:f*255,b:p*255}}function v8(t,e,n,r){var i=[Ml(Math.round(t).toString(16)),Ml(Math.round(e).toString(16)),Ml(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function H6e(t,e,n,r,i){var o=[Ml(Math.round(t).toString(16)),Ml(Math.round(e).toString(16)),Ml(Math.round(n).toString(16)),Ml(QW(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function y8(t,e,n,r){var i=[Ml(QW(r)),Ml(Math.round(t).toString(16)),Ml(Math.round(e).toString(16)),Ml(Math.round(n).toString(16))];return i.join("")}kt.equals=function(t,e){return!t||!e?!1:kt(t).toRgbString()==kt(e).toRgbString()};kt.random=function(){return kt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function V6e(t,e){e=e===0?0:e||10;var n=kt(t).toHsl();return n.s-=e/100,n.s=C2(n.s),kt(n)}function W6e(t,e){e=e===0?0:e||10;var n=kt(t).toHsl();return n.s+=e/100,n.s=C2(n.s),kt(n)}function G6e(t){return kt(t).desaturate(100)}function j6e(t,e){e=e===0?0:e||10;var n=kt(t).toHsl();return n.l+=e/100,n.l=C2(n.l),kt(n)}function X6e(t,e){e=e===0?0:e||10;var n=kt(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),kt(n)}function q6e(t,e){e=e===0?0:e||10;var n=kt(t).toHsl();return n.l-=e/100,n.l=C2(n.l),kt(n)}function Y6e(t,e){var n=kt(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,kt(n)}function K6e(t){var e=kt(t).toHsl();return e.h=(e.h+180)%360,kt(e)}function x8(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=kt(t).toHsl(),r=[kt(t)],i=360/e,o=1;o<e;o++)r.push(kt({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function Z6e(t){var e=kt(t).toHsl(),n=e.h;return[kt(t),kt({h:(n+72)%360,s:e.s,l:e.l}),kt({h:(n+216)%360,s:e.s,l:e.l})]}function Q6e(t,e,n){e=e||6,n=n||30;var r=kt(t).toHsl(),i=360/n,o=[kt(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(kt(r));return o}function J6e(t,e){e=e||6;for(var n=kt(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(kt({h:r,s:i,v:o})),o=(o+s)%1;return a}kt.mix=function(t,e,n){n=n===0?0:n||50;var r=kt(t).toRgb(),i=kt(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return kt(a)};kt.readability=function(t,e){var n=kt(t),r=kt(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};kt.isReadable=function(t,e,n){var r=kt.readability(t,e),i,o;switch(o=!1,i=oze(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};kt.mostReadable=function(t,e,n){var r=null,i=0,o,a,s,l;n=n||{},a=n.includeFallbackColors,s=n.level,l=n.size;for(var c=0;c<e.length;c++)o=kt.readability(t,e[c]),o>i&&(i=o,r=kt(e[c]));return kt.isReadable(t,r,{level:s,size:l})||!a?r:(n.includeFallbackColors=!1,kt.mostReadable(t,["#fff","#000"],n))};var J3=kt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},eze=kt.hexNames=tze(J3);function tze(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ZW(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Er(t,e){nze(t)&&(t="100%");var n=rze(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function C2(t){return Math.min(1,Math.max(0,t))}function Wa(t){return parseInt(t,16)}function nze(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function rze(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Ml(t){return t.length==1?"0"+t:""+t}function hy(t){return t<=1&&(t=t*100+"%"),t}function QW(t){return Math.round(parseFloat(t)*255).toString(16)}function b8(t){return Wa(t)/255}var dl=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Jc(t){return!!dl.CSS_UNIT.exec(t)}function ize(t){t=t.replace(D6e,"").replace(F6e,"").toLowerCase();var e=!1;if(J3[t])t=J3[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=dl.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=dl.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=dl.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=dl.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=dl.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=dl.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=dl.hex8.exec(t))?{r:Wa(n[1]),g:Wa(n[2]),b:Wa(n[3]),a:b8(n[4]),format:e?"name":"hex8"}:(n=dl.hex6.exec(t))?{r:Wa(n[1]),g:Wa(n[2]),b:Wa(n[3]),format:e?"name":"hex"}:(n=dl.hex4.exec(t))?{r:Wa(n[1]+""+n[1]),g:Wa(n[2]+""+n[2]),b:Wa(n[3]+""+n[3]),a:b8(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=dl.hex3.exec(t))?{r:Wa(n[1]+""+n[1]),g:Wa(n[2]+""+n[2]),b:Wa(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function oze(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var _8=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return N6e(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var a=/^\d+%$/;a.test(e[o])&&(i+=1)}}),r===i?e:!1},py=function(e,n){var r=e.hex?kt(e.hex):kt(e),i=r.toHsl(),o=r.toHsv(),a=r.toRgb(),s=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=s==="000000"&&a.a===0;return{hsl:i,hex:l?"transparent":"#"+s,rgb:a,hsv:o,oldHue:e.h||n||i.h,source:e.source}},md=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&kt(e).isValid()},EO=function(e){if(!e)return"#fff";var n=py(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},bA=function(e,n){var r=e.replace("","");return kt(n+" ("+r+")")._ok},ty=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aze=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function sze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lze(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wa=function(e){var n=function(r){cze(i,r);function i(o){sze(this,i);var a=lze(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return a.handleChange=function(s,l){var c=_8(s);if(c){var f=py(s,s.h||a.state.oldHue);a.setState(f),a.props.onChangeComplete&&a.debounce(a.props.onChangeComplete,f,l),a.props.onChange&&a.props.onChange(f,l)}},a.handleSwatchHover=function(s,l){var c=_8(s);if(c){var f=py(s,s.h||a.state.oldHue);a.props.onSwatchHover&&a.props.onSwatchHover(f,l)}},a.state=ty({},py(o.color,0)),a.debounce=YW(function(s,l,c){s(l,c)},100),a}return aze(i,[{key:"render",value:function(){var a={};return this.props.onSwatchHover&&(a.onSwatchHover=this.handleSwatchHover),Z.createElement(e,ty({},this.props,this.state,{onChange:this.handleChange},a))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return ty({},py(a.color,s.oldHue))}}]),i}(F.PureComponent||F.Component);return n.propTypes=ty({},e.propTypes),n.defaultProps=ty({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},uze=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fze=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function dze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pze=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){hze(i,r);function i(){var o,a,s,l;dze(this,i);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return l=(a=(s=w8(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(f))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},a),w8(s,l)}return fze(i,[{key:"render",value:function(){return Z.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},Z.createElement(e,uze({},this.props,this.state)))}}]),i}(Z.Component)},S8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mze=13,gze=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,a=e.onHover,s=e.title,l=s===void 0?n:s,c=e.children,f=e.focus,p=e.focusStyle,m=p===void 0?{}:p,v=n==="transparent",x=cn({default:{swatch:S8({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,f?m:{})}}),_=function(C){return o(n,C)},b=function(C){return C.keyCode===mze&&o(n,C)},y=function(C){return a(n,C)},S={};return a&&(S.onMouseOver=y),Z.createElement("div",S8({style:x.swatch,onClick:_,title:l,tabIndex:0,onKeyDown:b},S),c,v&&Z.createElement(R0,{borderRadius:x.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const gp=pze(gze);var vze=function(e){var n=e.direction,r=cn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return Z.createElement("div",{style:r.picker})},yze=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JW=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,a=e.onChange,s=e.direction,l=e.style,c=e.renderers,f=e.pointer,p=e.className,m=p===void 0?"":p,v=cn({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return Z.createElement("div",{style:v.picker,className:"alpha-picker "+m},Z.createElement(vO,yze({},v.alpha,{rgb:n,hsl:r,pointer:f,renderers:c,onChange:a,direction:s})))};JW.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:vze};wa(JW);function eG(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var xze="__lodash_hash_undefined__";function bze(t){return this.__data__.set(t,xze),this}function _ze(t){return this.__data__.has(t)}function fM(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Du;++e<n;)this.add(t[e])}fM.prototype.add=fM.prototype.push=bze;fM.prototype.has=_ze;function wze(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Sze(t,e){return t.has(e)}var Mze=1,Eze=2;function tG(t,e,n,r,i,o){var a=n&Mze,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),f=o.get(e);if(c&&f)return c==e&&f==t;var p=-1,m=!0,v=n&Eze?new fM:void 0;for(o.set(t,e),o.set(e,t);++p<s;){var x=t[p],_=e[p];if(r)var b=a?r(_,x,p,e,t,o):r(x,_,p,t,e,o);if(b!==void 0){if(b)continue;m=!1;break}if(v){if(!wze(e,function(y,S){if(!Sze(v,S)&&(x===y||i(x,y,n,r,o)))return v.push(S)})){m=!1;break}}else if(!(x===_||i(x,_,n,r,o))){m=!1;break}}return o.delete(t),o.delete(e),m}function Cze(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function Tze(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Aze=1,Rze=2,Pze="[object Boolean]",Ize="[object Date]",Lze="[object Error]",Oze="[object Map]",kze="[object Number]",Nze="[object RegExp]",Dze="[object Set]",Fze="[object String]",Uze="[object Symbol]",zze="[object ArrayBuffer]",Bze="[object DataView]",M8=td?td.prototype:void 0,_A=M8?M8.valueOf:void 0;function $ze(t,e,n,r,i,o,a){switch(n){case Bze:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case zze:return!(t.byteLength!=e.byteLength||!o(new sM(t),new sM(e)));case Pze:case Ize:case kze:return Lx(+t,+e);case Lze:return t.name==e.name&&t.message==e.message;case Nze:case Fze:return t==e+"";case Oze:var s=Cze;case Dze:var l=r&Aze;if(s||(s=Tze),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=Rze,a.set(t,e);var f=tG(s(t),s(e),r,i,o,a);return a.delete(t),f;case Uze:if(_A)return _A.call(t)==_A.call(e)}return!1}function Hze(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Vze(t,e,n){var r=e(t);return ls(t)?r:Hze(r,n(t))}function Wze(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Gze(){return[]}var jze=Object.prototype,Xze=jze.propertyIsEnumerable,E8=Object.getOwnPropertySymbols,qze=E8?function(t){return t==null?[]:(t=Object(t),Wze(E8(t),function(e){return Xze.call(t,e)}))}:Gze;const Yze=qze;function C8(t){return Vze(t,MO,Yze)}var Kze=1,Zze=Object.prototype,Qze=Zze.hasOwnProperty;function Jze(t,e,n,r,i,o){var a=n&Kze,s=C8(t),l=s.length,c=C8(e),f=c.length;if(l!=f&&!a)return!1;for(var p=l;p--;){var m=s[p];if(!(a?m in e:Qze.call(e,m)))return!1}var v=o.get(t),x=o.get(e);if(v&&x)return v==e&&x==t;var _=!0;o.set(t,e),o.set(e,t);for(var b=a;++p<l;){m=s[p];var y=t[m],S=e[m];if(r)var M=a?r(S,y,m,e,t,o):r(y,S,m,t,e,o);if(!(M===void 0?y===S||i(y,S,n,r,o):M)){_=!1;break}b||(b=m=="constructor")}if(_&&!b){var C=t.constructor,P=e.constructor;C!=P&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof P=="function"&&P instanceof P)&&(_=!1)}return o.delete(t),o.delete(e),_}var eBe=mp(kl,"DataView");const eP=eBe;var tBe=mp(kl,"Promise");const tP=tBe;var nBe=mp(kl,"Set");const nP=nBe;var rBe=mp(kl,"WeakMap");const rP=rBe;var T8="[object Map]",iBe="[object Object]",A8="[object Promise]",R8="[object Set]",P8="[object WeakMap]",I8="[object DataView]",oBe=pp(eP),aBe=pp(X1),sBe=pp(tP),lBe=pp(nP),cBe=pp(rP),hh=hp;(eP&&hh(new eP(new ArrayBuffer(1)))!=I8||X1&&hh(new X1)!=T8||tP&&hh(tP.resolve())!=A8||nP&&hh(new nP)!=R8||rP&&hh(new rP)!=P8)&&(hh=function(t){var e=hp(t),n=e==iBe?t.constructor:void 0,r=n?pp(n):"";if(r)switch(r){case oBe:return I8;case aBe:return T8;case sBe:return A8;case lBe:return R8;case cBe:return P8}return e});const L8=hh;var uBe=1,O8="[object Arguments]",k8="[object Array]",_w="[object Object]",fBe=Object.prototype,N8=fBe.hasOwnProperty;function dBe(t,e,n,r,i,o){var a=ls(t),s=ls(e),l=a?k8:L8(t),c=s?k8:L8(e);l=l==O8?_w:l,c=c==O8?_w:c;var f=l==_w,p=c==_w,m=l==c;if(m&&cM(t)){if(!cM(e))return!1;a=!0,f=!1}if(m&&!f)return o||(o=new yc),a||wO(t)?tG(t,e,n,r,i,o):$ze(t,e,l,n,r,i,o);if(!(n&uBe)){var v=f&&N8.call(t,"__wrapped__"),x=p&&N8.call(e,"__wrapped__");if(v||x){var _=v?t.value():t,b=x?e.value():e;return o||(o=new yc),i(_,b,n,r,o)}}return m?(o||(o=new yc),Jze(t,e,n,r,i,o)):!1}function CO(t,e,n,r,i){return t===e?!0:t==null||e==null||!nd(t)&&!nd(e)?t!==t&&e!==e:dBe(t,e,n,r,CO,i)}var hBe=1,pBe=2;function mBe(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],f=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var p=new yc;if(r)var m=r(c,f,l,t,e,p);if(!(m===void 0?CO(f,c,hBe|pBe,r,p):m))return!1}}return!0}function nG(t){return t===t&&!Xs(t)}function gBe(t){for(var e=MO(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,nG(i)]}return e}function rG(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function vBe(t){var e=gBe(t);return e.length==1&&e[0][2]?rG(e[0][0],e[0][1]):function(n){return n===t||mBe(n,t,e)}}var yBe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xBe=/^\w*$/;function TO(t,e){if(ls(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||M2(t)?!0:xBe.test(t)||!yBe.test(t)||e!=null&&t in Object(e)}var bBe="Expected a function";function AO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(bBe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(AO.Cache||Du),n}AO.Cache=Du;var _Be=500;function wBe(t){var e=AO(t,function(r){return n.size===_Be&&n.clear(),r}),n=e.cache;return e}var SBe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,MBe=/\\(\\)?/g,EBe=wBe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(SBe,function(n,r,i,o){e.push(i?o.replace(MBe,"$1"):r||n)}),e});const CBe=EBe;var TBe=1/0,D8=td?td.prototype:void 0,F8=D8?D8.toString:void 0;function iG(t){if(typeof t=="string")return t;if(ls(t))return eG(t,iG)+"";if(M2(t))return F8?F8.call(t):"";var e=t+"";return e=="0"&&1/t==-TBe?"-0":e}function ABe(t){return t==null?"":iG(t)}function oG(t,e){return ls(t)?t:TO(t,e)?[t]:CBe(ABe(t))}var RBe=1/0;function T2(t){if(typeof t=="string"||M2(t))return t;var e=t+"";return e=="0"&&1/t==-RBe?"-0":e}function aG(t,e){e=oG(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[T2(e[n++])];return n&&n==r?t:void 0}function PBe(t,e,n){var r=t==null?void 0:aG(t,e);return r===void 0?n:r}function IBe(t,e){return t!=null&&e in Object(t)}function LBe(t,e,n){e=oG(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=T2(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&_O(i)&&SO(a,i)&&(ls(t)||lM(t)))}function OBe(t,e){return t!=null&&LBe(t,e,IBe)}var kBe=1,NBe=2;function DBe(t,e){return TO(t)&&nG(e)?rG(T2(t),e):function(n){var r=PBe(n,t);return r===void 0&&r===e?OBe(n,t):CO(e,r,kBe|NBe)}}function FBe(t){return function(e){return e==null?void 0:e[t]}}function UBe(t){return function(e){return aG(e,t)}}function zBe(t){return TO(t)?FBe(T2(t)):UBe(t)}function BBe(t){return typeof t=="function"?t:t==null?S2:typeof t=="object"?ls(t)?DBe(t[0],t[1]):vBe(t):zBe(t)}function $Be(t,e){var n=-1,r=I0(t)?Array(t.length):[];return KW(t,function(i,o,a){r[++n]=e(i,o,a)}),r}function vp(t,e){var n=ls(t)?eG:$Be;return n(t,BBe(e))}var HBe=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=cn({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return Z.createElement("div",{style:o.swatches},vp(n,function(a){return Z.createElement(gp,{key:a,color:a,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+a}})}),Z.createElement("div",{style:o.clear}))},RO=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,a=e.width,s=e.triangle,l=e.styles,c=l===void 0?{}:l,f=e.className,p=f===void 0?"":f,m=i==="transparent",v=function(b,y){md(b)&&n({hex:b,source:"hex"},y)},x=cn(_a({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:EO(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":s==="hide"});return Z.createElement("div",{style:x.card,className:"block-picker "+p},Z.createElement("div",{style:x.triangle}),Z.createElement("div",{style:x.head},m&&Z.createElement(R0,{borderRadius:"6px 6px 0 0"}),Z.createElement("div",{style:x.label},i)),Z.createElement("div",{style:x.body},Z.createElement(HBe,{colors:o,onClick:v,onSwatchHover:r}),Z.createElement(Nn,{style:{input:x.input},value:i,onChange:v})))};RO.propTypes={width:qe.oneOfType([qe.string,qe.number]),colors:qe.arrayOf(qe.string),triangle:qe.oneOf(["top","hide"]),styles:qe.object};RO.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};wa(RO);var Bm={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},$m={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Hm={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Vm={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Wm={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Gm={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},jm={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Xm={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},qm={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},my={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Ym={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Km={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Zm={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Qm={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Jm={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},eg={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},tg={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},ng={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},sG=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,a=e.active,s=e.circleSize,l=e.circleSpacing,c=cn({default:{swatch:{width:s,height:s,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:a});return Z.createElement("div",{style:c.swatch},Z.createElement(gp,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};sG.defaultProps={circleSize:28,circleSpacing:14};const VBe=gO(sG);var PO=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,a=e.hex,s=e.circleSize,l=e.styles,c=l===void 0?{}:l,f=e.circleSpacing,p=e.className,m=p===void 0?"":p,v=cn(_a({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-f,marginBottom:-f}}},c)),x=function(b,y){return r({hex:b,source:"hex"},y)};return Z.createElement("div",{style:v.card,className:"circle-picker "+m},vp(o,function(_){return Z.createElement(VBe,{key:_,color:_,onClick:x,onSwatchHover:i,active:a===_.toLowerCase(),circleSize:s,circleSpacing:f})}))};PO.propTypes={width:qe.oneOfType([qe.string,qe.number]),circleSize:qe.number,circleSpacing:qe.number,styles:qe.object};PO.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Bm[500],$m[500],Hm[500],Vm[500],Wm[500],Gm[500],jm[500],Xm[500],qm[500],my[500],Ym[500],Km[500],Zm[500],Qm[500],Jm[500],eg[500],tg[500],ng[500]],styles:{}};wa(PO);function U8(t){return t===void 0}var lG={};Object.defineProperty(lG,"__esModule",{value:!0});var z8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WBe=F,B8=GBe(WBe);function GBe(t){return t&&t.__esModule?t:{default:t}}function jBe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var ww=24,XBe=lG.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?ww:r,o=t.height,a=o===void 0?ww:o,s=t.style,l=s===void 0?{}:s,c=jBe(t,["fill","width","height","style"]);return B8.default.createElement("svg",z8({viewBox:"0 0 "+ww+" "+ww,style:z8({fill:n,width:i,height:a},l)},c),B8.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},qBe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function YBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KBe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ZBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cG=function(t){ZBe(e,t);function e(n){YBe(this,e);var r=KBe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?md(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(U8(i.s)?r.props.hsl.s:i.s),l:Number(U8(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return qBe(e,[{key:"render",value:function(){var r=this,i=cn({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=Z.createElement("div",{style:i.fields,className:"flexbox-fix"},Z.createElement("div",{style:i.field},Z.createElement(Nn,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=Z.createElement("div",{style:i.fields,className:"flexbox-fix"},Z.createElement("div",{style:i.field},Z.createElement(Nn,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),Z.createElement("div",{style:i.field},Z.createElement(Nn,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),Z.createElement("div",{style:i.field},Z.createElement(Nn,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),Z.createElement("div",{style:i.alpha},Z.createElement(Nn,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=Z.createElement("div",{style:i.fields,className:"flexbox-fix"},Z.createElement("div",{style:i.field},Z.createElement(Nn,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),Z.createElement("div",{style:i.field},Z.createElement(Nn,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),Z.createElement("div",{style:i.field},Z.createElement(Nn,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),Z.createElement("div",{style:i.alpha},Z.createElement(Nn,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),Z.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,Z.createElement("div",{style:i.toggle},Z.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(s){return r.icon=s}},Z.createElement(XBe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(Z.Component);cG.defaultProps={view:"hex"};var $8=function(){var e=cn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return Z.createElement("div",{style:e.picker})},QBe=function(){var e=cn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return Z.createElement("div",{style:e.picker})},IO=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,a=e.hsl,s=e.hsv,l=e.hex,c=e.renderers,f=e.styles,p=f===void 0?{}:f,m=e.className,v=m===void 0?"":m,x=e.defaultView,_=cn(_a({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},p),{disableAlpha:i});return Z.createElement("div",{style:_.picker,className:"chrome-picker "+v},Z.createElement("div",{style:_.saturation},Z.createElement(E2,{style:_.Saturation,hsl:a,hsv:s,pointer:QBe,onChange:r})),Z.createElement("div",{style:_.body},Z.createElement("div",{style:_.controls,className:"flexbox-fix"},Z.createElement("div",{style:_.color},Z.createElement("div",{style:_.swatch},Z.createElement("div",{style:_.active}),Z.createElement(R0,{renderers:c}))),Z.createElement("div",{style:_.toggles},Z.createElement("div",{style:_.hue},Z.createElement(P0,{style:_.Hue,hsl:a,pointer:$8,onChange:r})),Z.createElement("div",{style:_.alpha},Z.createElement(vO,{style:_.Alpha,rgb:o,hsl:a,pointer:$8,renderers:c,onChange:r})))),Z.createElement(cG,{rgb:o,hsl:a,hex:l,view:x,onChange:r,disableAlpha:i})))};IO.propTypes={width:qe.oneOfType([qe.string,qe.number]),disableAlpha:qe.bool,styles:qe.object,defaultView:qe.oneOf(["hex","rgb","hsl"])};IO.defaultProps={width:225,disableAlpha:!1,styles:{}};wa(IO);var JBe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,a=e.active,s=cn({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:EO(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:a,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return Z.createElement(gp,{style:s.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},Z.createElement("div",{style:s.dot}))},e$e=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=cn({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return Z.createElement("div",{style:o.fields,className:"flexbox-fix"},Z.createElement("div",{style:o.active}),Z.createElement(Nn,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:a}),Z.createElement(Nn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),Z.createElement(Nn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),Z.createElement(Nn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}))},LO=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,a=e.rgb,s=e.styles,l=s===void 0?{}:s,c=e.className,f=c===void 0?"":c,p=cn(_a({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),m=function(x,_){x.hex?md(x.hex)&&n({hex:x.hex,source:"hex"},_):n(x,_)};return Z.createElement(Ox,{style:p.Compact,styles:l},Z.createElement("div",{style:p.compact,className:"compact-picker "+f},Z.createElement("div",null,vp(i,function(v){return Z.createElement(JBe,{key:v,color:v,active:v.toLowerCase()===o,onClick:m,onSwatchHover:r})}),Z.createElement("div",{style:p.clear})),Z.createElement(e$e,{hex:o,rgb:a,onChange:m})))};LO.propTypes={colors:qe.arrayOf(qe.string),styles:qe.object};LO.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};wa(LO);var t$e=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=cn({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:n});return Z.createElement("div",{style:s.swatch},Z.createElement(gp,{color:r,onClick:i,onHover:o,focusStyle:a}))};const n$e=gO(t$e);var OO=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,a=e.triangle,s=e.styles,l=s===void 0?{}:s,c=e.className,f=c===void 0?"":c,p=cn(_a({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right","bottom-left-triangle":a==="bottom-left","bottom-right-triangle":a==="bottom-right"}),m=function(x,_){return i({hex:x,source:"hex"},_)};return Z.createElement("div",{style:p.card,className:"github-picker "+f},Z.createElement("div",{style:p.triangleShadow}),Z.createElement("div",{style:p.triangle}),vp(r,function(v){return Z.createElement(n$e,{color:v,key:v,onClick:m,onSwatchHover:o})}))};OO.propTypes={width:qe.oneOfType([qe.string,qe.number]),colors:qe.arrayOf(qe.string),triangle:qe.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:qe.object};OO.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};wa(OO);var r$e=function(e){var n=e.direction,r=cn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return Z.createElement("div",{style:r.picker})},i$e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kO=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,a=e.direction,s=e.pointer,l=e.styles,c=l===void 0?{}:l,f=e.className,p=f===void 0?"":f,m=cn(_a({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),v=function(_){return i({a:1,h:_.h,l:.5,s:1})};return Z.createElement("div",{style:m.picker,className:"hue-picker "+p},Z.createElement(P0,i$e({},m.hue,{hsl:o,pointer:s,onChange:v,direction:a})))};kO.propTypes={styles:qe.object};kO.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:r$e,styles:{}};wa(kO);var o$e=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,a=o===void 0?{}:o,s=e.className,l=s===void 0?"":s,c=cn(_a({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},a)),f=function(m,v){m.hex?md(m.hex)&&n({hex:m.hex,source:"hex"},v):(m.r||m.g||m.b)&&n({r:m.r||i.r,g:m.g||i.g,b:m.b||i.b,source:"rgb"},v)};return Z.createElement(Ox,{styles:a},Z.createElement("div",{style:c.material,className:"material-picker "+l},Z.createElement(Nn,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:f}),Z.createElement("div",{style:c.split,className:"flexbox-fix"},Z.createElement("div",{style:c.third},Z.createElement(Nn,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:f})),Z.createElement("div",{style:c.third},Z.createElement(Nn,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:f})),Z.createElement("div",{style:c.third},Z.createElement(Nn,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:f})))))};wa(o$e);var a$e=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,a=cn({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(c,f){c["#"]?md(c["#"])&&n({hex:c["#"],source:"hex"},f):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},f):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},f)};return Z.createElement("div",{style:a.fields},Z.createElement(Nn,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(i.h),onChange:s}),Z.createElement(Nn,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:s}),Z.createElement(Nn,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:s}),Z.createElement("div",{style:a.divider}),Z.createElement(Nn,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:r.r,onChange:s}),Z.createElement(Nn,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:r.g,onChange:s}),Z.createElement(Nn,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:r.b,onChange:s}),Z.createElement("div",{style:a.divider}),Z.createElement(Nn,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:o.replace("#",""),onChange:s}),Z.createElement("div",{style:a.fieldSymbols},Z.createElement("div",{style:a.symbol},""),Z.createElement("div",{style:a.symbol},"%"),Z.createElement("div",{style:a.symbol},"%")))},s$e=function(e){var n=e.hsl,r=cn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return Z.createElement("div",{style:r.picker})},l$e=function(){var e=cn({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return Z.createElement("div",{style:e.pointer},Z.createElement("div",{style:e.left},Z.createElement("div",{style:e.leftInside})),Z.createElement("div",{style:e.right},Z.createElement("div",{style:e.rightInside})))},H8=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,a=cn({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return Z.createElement("div",{style:a.button,onClick:n},r||i)},c$e=function(e){var n=e.rgb,r=e.currentColor,i=cn({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return Z.createElement("div",null,Z.createElement("div",{style:i.label},"new"),Z.createElement("div",{style:i.swatches},Z.createElement("div",{style:i.new}),Z.createElement("div",{style:i.current})),Z.createElement("div",{style:i.label},"current"))},u$e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function f$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d$e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function h$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var NO=function(t){h$e(e,t);function e(n){f$e(this,e);var r=d$e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return u$e(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,a=r.className,s=a===void 0?"":a,l=cn(_a({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return Z.createElement("div",{style:l.picker,className:"photoshop-picker "+s},Z.createElement("div",{style:l.head},this.props.header),Z.createElement("div",{style:l.body,className:"flexbox-fix"},Z.createElement("div",{style:l.saturation},Z.createElement(E2,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:s$e,onChange:this.props.onChange})),Z.createElement("div",{style:l.hue},Z.createElement(P0,{direction:"vertical",hsl:this.props.hsl,pointer:l$e,onChange:this.props.onChange})),Z.createElement("div",{style:l.controls},Z.createElement("div",{style:l.top,className:"flexbox-fix"},Z.createElement("div",{style:l.previews},Z.createElement(c$e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),Z.createElement("div",{style:l.actions},Z.createElement(H8,{label:"OK",onClick:this.props.onAccept,active:!0}),Z.createElement(H8,{label:"Cancel",onClick:this.props.onCancel}),Z.createElement(a$e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(Z.Component);NO.propTypes={header:qe.string,styles:qe.object};NO.defaultProps={header:"Color Picker",styles:{}};wa(NO);var p$e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,a=e.disableAlpha,s=cn({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),l=function(f,p){f.hex?md(f.hex)&&n({hex:f.hex,source:"hex"},p):f.r||f.g||f.b?n({r:f.r||r.r,g:f.g||r.g,b:f.b||r.b,a:r.a,source:"rgb"},p):f.a&&(f.a<0?f.a=0:f.a>100&&(f.a=100),f.a/=100,n({h:i.h,s:i.s,l:i.l,a:f.a,source:"rgb"},p))};return Z.createElement("div",{style:s.fields,className:"flexbox-fix"},Z.createElement("div",{style:s.double},Z.createElement(Nn,{style:{input:s.input,label:s.label},label:"hex",value:o.replace("#",""),onChange:l})),Z.createElement("div",{style:s.single},Z.createElement(Nn,{style:{input:s.input,label:s.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),Z.createElement("div",{style:s.single},Z.createElement(Nn,{style:{input:s.input,label:s.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),Z.createElement("div",{style:s.single},Z.createElement(Nn,{style:{input:s.input,label:s.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),Z.createElement("div",{style:s.alpha},Z.createElement(Nn,{style:{input:s.input,label:s.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},m$e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uG=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,a=cn({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),s=function(c,f){i({hex:c,source:"hex"},f)};return Z.createElement("div",{style:a.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,f=""+c.color+(c.title||"");return Z.createElement("div",{key:f,style:a.swatchWrap},Z.createElement(gp,m$e({},c,{style:a.swatch,onClick:s,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};uG.propTypes={colors:qe.arrayOf(qe.oneOfType([qe.string,qe.shape({color:qe.string,title:qe.string})])).isRequired};var g$e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DO=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,a=e.hsl,s=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,f=e.presetColors,p=e.renderers,m=e.styles,v=m===void 0?{}:m,x=e.className,_=x===void 0?"":x,b=cn(_a({default:g$e({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},v),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},v),{disableAlpha:c});return Z.createElement("div",{style:b.picker,className:"sketch-picker "+_},Z.createElement("div",{style:b.saturation},Z.createElement(E2,{style:b.Saturation,hsl:a,hsv:o,onChange:s})),Z.createElement("div",{style:b.controls,className:"flexbox-fix"},Z.createElement("div",{style:b.sliders},Z.createElement("div",{style:b.hue},Z.createElement(P0,{style:b.Hue,hsl:a,onChange:s})),Z.createElement("div",{style:b.alpha},Z.createElement(vO,{style:b.Alpha,rgb:r,hsl:a,renderers:p,onChange:s}))),Z.createElement("div",{style:b.color},Z.createElement(R0,null),Z.createElement("div",{style:b.activeColor}))),Z.createElement(p$e,{rgb:r,hsl:a,hex:i,onChange:s,disableAlpha:c}),Z.createElement(uG,{colors:f,onClick:s,onSwatchHover:l}))};DO.propTypes={disableAlpha:qe.bool,width:qe.oneOfType([qe.string,qe.number]),styles:qe.object};DO.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const v$e=wa(DO);var ny=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,a=e.active,s=e.first,l=e.last,c=cn({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:s,last:l}),f=function(m){return o({h:n.h,s:.5,l:r,source:"hsl"},m)};return Z.createElement("div",{style:c.swatch,onClick:f})},y$e=function(e){var n=e.onClick,r=e.hsl,i=cn({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return Z.createElement("div",{style:i.swatches},Z.createElement("div",{style:i.swatch},Z.createElement(ny,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),Z.createElement("div",{style:i.swatch},Z.createElement(ny,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),Z.createElement("div",{style:i.swatch},Z.createElement(ny,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),Z.createElement("div",{style:i.swatch},Z.createElement(ny,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),Z.createElement("div",{style:i.swatch},Z.createElement(ny,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),Z.createElement("div",{style:i.clear}))},x$e=function(){var e=cn({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return Z.createElement("div",{style:e.picker})},FO=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,a=o===void 0?{}:o,s=e.className,l=s===void 0?"":s,c=cn(_a({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},a));return Z.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},Z.createElement("div",{style:c.hue},Z.createElement(P0,{style:c.Hue,hsl:n,pointer:i,onChange:r})),Z.createElement("div",{style:c.swatches},Z.createElement(y$e,{hsl:n,onClick:r})))};FO.propTypes={styles:qe.object};FO.defaultProps={pointer:x$e,styles:{}};wa(FO);var fG={};Object.defineProperty(fG,"__esModule",{value:!0});var V8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b$e=F,W8=_$e(b$e);function _$e(t){return t&&t.__esModule?t:{default:t}}function w$e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Sw=24,S$e=fG.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Sw:r,o=t.height,a=o===void 0?Sw:o,s=t.style,l=s===void 0?{}:s,c=w$e(t,["fill","width","height","style"]);return W8.default.createElement("svg",V8({viewBox:"0 0 "+Sw+" "+Sw,style:V8({fill:n,width:i,height:a},l)},c),W8.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},M$e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,a=e.first,s=e.last,l=e.active,c=cn({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:EO(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:a,last:s,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return Z.createElement(gp,{color:n,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},Z.createElement("div",{style:c.check},Z.createElement(S$e,null)))},E$e=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,a=cn({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return Z.createElement("div",{style:a.group},vp(i,function(s,l){return Z.createElement(M$e,{key:s,color:s,active:s.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},UO=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,a=e.colors,s=e.hex,l=e.styles,c=l===void 0?{}:l,f=e.className,p=f===void 0?"":f,m=cn(_a({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),v=function(_,b){return i({hex:_,source:"hex"},b)};return Z.createElement("div",{style:m.picker,className:"swatches-picker "+p},Z.createElement(Ox,null,Z.createElement("div",{style:m.overflow},Z.createElement("div",{style:m.body},vp(a,function(x){return Z.createElement(E$e,{key:x.toString(),group:x,active:s,onClick:v,onSwatchHover:o})}),Z.createElement("div",{style:m.clear})))))};UO.propTypes={width:qe.oneOfType([qe.string,qe.number]),height:qe.oneOfType([qe.string,qe.number]),colors:qe.arrayOf(qe.arrayOf(qe.string)),styles:qe.object};UO.defaultProps={width:320,height:240,colors:[[Bm[900],Bm[700],Bm[500],Bm[300],Bm[100]],[$m[900],$m[700],$m[500],$m[300],$m[100]],[Hm[900],Hm[700],Hm[500],Hm[300],Hm[100]],[Vm[900],Vm[700],Vm[500],Vm[300],Vm[100]],[Wm[900],Wm[700],Wm[500],Wm[300],Wm[100]],[Gm[900],Gm[700],Gm[500],Gm[300],Gm[100]],[jm[900],jm[700],jm[500],jm[300],jm[100]],[Xm[900],Xm[700],Xm[500],Xm[300],Xm[100]],[qm[900],qm[700],qm[500],qm[300],qm[100]],["#194D33",my[700],my[500],my[300],my[100]],[Ym[900],Ym[700],Ym[500],Ym[300],Ym[100]],[Km[900],Km[700],Km[500],Km[300],Km[100]],[Zm[900],Zm[700],Zm[500],Zm[300],Zm[100]],[Qm[900],Qm[700],Qm[500],Qm[300],Qm[100]],[Jm[900],Jm[700],Jm[500],Jm[300],Jm[100]],[eg[900],eg[700],eg[500],eg[300],eg[100]],[tg[900],tg[700],tg[500],tg[300],tg[100]],[ng[900],ng[700],ng[500],ng[300],ng[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};wa(UO);var zO=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,a=e.width,s=e.triangle,l=e.styles,c=l===void 0?{}:l,f=e.className,p=f===void 0?"":f,m=cn(_a({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),v=function(_,b){md(_)&&n({hex:_,source:"hex"},b)};return Z.createElement("div",{style:m.card,className:"twitter-picker "+p},Z.createElement("div",{style:m.triangleShadow}),Z.createElement("div",{style:m.triangle}),Z.createElement("div",{style:m.body},vp(o,function(x,_){return Z.createElement(gp,{key:_,color:x,hex:x,style:m.swatch,onClick:v,onHover:r,focusStyle:{boxShadow:"0 0 4px "+x}})}),Z.createElement("div",{style:m.hash},"#"),Z.createElement(Nn,{label:null,style:{input:m.input},value:i.replace("#",""),onChange:v}),Z.createElement("div",{style:m.clear})))};zO.propTypes={width:qe.oneOfType([qe.string,qe.number]),triangle:qe.oneOf(["hide","top-left","top-right"]),colors:qe.arrayOf(qe.string),styles:qe.object};zO.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};wa(zO);var BO=function(e){var n=cn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return Z.createElement("div",{style:n.picker})};BO.propTypes={hsl:qe.shape({h:qe.number,s:qe.number,l:qe.number,a:qe.number})};BO.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var $O=function(e){var n=cn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return Z.createElement("div",{style:n.picker})};$O.propTypes={hsl:qe.shape({h:qe.number,s:qe.number,l:qe.number,a:qe.number})};$O.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var C$e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,a=e.hsv,s=function(v,x){if(v.hex)md(v.hex)&&n({hex:v.hex,source:"hex"},x);else if(v.rgb){var _=v.rgb.split(",");bA(v.rgb,"rgb")&&n({r:_[0],g:_[1],b:_[2],a:1,source:"rgb"},x)}else if(v.hsv){var b=v.hsv.split(",");bA(v.hsv,"hsv")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("",""),b[1]==1?b[1]=.01:b[2]==1&&(b[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsv"},x))}else if(v.hsl){var y=v.hsl.split(",");bA(v.hsl,"hsl")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("",""),p[1]==1?p[1]=.01:p[2]==1&&(p[2]=.01),n({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsl"},x))}},l=cn({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,f=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",p=Math.round(a.h)+", "+Math.round(a.s*100)+"%, "+Math.round(a.v*100)+"%";return Z.createElement("div",{style:l.wrap,className:"flexbox-fix"},Z.createElement("div",{style:l.fields},Z.createElement("div",{style:l.double},Z.createElement(Nn,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:s})),Z.createElement("div",{style:l.column},Z.createElement("div",{style:l.single},Z.createElement(Nn,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:s})),Z.createElement("div",{style:l.single},Z.createElement(Nn,{style:{input:l.input2,label:l.label2},label:"hsv",value:p,onChange:s})),Z.createElement("div",{style:l.single},Z.createElement(Nn,{style:{input:l.input2,label:l.label2},label:"hsl",value:f,onChange:s})))))},HO=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,a=e.hsv,s=e.hex,l=e.header,c=e.styles,f=c===void 0?{}:c,p=e.className,m=p===void 0?"":p,v=cn(_a({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},f));return Z.createElement("div",{style:v.picker,className:"google-picker "+m},Z.createElement("div",{style:v.head},l),Z.createElement("div",{style:v.swatch}),Z.createElement("div",{style:v.saturation},Z.createElement(E2,{hsl:o,hsv:a,pointer:BO,onChange:r})),Z.createElement("div",{style:v.body},Z.createElement("div",{style:v.controls,className:"flexbox-fix"},Z.createElement("div",{style:v.hue},Z.createElement(P0,{style:v.Hue,hsl:o,radius:"4px",pointer:$O,onChange:r}))),Z.createElement(C$e,{rgb:i,hsl:o,hex:s,hsv:a,onChange:r})))};HO.propTypes={width:qe.oneOfType([qe.string,qe.number]),styles:qe.object,header:qe.string};HO.defaultProps={width:652,styles:{},header:"Color picker"};wa(HO);var VO={},dG={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(dG);var hG=dG.exports,wA={};const T$e=YY(one);var G8;function pG(){return G8||(G8=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=T$e}(wA)),wA}var A$e=hG;Object.defineProperty(VO,"__esModule",{value:!0});var mG=VO.default=void 0,R$e=A$e(pG()),P$e=k,I$e=(0,R$e.default)((0,P$e.jsx)("path",{d:"M3 3h18v18H3z"}),"Square");mG=VO.default=I$e;function SA(t){const[e,n]=Z.useState(null),r=a=>{n(a.currentTarget)},i=()=>{n(null)},o=!!e;return k.jsxs("div",{children:[k.jsx(pE,{style:{color:Jw(t.color)},onClick:r,children:k.jsx(mG,{})}),k.jsx(M$,{open:o,anchorEl:e,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:k.jsx(v$e,{color:t.color,onChangeComplete:t.onChangeComplete})})]})}function L$e(){const t=tW();return k.jsx(bE,{sx:{height:1,width:1},children:k.jsx(_E,{children:k.jsxs(qn,{spacing:1,children:[k.jsx(An,{variant:"h6",children:" Legend"}),k.jsxs(g$,{children:[k.jsx(Os,{control:k.jsx(lm,{checked:t.detector,onChange:(e,n)=>t.update({detector:n})}),label:k.jsxs(qn,{direction:"row",children:[k.jsx(SA,{color:t.detectorColour,onChangeComplete:e=>t.update({detectorColour:e.rgb})}),k.jsx(An,{children:"Detector:"})]})}),k.jsx(Os,{control:k.jsx(lm,{checked:t.cameraTube,onChange:(e,n)=>t.update({cameraTube:n})}),label:k.jsxs(qn,{direction:"row",children:[k.jsx(SA,{color:t.cameraTubeColor,onChangeComplete:e=>t.update({cameraTubeColor:e.rgb})}),k.jsx(An,{children:"Camera Tube:"})]})}),k.jsx(Os,{control:k.jsx(lm,{checked:t.beamstop,onChange:(e,n)=>{t.update({beamstop:n}),t.update({qrange:n})}}),label:k.jsxs(qn,{direction:"row",children:[k.jsx(SA,{color:t.beamstopColor,onChangeComplete:e=>t.update({beamstopColor:e.rgb})}),k.jsx(An,{children:"Beamstop"})]})}),k.jsx(Os,{control:k.jsx(lm,{checked:t.qrange,onChange:(e,n)=>t.update({qrange:n})}),label:"Q range"}),k.jsx(Os,{control:k.jsx(lm,{checked:t.mask,onChange:(e,n)=>t.update({mask:n})}),label:"Mask"}),k.jsx(Os,{control:k.jsx(lm,{checked:t.calibrantInPlot,onChange:(e,n)=>t.update({calibrantInPlot:n})}),label:"Calibrant"})]}),k.jsxs($s,{children:[k.jsx(LI,{id:"demo-radio-buttons-group-label",children:"Axes:"}),k.jsxs(I$,{"aria-labelledby":"demo-radio-buttons-group-label",value:t.plotAxes,name:"radio-buttons-group",onChange:e=>t.update({plotAxes:e.target.value}),children:[k.jsx(Os,{value:hu.milimeter,control:k.jsx(Ig,{}),label:"Axes in mm"}),k.jsx(Os,{value:hu.pixel,control:k.jsx(Ig,{}),label:"Axes in pixels"}),k.jsx(Os,{value:hu.reciprocal,control:k.jsx(Ig,{}),label:"Axes in q(nm^-1)"})]})]})]})})})}var sa=(t=>(t.q="q",t.s="s",t.d="d",t))(sa||{});const Ch=p0(t=>({requested:"q",qUnits:au.nanmometres,sUnits:Wn.nanmometres,dUnits:Wn.nanmometres,requestedMin:null,requestedMax:null,updateRequested:e=>{t({requested:e})},updateRequestedRange:e=>{t({...e})},updateQUnits:e=>t({qUnits:e}),updateSUnits:e=>t({sUnits:e}),updateDUnits:e=>t({dUnits:e})}));function O$e(t){return k.jsx("svg",{style:{display:"grid",height:"40%",width:"90%",border:"solid black"},children:k.jsx("text",{x:"40%",y:"50%",children:t.message})})}function k$e(t){const e=t.visibleQRange.max-t.visibleQRange.min,n=t.requestedRange.max/e*100,r=t.requestedRange.min/e*100,i=t.visibleQRange.containsRange(t.requestedRange)?"green":"red";return k.jsxs("svg",{style:{display:"grid",height:"40%",width:"90%",border:"solid black"},children:[k.jsx("rect",{y:"0",x:"0",width:"100%",height:"50%",fill:i}),k.jsx("line",{x1:`${r}%`,y1:0,x2:`${r}%`,y2:"50%",style:{stroke:"black",strokeWidth:2}}),k.jsx("line",{x1:`${n}%`,y1:0,x2:`${n}%`,y2:"60%",style:{stroke:"black",strokeWidth:2}}),k.jsxs("text",{y:"60%",x:`${r}%`,children:[" ","Requested min"]}),k.jsx("text",{y:"80%",x:`${n}%`,children:"Requested max"})]})}const dM=t=>1/t,hM=t=>2*Math.PI/t;function N$e(t){const e=Ch(),n=Ch(p=>p.updateQUnits),r=Ch(p=>p.updateSUnits),i=Ch(p=>p.updateDUnits),o=p=>{n(p.target.value)},a=p=>{r(p.target.value)},s=p=>{i(p.target.value)};let l=t.qRange,c=null,f=null;return t.qRange&&(c=t.qRange.apply(dM),f=t.qRange.apply(hM),e.qUnits===au.angstroms&&(l=t.qRange.apply(mu)),e.sUnits===Wn.angstroms&&(c=c.apply(Ih)),e.dUnits===Wn.angstroms&&(f=f.apply(Ih))),k.jsx(Su,{flexGrow:1,children:k.jsx(Iue,{component:ip,children:k.jsxs(uue,{sx:{minWidth:50},"aria-label":"simple table",size:"small",children:[k.jsx(Uue,{children:k.jsxs(d_,{children:[k.jsx(vo,{children:"Values"}),k.jsx(vo,{align:"right",children:"Min"}),k.jsx(vo,{align:"right",children:"Max"}),k.jsx(vo,{align:"right",children:"Units"})]})}),k.jsxs(yue,{children:[k.jsxs(d_,{children:[k.jsx(vo,{component:"th",scope:"row",children:sa.q}),k.jsx(vo,{align:"right",children:l?l.min.toFixed(4):""}),k.jsx(vo,{align:"right",children:l?l.max.toFixed(4):""}),k.jsx(vo,{align:"right",children:k.jsxs($s,{children:[k.jsx(dc,{children:"q"}),k.jsxs(hc,{size:"small",label:"units",value:e.qUnits,onChange:o,children:[k.jsx($i,{value:au.nanmometres,children:au.nanmometres}),k.jsx($i,{value:au.angstroms,children:au.angstroms})]})]})})]},"q"),k.jsxs(d_,{children:[k.jsx(vo,{component:"th",scope:"row",children:sa.s}),k.jsx(vo,{align:"right",children:c?c.min.toFixed(4):""}),k.jsx(vo,{align:"right",children:c?c.max.toFixed(4):""}),k.jsx(vo,{align:"right",children:k.jsxs($s,{children:[k.jsx(dc,{children:"s"}),k.jsxs(hc,{size:"small",label:"units",value:e.sUnits,onChange:a,children:[k.jsx($i,{value:Wn.nanmometres,children:Wn.nanmometres}),k.jsx($i,{value:Wn.angstroms,children:Wn.angstroms})]})]})})]},"s"),k.jsxs(d_,{children:[k.jsx(vo,{component:"th",scope:"row",children:sa.d}),k.jsx(vo,{align:"right",children:f?f.min.toFixed(4):""}),k.jsx(vo,{align:"right",children:f?f.max.toFixed(4):""}),k.jsx(vo,{align:"right",children:k.jsxs($s,{children:[k.jsx(dc,{children:"d"}),k.jsxs(hc,{size:"small",label:"units",value:e.dUnits,onChange:s,children:[k.jsx($i,{value:Wn.nanmometres,children:Wn.nanmometres}),k.jsx($i,{value:Wn.angstroms,children:Wn.angstroms})]})]})})]},"d")]})]})})})}function D$e(t){const e=Ch(),n=Ch(l=>l.requestedMax&&l.requestedMin?new to(l.requestedMin,l.requestedMax):null);let r=null,i=null,o=n;const a=l=>{e.updateRequestedRange({requestedMax:wl(l.target.value)})},s=l=>{e.updateRequestedRange({requestedMin:wl(l.target.value)})};if(t.visableQRange&&t.fullQrange&&n)switch(e.requested){case sa.d:r=t.visableQRange.apply(hM),i=t.fullQrange.apply(hM),e.dUnits===Wn.angstroms&&(o=n.apply(mu));break;case sa.s:r=t.visableQRange.apply(dM),i=t.fullQrange.apply(dM),e.sUnits===Wn.angstroms&&(o=n.apply(mu));break;default:r=t.visableQRange,i=t.fullQrange,e.qUnits===au.angstroms&&(o=n.apply(Ih))}return k.jsx(Su,{sx:{flexGrow:1},children:k.jsx(bE,{sx:{height:1},children:k.jsx(_E,{children:k.jsxs(qn,{spacing:1,children:[k.jsx(An,{variant:"h6",children:" Results"}),k.jsx(Pg,{}),k.jsxs(qn,{direction:"row",spacing:3,children:[k.jsx(N$e,{qRange:t.visableQRange}),k.jsx(Pg,{orientation:"vertical"}),k.jsxs(qn,{flexGrow:2,children:[k.jsx(qn,{spacing:1,children:k.jsxs(qn,{direction:"row",spacing:1,children:[k.jsxs(qn,{spacing:1,children:[k.jsxs(An,{children:["Requested min ",e.requested," value:"," "]}),k.jsxs(An,{children:["Requested max ",e.requested," value:"," "]})]}),k.jsxs(qn,{spacing:1,children:[k.jsx(Ja,{type:"number",size:"small",value:e.requestedMin,onChange:s}),k.jsx(Ja,{type:"number",size:"small",value:e.requestedMax,onChange:a})]}),k.jsxs($s,{children:[k.jsx(LI,{children:"Requested Quantiy"}),k.jsxs(I$,{row:!0,value:e.requested,onChange:l=>e.updateRequested(l.target.value),children:[k.jsx(Os,{value:sa.q,control:k.jsx(Ig,{}),label:sa.q}),k.jsx(Os,{value:sa.s,control:k.jsx(Ig,{}),label:sa.s}),k.jsx(Os,{value:sa.d,control:k.jsx(Ig,{}),label:sa.d})]})]})]})}),(()=>r&&i&&o&&{}?k.jsx(k$e,{visibleQRange:r,fullQRange:i,requestedRange:o}):k.jsx(O$e,{message:"No solution"}))()]})]})]})})})})}const F$e=(t,e,n)=>{if(t<0||e<0||n<0)return null;const r=n*t/(4*Math.PI);return Math.abs(r)>=Math.sqrt(2)/2?null:Math.tan(2*Math.asin(r))*e},j8=(t,e,n,r,i)=>new nW(new ze(Math.cos(e),Math.sin(e)),new ze(i.centre.x??0,i.centre.y??0)).getPointAtDistance(1e3*(F$e(t,n,r)??0));function U$e(){const t=tW(),e=Lg(A=>{let R=A.angle,U=A.wavelength;return U&&A.wavelengthUnits===Wn.angstroms&&(U=mu(U)),R&&A.angleUnits===pl.degrees&&(R=Y7.degToRad(R)),{angle:R,cameraLength:A.cameraLength,minWavelength:A.minWavelength,maxWavelength:A.maxWavelength,minCameraLength:A.minCameraLength,maxCameraLength:A.maxCameraLength,cameraLengthStep:A.cameraLengthStep,wavelength:U}}),n=tc(A=>A.current),r=tu(A=>({centre:A.centre,diameter:A.diameter,clearance:A.clearance})),i=ph(A=>({centre:A.centre,diameter:A.diameter})),o=hRe(n,r,i,e),{ptMin:a,ptMax:s,visibleQRange:l,fullQRange:c}=o,f=A=>t.plotAxes===hu.milimeter?{resolution:{height:A.resolution.height*A.pixelSize.height,width:A.resolution.width*A.pixelSize.width},pixelSize:A.pixelSize}:A,p=(A,R)=>t.plotAxes===hu.milimeter?{centre:{x:(A.centre.x??0)*R.pixelSize.width,y:(A.centre.y??0)*R.pixelSize.height},diameter:A.diameter,clearance:(A.clearance??0)*R.pixelSize.height}:{centre:A.centre,diameter:A.diameter/R.pixelSize.height,clearance:A.clearance},m=(A,R)=>t.plotAxes===hu.milimeter?{centre:{x:(A.centre.x??0)*R.pixelSize.height,y:(A.centre.y??0)*R.pixelSize.width},diameter:A.diameter}:{centre:A.centre,diameter:A.diameter/R.pixelSize.height},v=(A,R,U)=>{const O=new ze(U.pixelSize.width,U.pixelSize.height);return t.plotAxes===hu.milimeter?{ptMin:A,ptMax:R}:{ptMin:A.divide(O),ptMax:R.divide(O)}},x=p(r,n),_=f(n),b=m(i,n),y=v(a,s,n),S=fRe(_,b,t.plotAxes),M=Ch(A=>!A.requestedMax||!A.requestedMin?null:to.createWithFunc(A.requestedMin,A.requestedMax,R=>{switch(A.requested){case sa.d:A.dUnits===Wn.angstroms&&(R=mu(R)),R=hM(R);break;case sa.s:A.sUnits===Wn.angstroms&&(R=mu(R)),R=dM(R);break;default:A.qUnits===au.angstroms&&(R=Ih(R))}return R}));let C=new ze(0,0),P=new ze(0,0);return M&&e.angle&&e.cameraLength&&e.wavelength&&(P=j8(M.max*1e9,e.angle,e.cameraLength,e.wavelength*1e-9,x),C=j8(M.min*1e9,e.angle,e.cameraLength,e.wavelength*1e-9,x)),k.jsx(Su,{children:k.jsxs(qn,{direction:"column",spacing:1,children:[k.jsxs(qn,{direction:"row",spacing:1,children:[k.jsx(bE,{children:k.jsx(_E,{children:k.jsx("div",{style:{display:"grid",height:"60vh",width:"60vh",border:"solid black"},children:k.jsxs(vAe,{showGrid:!0,abscissaConfig:{visDomain:[S.xAxis.min,S.xAxis.max],showGrid:!0},ordinateConfig:{visDomain:[S.yAxis.max,S.yAxis.min],showGrid:!0},children:[k.jsx(jTe,{}),k.jsx(KTe,{}),k.jsx(cRe,{points:[new K(x.centre.x??0,x.centre.y??0),new K((x.centre.x??0)+x.diameter/2,x.centre.y??0),new K(x.centre.x??0,(x.centre.y??0)+x.diameter/2+(x.clearance??0)),new K(b.centre.x??0,b.centre.y??0),new K(b.centre.x??0,(b.centre.y??0)+b.diameter/2),new K(0,0),new K(_.resolution.width,_.resolution.height),new K(y.ptMin.x,y.ptMin.y),new K(y.ptMax.x,y.ptMax.y),new K(C.x,C.y),new K(P.x,P.y)],children:(A,R,U,O,N,B,Y,J,G,ne,ie)=>k.jsxs(eO,{children:[t.cameraTube&&k.jsx(fA,{coords:[O,N],fill:Jw(t.cameraTubeColor),id:"camera tube"}),t.qrange&&t.beamstop&&k.jsx(uA,{coords:[J,G],stroke:"red",strokeWidth:2}),ne&&ie&&t.qrange&&k.jsx(uA,{coords:[ne,ie],stroke:"green",strokeWidth:2}),t.qrange&&t.beamstop&&ne&&ie&&k.jsx(uA,{coords:[A,J],stroke:"orange",strokeWidth:2}),t.beamstop&&t.qrange&&ne&&ie&&k.jsx(fA,{coords:[A,U],fill:"rgba(0, 0, 255, 0.2)",id:"clearance"}),t.beamstop&&k.jsx(fA,{coords:[A,R],fill:Jw(t.beamstopColor),id:"beamstop"}),t.detector&&k.jsx(eM,{coords:[B,Y],fill:Jw(t.detectorColour),id:"detector",stroke:"black",strokePosition:"outside",strokeWidth:0})]})})]})})})}),k.jsx(Su,{flexGrow:1,children:k.jsx(L$e,{})})]}),k.jsx(D$e,{visableQRange:l,fullQrange:c})]})})}var WO={},z$e=hG;Object.defineProperty(WO,"__esModule",{value:!0});var gG=WO.default=void 0,B$e=z$e(pG()),$$e=k,H$e=(0,B$e.default)((0,$$e.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");gG=WO.default=H$e;function V$e(){return k.jsxs(Su,{children:[k.jsx(b$,{children:k.jsx(Lle,{children:k.jsx(qn,{direction:"row",children:k.jsx(An,{flexGrow:3,children:"Nothing to see here (0_0)"})})})}),k.jsx(Pg,{})]})}function W$e(){const[t,e]=F.useState({menuOpen:!1}),n=c=>()=>{e({menuOpen:c})},r=Lg(c=>c.preset),i=tu(c=>c.updateBeamstop),o=ph(c=>c.updateCameraTube),a=Lg(c=>c.update),s=tc(c=>c.updateDetector),l=c=>{const{beamstop:f,cameraTube:p,detector:m,...v}=m1[c];s(m),i(f),o(p),a(v),a({preset:c})};return k.jsx(Su,{sx:{flexGrow:2},children:k.jsx(rre,{position:"static",children:k.jsxs(Wue,{children:[k.jsxs(F.Fragment,{children:[k.jsx(pE,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:n(!0),children:k.jsx(gG,{})}),k.jsx(mse,{anchor:"left",open:t.menuOpen,onClose:n(!1),children:k.jsx(Su,{sx:{width:250},role:"presentation",onClick:n(!1),children:k.jsx(V$e,{})})})]}),k.jsx(An,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Dedi Web"}),k.jsx(s$,{size:"small",disablePortal:!0,id:"combo-box-demo",options:Object.keys(m1),value:r,sx:{width:300,color:"white"},renderInput:c=>k.jsx(Ja,{...c,label:"choose beamline preset",sx:{color:"white"}}),onChange:(c,f)=>{f&&l(f)}})]})})})}function G$e(){return k.jsxs(Su,{children:[k.jsx(W$e,{}),k.jsxs(qn,{direction:"row",spacing:1,margin:1,children:[k.jsx(Su,{children:k.jsx(rde,{})}),k.jsx(qn,{direction:"column",spacing:1,flexGrow:1,children:k.jsx(U$e,{})})]})]})}EA.createRoot(document.getElementById("root")).render(k.jsx(Z.StrictMode,{children:k.jsx(G$e,{})}))});export default j$e();
